(function(){"use strict";var e={3602:function(e,a,l){var t=l(5130),s=l(8810),n=(l(4188),l(1387)),o=(l(4114),l(6768)),i=l(4232),u=l(144),c=l(7477);const r={class:"app-container"},d={class:"top-nav"},v={class:"container"},m={class:"nav-content"},p={class:"nav-actions"},k={class:"btn-text"},b={key:0},g={id:"home",class:"hero"},h={class:"hero-content"},f={class:"hero-text"},L={class:"hero-actions"},y={id:"features",class:"features"},_={class:"container"},F={class:"features-grid"},C={class:"feature-content"},w={class:"feature-icon"},R={class:"feature-title"},E={class:"feature-desc"},W={id:"pricing",class:"pricing"},A={class:"container"},x={class:"pricing-grid"},X={class:"pricing-header"},K={class:"plan-title"},S={class:"plan-price"},I={class:"price-amount"},D={class:"price-period"},V={class:"plan-features"},M={class:"plan-cta"},z={class:"footer"},T={class:"container"},U={class:"footer-content"},P={class:"footer-section"},Q={class:"footer-section"},N={class:"footer-section"},O={class:"social-links"},B={class:"newsletter"};var $={__name:"IndexLayout",setup(e){const a=(0,n.rd)(),l=(0,n.lq)(),s=(0,u.KR)(!1),$=(0,o.EW)(()=>"/"===l.path),G=(0,u.KR)(!1),j=[{id:1,icon:c.Position,title:"秒级响应",description:"百万级并发处理能力，信息数据秒级送达"},{id:2,icon:c.MostlyCloudy,title:"云端服务",description:"分布式架构设计，99.99%系统可用性"},{id:3,icon:c.Lock,title:"安全可靠",description:"金融级安全防护，数据加密传输"}],H=[{id:1,title:"基础版",price:"¥99",period:"/月",features:["十万级学生容量","基础API接口","邮件技术支持","基础数据分析"]},{id:2,title:"企业版",price:"¥299",period:"/月",features:["百万级学生容量","高级API接口","24/7技术支持","高级数据分析","自定义模板"]},{id:3,title:"旗舰版",price:"¥899",period:"/月",features:["千万级学生容量","VIP API接口","专属客户经理","高级安全保障","定制化解决方案"]}],q=e=>{const a=document.getElementById(e);a&&window.scrollTo({top:a.offsetTop-80,behavior:"smooth"})},J=()=>{window.scrollTo({top:0,behavior:"smooth"})},Y=()=>{const e=window.pageYOffset||document.documentElement.scrollTop;s.value=e>300},Z=()=>{if(G.value){const e=localStorage.getItem("userRole");switch(e){case"ADMIN":a.push("/admin");break;case"STUDENT":a.push("/student");break;case"TEACHER":a.push("/teacher");break;default:a.push("/student")}}else a.push("/login")};return(0,o.sV)(()=>{const e=localStorage.getItem("token");G.value=!!e,window.addEventListener("scroll",Y),window.particlesJS&&window.particlesJS("particles-js",{particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle"},opacity:{value:.5,random:!0},size:{value:3,random:!0},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:2,direction:"none",random:!0,straight:!1,out_mode:"out"}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"}}}})}),(0,o.hi)(()=>{window.removeEventListener("scroll",Y),window.pJSDom&&window.pJSDom.length>0&&(window.pJSDom[0].pJS.fn.vendors.destroypJS(),window.pJSDom=[])}),(e,a)=>{const l=(0,o.g2)("el-button"),n=(0,o.g2)("el-icon"),Y=(0,o.g2)("router-view"),ee=(0,o.g2)("el-input");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",d,[(0,o.Lk)("div",v,[(0,o.Lk)("div",m,[a[5]||(a[5]=(0,o.Lk)("div",{class:"nav-logo"},[(0,o.Lk)("span",{class:"logo-text"},"Lucky SMS"),(0,o.Lk)("span",{class:"logo-badge"},"PRO")],-1)),(0,o.Lk)("div",p,[(0,o.bF)(l,{type:"text",size:"large",class:"main-login-btn",onClick:Z},{default:(0,o.k6)(()=>[(0,o.Lk)("span",k,(0,i.v_)(G.value?"我的主页":"登录 / 注册"),1)]),_:1})])])])]),$.value?((0,o.uX)(),(0,o.CE)("div",b,[(0,o.Lk)("main",null,[(0,o.Lk)("section",g,[a[10]||(a[10]=(0,o.Lk)("div",{class:"particles",id:"particles-js"},null,-1)),(0,o.Lk)("div",h,[(0,o.Lk)("div",f,[a[8]||(a[8]=(0,o.Lk)("h1",{class:"hero-title"},[(0,o.Lk)("span",{class:"title-line"},"智能学生管理系统"),(0,o.Lk)("span",{class:"hero-subtitle-accent"},"创新科技，引领未来")],-1)),a[9]||(a[9]=(0,o.Lk)("p",{class:"hero-subtitle"},"高效、便捷的教育服务解决方案",-1)),(0,o.Lk)("div",L,[(0,o.bF)(l,{type:"primary",size:"large",onClick:a[0]||(a[0]=e=>q("features"))},{default:(0,o.k6)(()=>a[6]||(a[6]=[(0,o.eW)(" 了解功能 ")])),_:1,__:[6]}),(0,o.bF)(l,{type:"default",size:"large",onClick:a[1]||(a[1]=e=>q("pricing"))},{default:(0,o.k6)(()=>a[7]||(a[7]=[(0,o.eW)(" 查看价格 ")])),_:1,__:[7]})])])])]),(0,o.Lk)("section",y,[(0,o.Lk)("div",_,[a[11]||(a[11]=(0,o.Lk)("h2",{class:"section-title"},"核心功能",-1)),(0,o.Lk)("div",F,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(j,e=>(0,o.Lk)("div",{class:"feature-item",key:e.id},[(0,o.Lk)("div",C,[(0,o.Lk)("div",w,[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.icon)))]),_:2},1024)]),(0,o.Lk)("h3",R,(0,i.v_)(e.title),1),(0,o.Lk)("p",E,(0,i.v_)(e.description),1)])])),64))])])]),(0,o.Lk)("section",W,[(0,o.Lk)("div",A,[a[13]||(a[13]=(0,o.Lk)("h2",{class:"section-title"},"价格方案",-1)),(0,o.Lk)("div",x,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(H,e=>(0,o.Lk)("div",{class:(0,i.C4)(["pricing-card-wrapper",{"premium-card-wrapper":3===e.id}]),key:e.id},[(0,o.Lk)("div",{class:(0,i.C4)(["pricing-card",{"premium-card":3===e.id}])},[(0,o.Lk)("div",X,[(0,o.Lk)("h3",K,(0,i.v_)(e.title),1),(0,o.Lk)("div",S,[(0,o.Lk)("span",I,(0,i.v_)(e.price),1),(0,o.Lk)("span",D,(0,i.v_)(e.period),1)])]),(0,o.Lk)("div",V,[(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.features,e=>((0,o.uX)(),(0,o.CE)("li",{key:e},[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Check))]),_:1}),(0,o.eW)(" "+(0,i.v_)(e),1)]))),128))])]),(0,o.Lk)("div",M,[(0,o.bF)(l,{type:3===e.id?"success":"primary",size:"medium"},{default:(0,o.k6)(()=>a[12]||(a[12]=[(0,o.eW)(" 选择方案 ")])),_:2,__:[12]},1032,["type"])])],2)],2)),64))])])])])])):((0,o.uX)(),(0,o.Wv)(Y,{key:1})),(0,o.Lk)("footer",z,[(0,o.Lk)("div",T,[(0,o.Lk)("div",U,[a[20]||(a[20]=(0,o.Lk)("div",{class:"footer-section"},[(0,o.Lk)("h3",null,"Lucky SMS"),(0,o.Lk)("p",null,"高效、便捷的教育服务解决方案")],-1)),(0,o.Lk)("div",P,[a[14]||(a[14]=(0,o.Lk)("h3",null,"快速链接",-1)),(0,o.Lk)("ul",null,[(0,o.Lk)("li",{onClick:a[2]||(a[2]=e=>q("home"))},"Lucky-SMS"),(0,o.Lk)("li",{onClick:a[3]||(a[3]=e=>q("features"))},"功能服务"),(0,o.Lk)("li",{onClick:a[4]||(a[4]=e=>q("pricing"))},"价格方案")])]),(0,o.Lk)("div",Q,[a[18]||(a[18]=(0,o.Lk)("h3",null,"联系信息",-1)),(0,o.Lk)("ul",null,[(0,o.Lk)("li",null,[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Location))]),_:1}),a[15]||(a[15]=(0,o.Lk)("span",null,"江西科技师范大学（红角洲校区）",-1))]),(0,o.Lk)("li",null,[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Phone))]),_:1}),a[16]||(a[16]=(0,o.Lk)("span",null,"123-456-7890",-1))]),(0,o.Lk)("li",null,[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Message))]),_:1}),a[17]||(a[17]=(0,o.Lk)("span",null,"3555844679@qq.com",-1))])])]),(0,o.Lk)("div",N,[a[19]||(a[19]=(0,o.Lk)("h3",null,"关注我们",-1)),(0,o.Lk)("div",O,[(0,o.bF)(n,{size:24},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.ChatDotRound))]),_:1}),(0,o.bF)(n,{size:24},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Opportunity))]),_:1}),(0,o.bF)(n,{size:24},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Link))]),_:1}),(0,o.bF)(n,{size:24},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1})]),(0,o.Lk)("div",B,[(0,o.bF)(ee,{placeholder:"您的邮箱地址",size:"small"},{append:(0,o.k6)(()=>[(0,o.bF)(l,{icon:"ArrowRight"})]),_:1})])])]),a[21]||(a[21]=(0,o.Lk)("div",{class:"footer-bottom"},[(0,o.Lk)("p",null,"© 2025 Yangshengzhou. All Rights Reserved.")],-1))])]),(0,o.bF)(t.eB,{name:"fade"},{default:(0,o.k6)(()=>[(0,o.bo)((0,o.bF)(l,{class:"back-to-top",type:"primary",icon:(0,u.R1)(c.ArrowUp),onClick:J},null,8,["icon"]),[[t.aG,s.value]])]),_:1})])}}};const G=$;var j=G;const H="isDarkMode";function q(){const e=(0,u.KR)("true"===localStorage.getItem(H)),a=()=>{e.value=!e.value,localStorage.setItem(H,e.value)};return(0,o.nT)(()=>{document.documentElement.classList.toggle("dark",e.value),document.documentElement.style.setProperty("color-scheme",e.value?"dark":"light")}),(0,o.Gt)("darkMode",{isDarkMode:e,toggleDarkMode:a}),{isDarkMode:e,toggleDarkMode:a}}const J={class:"top-nav"},Y={class:"container"},Z={class:"nav-content"},ee={class:"nav-center"},ae={class:"nav-search"},le={class:"nav-right"},te=["title"],se={class:"notification-center"},ne={class:"body-container"},oe=["aria-hidden"],ie={class:"main-content"},ue={class:"breadcrumb-container"},ce={class:"router-view-container"},re={key:0,class:"content-loading"},de={key:1,class:"content-error"},ve={class:"error-message"},me={key:0,class:"mobile-bottom-nav"},pe=["onClick","aria-current"];var ke={__name:"StudentLayout",setup(e){const a=(0,n.rd)(),l=(0,n.lq)(),{isDarkMode:s,toggleDarkMode:r}=q(),d=[{index:"1",icon:c.Notebook,text:"学籍",path:"/status"},{index:"2",icon:c.Histogram,text:"成绩",path:"/grades"},{index:"3",icon:c.Calendar,text:"课表",path:"/schedule"},{index:"4",icon:c.Reading,text:"图书",path:"/library"}],v=(0,u.KR)(!1),m=(0,u.KR)(""),p=(0,u.KR)(""),k=(0,u.KR)(!1),b=(0,u.KR)(!1),g=(0,u.KR)(!1),h=(0,u.KR)(!1),f=(0,u.KR)(!1),L=(0,u.KR)(!1),y=(0,u.KR)(!1),_=(0,u.KR)(""),F=(0,u.KR)(3),C=(e,a="")=>{L.value=e,y.value=!e&&!!a,_.value=a||"加载失败，请重试"},w=(0,o.EW)(()=>!["/login"].includes(l.path)),R=(0,o.EW)(()=>{const e={"/student":"1","/student/status":"2","/student/grades":"3","/student/schedule":"4","/student/library":"5","/student/course":"6","/student/settings":"7"};return e[l.path]||"1"});(0,o.wB)(l,e=>{C(!0);const a=setTimeout(()=>{const l={"/student":"首页","/student/status":"学籍信息","/student/grades":"成绩查询","/student/schedule":"课表查询","/student/library":"图书借阅","/student/course":"选课系统","/student/settings":"系统设置","/login":"登录"};m.value=l[e.path]||"首页",C(!1),clearTimeout(a)},500)},{immediate:!0});const E=()=>{v.value=window.scrollY>300},W=e=>{a.push(e.path)},A=()=>{h.value=!h.value,document.body.style.overflow=h.value?"hidden":""},x=e=>{const l={1:"/student",2:"/student/status",3:"/student/grades",4:"/student/schedule",5:"/student/library",6:"/student/course",7:"/student/settings"};l[e]&&(a.push(l[e]),f.value&&(h.value=!1,document.body.style.overflow=""))},X=e=>{const a=document.querySelector(".user-area .el-popover"),l=document.querySelector(".notification-center .el-popover"),t=document.querySelector(".sidebar"),s=document.querySelector(".mobile-menu-btn");g.value&&a&&!a.contains(e.target)&&(g.value=!1),b.value&&l&&!l.contains(e.target)&&(b.value=!1),f.value&&h.value&&t&&s&&!t.contains(e.target)&&!s.contains(e.target)&&(h.value=!1,document.body.style.overflow="")},K=()=>{p.value.trim()&&console.log("搜索:",p.value)},S=()=>{b.value=!b.value},I=()=>{C(!0),setTimeout(()=>{C(!1)},1e3)},D=()=>{f.value=window.innerWidth<768,f.value&&(h.value=!1)};return(0,o.sV)(()=>{document.addEventListener("click",X),window.addEventListener("scroll",E),window.addEventListener("resize",D),D(),C(!0),setTimeout(()=>{C(!1)},800)}),(0,o.hi)(()=>{document.removeEventListener("click",X),window.removeEventListener("scroll",E),window.removeEventListener("resize",D)}),(e,a)=>{const n=(0,o.g2)("el-icon"),v=(0,o.g2)("el-input"),b=(0,o.g2)("el-badge"),g=(0,o.g2)("el-menu-item"),C=(0,o.g2)("el-menu"),E=(0,o.g2)("el-breadcrumb-item"),X=(0,o.g2)("el-breadcrumb"),D=(0,o.g2)("el-spinner"),V=(0,o.g2)("el-button"),M=(0,o.g2)("router-view"),z=(0,o.gN)("loading");return(0,o.uX)(),(0,o.CE)("div",{class:(0,i.C4)(["app-container",{"dark-mode":(0,u.R1)(s)}])},[(0,o.Lk)("header",J,[(0,o.Lk)("div",Y,[(0,o.Lk)("div",Z,[a[2]||(a[2]=(0,o.Lk)("div",{class:"nav-left"},[(0,o.Lk)("div",{class:"nav-logo"},[(0,o.Lk)("span",{class:"logo-text"},"Lucky SMS"),(0,o.Lk)("span",{class:"logo-badge"},"STU")])],-1)),(0,o.Lk)("div",ee,[(0,o.Lk)("div",ae,[(0,o.bF)(v,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),placeholder:"搜索课程/成绩/图书...",size:"small",class:(0,i.C4)(["search-input",{"focus-visible":k.value}]),onKeyup:(0,t.jR)(K,["enter"]),clearable:""},{prefix:(0,o.k6)(()=>[(0,o.bF)(n,{class:"search-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Search))]),_:1})]),_:1},8,["modelValue","class"])])]),(0,o.Lk)("div",le,[(0,o.Lk)("button",{class:"dark-mode-toggle action-btn",onClick:a[1]||(a[1]=(...e)=>(0,u.R1)(r)&&(0,u.R1)(r)(...e)),"aria-label":"切换暗色模式",title:(0,u.R1)(s)?"切换至日间主题":"切换至夜间主题"},[(0,o.bF)(n,{size:20,class:(0,i.C4)((0,u.R1)(s)?"icon-moon":"icon-sun")},{default:(0,o.k6)(()=>[(0,u.R1)(s)?((0,o.uX)(),(0,o.Wv)((0,u.R1)(c.Moon),{key:1})):((0,o.uX)(),(0,o.Wv)((0,u.R1)(c.Sunny),{key:0}))]),_:1},8,["class"])],8,te),(0,o.Lk)("div",se,[(0,o.bF)(b,{value:F.value,max:"99",hidden:0===F.value},{default:(0,o.k6)(()=>[(0,o.Lk)("button",{class:"notification-btn action-btn",onClick:S,"aria-label":"通知中心",title:"通知中心"},[(0,o.bF)(n,{size:20},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Bell))]),_:1})])]),_:1},8,["value","hidden"])]),f.value&&w.value?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"mobile-menu-btn action-btn",onClick:A,"aria-label":"移动端菜单",title:"菜单"},[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Menu))]),_:1})])):(0,o.Q3)("",!0)])])])]),(0,o.Lk)("div",ne,[w.value?((0,o.uX)(),(0,o.CE)("aside",{key:0,class:(0,i.C4)(["sidebar",{"sidebar-mobile-open":h.value}]),"aria-hidden":!h.value&&f.value},[(0,o.bF)(C,{"default-active":R.value,class:"sidebar-menu",onSelect:x,"background-color":"var(--sidebar-bg)","text-color":"var(--sidebar-text)","active-text-color":"var(--primary-color)"},{default:(0,o.k6)(()=>[(0,o.bF)(g,{index:"1"},{title:(0,o.k6)(()=>a[3]||(a[3]=[(0,o.eW)("首页")])),default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.House))]),_:1})]),_:1}),(0,o.bF)(g,{index:"2"},{title:(0,o.k6)(()=>a[4]||(a[4]=[(0,o.eW)("学籍信息")])),default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Notebook))]),_:1})]),_:1}),(0,o.bF)(g,{index:"3"},{title:(0,o.k6)(()=>a[5]||(a[5]=[(0,o.eW)("成绩查询")])),default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Histogram))]),_:1})]),_:1}),(0,o.bF)(g,{index:"4"},{title:(0,o.k6)(()=>a[6]||(a[6]=[(0,o.eW)("课表查询")])),default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Calendar))]),_:1})]),_:1}),(0,o.bF)(g,{index:"5"},{title:(0,o.k6)(()=>a[7]||(a[7]=[(0,o.eW)("图书借阅")])),default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Reading))]),_:1})]),_:1}),(0,o.bF)(g,{index:"6"},{title:(0,o.k6)(()=>a[8]||(a[8]=[(0,o.eW)("选课系统")])),default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.EditPen))]),_:1})]),_:1}),(0,o.bF)(g,{index:"7"},{title:(0,o.k6)(()=>a[9]||(a[9]=[(0,o.eW)("系统设置")])),default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Setting))]),_:1})]),_:1})]),_:1},8,["default-active"])],10,oe)):(0,o.Q3)("",!0),(0,o.Lk)("main",ie,[(0,o.Lk)("div",ue,[(0,o.bF)(X,{separator:"/",class:"breadcrumb"},{default:(0,o.k6)(()=>[(0,o.bF)(E,{to:{path:"/"}},{default:(0,o.k6)(()=>a[10]||(a[10]=[(0,o.eW)("Lucky-SMS")])),_:1,__:[10]}),(0,o.bF)(E,null,{default:(0,o.k6)(()=>[(0,o.eW)((0,i.v_)(m.value),1)]),_:1})]),_:1})]),(0,o.Lk)("div",ce,[L.value?((0,o.uX)(),(0,o.CE)("div",re,[(0,o.bF)(D,{size:"40",type:"ball-clip-rotate"}),(0,o.bo)((0,o.Lk)("div",null,null,512),[[z,L.value]])])):y.value?((0,o.uX)(),(0,o.CE)("div",de,[(0,o.bF)(n,{size:"60",class:"error-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Warning))]),_:1}),(0,o.Lk)("p",ve,(0,i.v_)(_.value),1),(0,o.bF)(V,{size:"small",type:"primary",onClick:I,round:""},{default:(0,o.k6)(()=>a[11]||(a[11]=[(0,o.eW)(" 点击重试 ")])),_:1,__:[11]})])):((0,o.uX)(),(0,o.Wv)(M,{key:2},{default:(0,o.k6)(({Component:e})=>[(0,o.bF)(t.eB,{name:"fade",mode:"out-in"},{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e)))]),_:2},1024)]),_:1}))])])]),f.value&&w.value?((0,o.uX)(),(0,o.CE)("nav",me,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(d,e=>(0,o.Lk)("button",{key:e.index,onClick:a=>W(e),class:(0,i.C4)({active:(0,u.R1)(l).path===e.path}),"aria-current":(0,u.R1)(l).path===e.path?"page":void 0},[(0,o.bF)(n,{size:20},{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.icon)))]),_:2},1024),(0,o.Lk)("span",null,(0,i.v_)(e.text),1)],10,pe)),64))])):(0,o.Q3)("",!0)],2)}}},be=l(1241);const ge=(0,be.A)(ke,[["__scopeId","data-v-165cee86"]]);var he=ge,fe=(l(4603),l(7566),l(8721),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAC0VJREFUeF7tne1Z4zoQRkdpZNlKLlRyoYOkAqACpwO4lSxbyYZGovs4CQsJSTwayZJsHf4y+npnjkdSbMkJfyiAAhcVcGiDAihwWQEAITpQ4IoCAEJ4oEAwIJ2/QTWFAiu3UViVNcGXev3P+PN7Bun8rXPyS19ru5bOy/N25Z5qVmCx9i9e5L7mPtbSN+/lp5xAAiAR3gGQCPEqLAogiZ0CIIkFLVwdgCR2AIAkFrRwdQCS2AEAkljQwtUBSGIHAEhiQQtXByCJHWAGpPO2XaWVew0dArtYesUARK+VytIKiFv7PyIS+lvTm1+6O1XHvhgBiF4xANFrpbIEEJVMkzECkMSuApDEghauDkASOwBAEgtauDoASewAAEksaOHqACSxAwAksaCFqxsVECfyKl7eC4/R3Lx38hhaeM6A9GML1aMWe+/kHxG5De3PqIB4Lw9i2KcPHcRY9m7tfWjdcwbEL91kvxVadP7J8sADkCsEAMixOACy1yPZ6+5kEH3+mcIPhQACIEcRTQYhgzDFYoqlTnNkEDIIGeQKLgACIAACIEcKMMViisUU69pDYcxDG9jFUseesIul18piye8gFtUGyrCLxS4WUyymWOpHC4t0Fuks0lmks0jXPjKZYjHFqnKKZQnMa0Fv3Syw9MP6sqIW2hR21m/SLVMs6+L4qj8NL01a+wEglaxBUgS+tg4A0SolAiAAoo4WMkgli3TL1IYpljrOhQyi14oMQgZRRwsZhAxSbJtXHaUJDMkgehHJIGQQdbSQQcggZJDEPxRat1fZ5k385GaRrk4ELNL1UrHNe00ry24aPxQeK0oGuZaSjcf+WAKTDKJ/LLJI12vFIj3xVI8MQgZR45fzHSgyiNotrEH0UrEGqWYNMoEbptjmZZu32DbvXD+5ZZHOIv0YKi/P25V7CsjiO1MA0SuWM5OxSK9kkQ4gAKJWoMVtXgBRh4eQQQzXDkx9FwtAAEStABlELVXWa6BzPrmvPvBa/+RWrFuel1V9k5XbqMPuYGgB1fpD4VwziHS+v9Up9P73664yXMpk3U2rcpEeGshj2QPIsbKWDDKWb0LrBZBQxRT2AAIgZBC2eRWPir0JGWSvA1ewsQY5Cw2AAMhRYDDFYoqlnWLdOCcvofdMW9/mVef8kQ0BBEB0gPQ6dT4YEgAJIHi/HRr6t7FsX+f8YCp0QGPZj7uL9dHrQEgAZCx3x9ULIHr99BnEAAmA6B2R0xJA9GqHAxIw3QIQvSNyWgKIXm0bIEpIAETviJyWAKJX2w6IAhIA0TsipyWA6NWOA+QTkl/nXkgDEL0jcloCiF7teEAGINF3ZR6W1rd5c47eCkjOPtbSVhpAgOSvPwGkltBO0490gADJziMAkiYwa6klLSBAAiC1RHaifqQHpHFIyCCJIrOSasYBpGFIAKSSyE7UjfEAaRQSMyCdt323bfjWnl0sPT3jAtIgJFZApnBogz6s5mM5PiCNQQIg84GjH0keQBqCBEAAxK7A/nuSs6+l2CutqySA1OWP2N7kyyAfPZ05JAASG5J1lc8PyMynWwBSV4DH9qYMIAOQOJHX2IGVKr/18p+s3Fto+zl3sfqjXRdO/gntY4v2Wy/Pp9/9fz8Xayxlzk+3Nn7pfo7VZK31ZgWkVhEm0q98gJzPJACiDxTT6e766rE8p0BeQL5DAiD6uAQQvVbJLPMDcgxJfwYsUyydOwFEp1NSqzKAfELy4pfuLumIJlAZa5AJOOnQxXKATEej5D0FkOSSjlYhgIwm7eWKAaSA6MYmAcQoXEwxAIlRL29ZAMmr9641ACkgurFJADEKF1MMQGLUy1sWQPLqTQYpoHdMkwASo56xLBnEKFyBYgBSQvS1/2O4T5wfCkv4qkCbQU0ebgs6ehvVefm9XbmnoIpE5HCAge3AhNDGrtvbbpgS2aTtxuXaTD/gdv7eOfk3Rx+dyGa7dA9n2zL243C+9JHG9WeQMzdd9a/IXxTnineMU5sc/q6uDcstt9arz4yDv5hRrf0o9z2IUYG/xTp/s3Dy6EXud9ukABKr6GB5ANlLVH8G+XBlD4nIvXfyCCCD8R1tACBTA6Tv7wEScfKDKVY0A1crAJApAnKAZLcDlO9T13EjsdLaAWSqgEQEFIt0vXgAAiD6aGnQEkAApMGw1w8ZQABEHy0NWgIIgDQY9vohAwiA6KOlQUsAAZAGw14/ZACZMyAXbnByTl4Mb9Hqo6pOS9PLmRZA+mNOnZPHHDI4kbeBlxWD++G93JU7ejSHah9tXDhV/tzLaDm7VaIt6xVsJkBKDHDkNqfzLlaoEGcgARC9iAAy5ynWhUwCIACiV6AFQPoxfskkAKIPDzJIK4B8geTcIkwfMtO0ZA0S57f5rkFOdfnY2TLcNR4ncdnSABKnfzuAxOk02dIAEuc6AInTr/rSABLnIgCJ06/60gAS5yIAidOv+tIAEuciAInTr/rSABLnIgCJ06/60gAS5yIAidOv+tIAEuciAInTz1S6P/mvP7ooqLCXd8txq9L5/pjT4Dd6F06OjnvV9HXr5bes3KvG9quNSY/QRhT2Wy/PbbzNqxCjpInxdJWsh1e7tfehGjkvzxaIjXqEdm/QfrpHjw4ObVoGxoAAkJHdDCAjC6ytHkCOlTLqoZVbbQcgaqnGNTQGBBlkXLcIgIwssLZ6ACGDaGOlSTsAAZAmA187aAABEG2sNGkHIADSZOBrBw0gAKKNlSbtAARAmgx87aABBEC0sdKkHYAASJOBrx00gACINlaatJsCIE065syged29QCQASAHRjU0CiFG4mGIAEqNe3rIAklfvXWsAUkB0Y5MAYhQuphiAxKiXtyyA5NWbDFJA75gmASRGPWNZt/a/Qr8Tv3qj0rV+XLhta7DrljOMc7aVacwAMhgp0zbIeapJf/iCN1zBlvpaipT9AJBpx/9g7wFkUKK/BnxRqNdqNpYAonclgOi1mo0lgOhdCSB6rWZjCSB6VwKIXqvZWAKI3pUAotdqNpYAonclgOi1mo0lgOhdCSB6rWZjCSB6VwKIXqvZWAKI3pUAotdqNpYAonclgOi1mo0lgOhdCSB6rWZjCSB6VwKIXquylp2/X5zcCrUV2Zhub1r7Fy9yHzogv3Th7+kZb7OyjEs6f7O4MC6/vx2rv1nr258TeRUv7+f+t+3/d/IWc7gIoUpjH65A52+ck9NX4k3XH+TMIOEDjSjR+duDRkGVeC8PIUACSJC8GY2/QwIgX+UHkIzBWGtTx5AACIDUGqkF+/UJycYv3V1oT5hiHSvGFCs0gqZg3y9InTxul+4htLsAAiChMdOUPYAASFMBHzpYAAGQ0Jhpyh5AAKSpgA8dLIAASGjMNGUPIADSVMCHDhZAACQ0ZpqyBxAAaSrgQwcLIAASGjNN2ecEJOWRn7U4iZcVa/HESP0AkDhhASROv+pLA0iciwAkTr/qSwNInIsAJE6/6ksDSJyLACROv+pLA0iciwAkTr/6S++/J3m59I32pQFYvklnF6v+cKCH5xQwQAIgeyHJIK0gFQgJgABIK2h8jjMAEgABkPYA6UeshARAAKRNQJSQAAiAtAuIAhIAAZC2ATlAsju+08mPUzEsJ6hIf2Tq/tjPsD8v77ujVUv/rdzraRfYxSrtFNoXt/Z/5OQs4hKycHh1CdVpc1ABABmUCIOWFQCQlr3P2AcVAJBBiTBoWQEAadn7jH1QAQAZlAiDlhUAkJa9z9gHFQCQQYkwaFkBAGnZ+4x9UAEAGZQIg5YVAJCWvc/YBxUAkEGJMGhZAQBp2fuMfViBzt8OG2WwWLm301Z4mzeD7jQxXQUAZLq+o+cZFACQDCLTxHQVAJDp+o6eZ1Dgf/V8IIwyAYcsAAAAAElFTkSuQmCC"),Le=l.p+"img/login-qr-code.203edff0.svg",ye=l(1219),_e=l(4373);const Fe=_e.A.create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json;charset=utf-8"}});Fe.interceptors.request.use(e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization=`Bearer ${a}`),"get"===e.method&&(e.params={...e.params,t:Date.now()}),e},e=>(console.error("请求错误:",e),Promise.reject(e))),Fe.interceptors.response.use(e=>{const a=e.data;return 200!==a.code?(ye.nk.error(a.message||"请求失败"),401===a.code&&(localStorage.removeItem("token"),ap.push("/login")),Promise.reject(new Error(a.message||"请求失败"))):a},e=>{let a="网络错误，请稍后重试";if(e.response)switch(e.response.status){case 401:a="登录过期，请重新登录",localStorage.removeItem("token"),ap.push("/login");break;case 403:a="没有权限访问";break;case 404:a="接口不存在";break;case 500:a="服务器内部错误";break;default:a=`请求错误: ${e.response.status}`}else a=e.request?"服务器无响应，请检查网络连接":"请求配置错误: "+e.message;return ye.nk.error(a),console.error("响应错误:",e),Promise.reject(e)});var Ce=Fe;const we={class:"login-page"},Re={class:"login-container"},Ee={class:"login-card"},We={key:0,class:"form-content"},Ae={class:"card-header"},xe={class:"welcome-text"},Xe={class:"login-subtitle"},Ke={class:"captcha-container"},Se={key:0},Ie={key:1},De={key:2,class:"alternative-login"},Ve={class:"social-icons"},Me={class:"login-options"},ze={key:0},Te={key:1},Ue={key:0,class:"qr-content"},Pe={class:"qr-card"};var Qe={__name:"LoginPage",setup(e){const a=(0,n.rd)(),l=(0,n.lq)(),s=(0,u.KR)(!1),r=(0,u.KR)(!1),d=(0,u.KR)("phone"),v=(0,u.KR)(!1),m=(0,u.KR)(0);let p=null;const k=(0,o.EW)(()=>m.value>0?`${m.value}秒后重试`:"获取验证码"),b=(0,u.Kh)({phone:"",password:""}),g=(0,u.Kh)({phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度在6-20个字符之间",trigger:"blur"}]}),h=(0,u.Kh)({phone:"",captcha:"",newPassword:""}),f=(0,u.Kh)({phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号格式",trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"},{len:6,message:"验证码长度为6位",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在3-20个字符之间",trigger:"blur"},{pattern:/^[a-zA-Z0-9_]+$/,message:"用户名只能包含字母、数字和下划线",trigger:"blur"}],agreement:[{validator:(e,a,l)=>{a?l():l(new Error("请同意用户协议和隐私政策"))},trigger:"change"}]}),L=(0,u.KR)(null),y=(0,u.KR)(null),_=()=>{s.value=!s.value},F=()=>h.phone?!!/^1[3-9]\d{9}$/.test(h.phone)||(ye.nk.warning("请输入正确的手机号格式"),!1):(ye.nk.warning("请输入手机号"),!1),C=async()=>{if(F())if(m.value>0)ye.nk.warning(`请等待${m.value}秒后重试`);else try{m.value=60,h.captcha="123456",p=setInterval(()=>{m.value--,m.value<=0&&(clearInterval(p),p=null)},1e3),ye.nk.success(`验证码已发送至 ${h.phone}`)}catch(e){ye.nk.error("验证码发送失败，请稍后重试")}},w=(e,l)=>{switch(l&&localStorage.setItem("token",l),e&&localStorage.setItem("userRole",e),ye.nk.success("登录成功！"),e){case"ADMIN":a.push("/admin");break;case"STUDENT":a.push("/student");break;case"TEACHER":a.push("/teacher");break;default:ye.nk.error("登录失败: 角色未定义");break}},R=async()=>{if(L.value)try{await L.value.validate(),r.value=!0;const e=new URLSearchParams;e.append("phone",b.phone),e.append("password",b.password);const a=await Ce.post("/login/password",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});200===a.code?w(a.date?.role,a.date?.token):ye.nk.error("登录失败: "+(a.message||"用户名或密码错误"))}catch(e){ye.nk.error("登录失败: "+(e.message||"网络异常，请稍后重试"))}finally{r.value=!1}},E=async()=>{if(y.value)try{const e=await new Promise(e=>{y.value.validate(a=>{e(a)})});if(!e)return void ye.nk.error("请填写完整的表单信息");r.value=!0;const a=new URLSearchParams;a.append("phone",h.phone),a.append("captcha",h.captcha);const l=await Ce.post("/login/phone",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});200===l.code?w(l.data?.role,l.data?.token):ye.nk.error("登录失败: "+(l.message||"手机号或验证码错误"))}catch(e){ye.nk.error("登录失败: "+(e.message||"网络异常，请稍后重试"))}finally{r.value=!1}},W=async()=>{if(y.value)try{const e=await new Promise(e=>{y.value.validate(a=>{e(a)})});if(!e)return void ye.nk.error("请填写完整的表单信息");r.value=!0;const a=new URLSearchParams;a.append("phone",h.phone),a.append("captcha",h.captcha),a.append("newPassword",h.newPassword);const l=await Ce.post("/resetPassword",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});200===l.code?(setTimeout(()=>{v.value=!1,h.captcha=""},1500),ye.nk.success("密码重置成功！")):ye.nk.error("密码重置失败: "+(l.message||"请稍后重试"))}catch(e){ye.nk.error("密码重置失败: "+(e.message||"网络异常，请稍后重试"))}finally{r.value=!1}};return(0,o.sV)(()=>{l.path,window.particlesJS&&window.particlesJS("login-particles",{particles:{number:{value:60,density:{enable:!0,value_area:800}},color:{value:"#3b82f6"},shape:{type:"circle"},opacity:{value:.5,random:!0},size:{value:3,random:!0},line_linked:{enable:!0,distance:150,color:"#3b82f6",opacity:.3,width:1},move:{enable:!0,speed:2,direction:"none",random:!0,straight:!1,out_mode:"out"}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"}}}})}),(0,o.hi)(()=>{p&&clearInterval(p)}),(e,a)=>{const l=(0,o.g2)("el-input"),n=(0,o.g2)("el-form-item"),p=(0,o.g2)("el-button"),w=(0,o.g2)("el-link"),A=(0,o.g2)("el-divider"),x=(0,o.g2)("ChatDotRound"),X=(0,o.g2)("el-icon"),K=(0,o.g2)("Iphone"),S=(0,o.g2)("el-form");return(0,o.uX)(),(0,o.CE)("div",we,[a[18]||(a[18]=(0,o.Lk)("div",{class:"particles",id:"login-particles"},null,-1)),(0,o.Lk)("div",Re,[(0,o.Lk)("div",Ee,[s.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,i.C4)(["qr-corner",{active:s.value}]),onClick:_},a[10]||(a[10]=[(0,o.Lk)("img",{src:fe,alt:"扫码登录",class:"qr-icon"},null,-1)]),2)),(0,o.bF)(t.eB,{name:"fade"},{default:(0,o.k6)(()=>[s.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",We,[(0,o.Lk)("div",Ae,[(0,o.Lk)("h2",xe,(0,i.v_)(v.value?"重置密码":"欢迎回来"),1),(0,o.Lk)("p",Xe,(0,i.v_)(v.value?"重置您的密码":"Lucky SMS学生管理系统"),1)]),"phone"===d.value?((0,o.uX)(),(0,o.Wv)(S,{key:0,ref_key:"phoneFormRef",ref:y,model:h,rules:f,class:"login-form",onKeyup:a[5]||(a[5]=(0,t.jR)(e=>v.value?W():E(),["enter"]))},{default:(0,o.k6)(()=>[(0,o.bF)(n,{prop:"phone",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)(l,{modelValue:h.phone,"onUpdate:modelValue":a[0]||(a[0]=e=>h.phone=e),placeholder:"输入手机号",size:"large","prefix-icon":(0,u.R1)(c.Phone),clearable:"",class:"custom-input",maxlength:"11",onBlur:F},null,8,["modelValue","prefix-icon"])]),_:1}),(0,o.bF)(n,{prop:"captcha",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Ke,[(0,o.bF)(l,{modelValue:h.captcha,"onUpdate:modelValue":a[1]||(a[1]=e=>h.captcha=e),placeholder:"输入验证码",size:"large","prefix-icon":(0,u.R1)(c.Key),class:"custom-input captcha-input",maxlength:"6"},null,8,["modelValue","prefix-icon"]),(0,o.bF)(p,{type:"primary",size:"large",class:"captcha-btn",disabled:m.value>0,onClick:C},{default:(0,o.k6)(()=>[(0,o.eW)((0,i.v_)(k.value),1)]),_:1},8,["disabled"])])]),_:1}),v.value?((0,o.uX)(),(0,o.Wv)(n,{key:0,prop:"password",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)(l,{modelValue:h.newPassword,"onUpdate:modelValue":a[2]||(a[2]=e=>h.newPassword=e),placeholder:"设置新密码",size:"large","prefix-icon":(0,u.R1)(c.Lock),clearable:"","show-password":"",class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1})):(0,o.Q3)("",!0),v.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(n,{key:1,class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)(w,{type:"primary",onClick:a[3]||(a[3]=e=>d.value="account"),underline:!1,class:"alternative-link"},{default:(0,o.k6)(()=>a[11]||(a[11]=[(0,o.eW)(" 使用账号密码登录 ")])),_:1,__:[11]})]),_:1})),(0,o.bF)(p,{type:"primary",size:"large",class:"login-btn",onClick:a[4]||(a[4]=e=>v.value?W():E()),loading:r.value},{default:(0,o.k6)(()=>[r.value?((0,o.uX)(),(0,o.CE)("span",Ie,(0,i.v_)("请稍等"))):((0,o.uX)(),(0,o.CE)("span",Se,(0,i.v_)(v.value?"重置密码":"登录/注册"),1))]),_:1},8,["loading"]),v.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",De,[(0,o.bF)(A,null,{default:(0,o.k6)(()=>a[12]||(a[12]=[(0,o.eW)("其他登录方式")])),_:1,__:[12]}),(0,o.Lk)("div",Ve,[(0,o.bF)(p,{type:"default",circle:"",class:"social-icon"},{default:(0,o.k6)(()=>[(0,o.bF)(X,null,{default:(0,o.k6)(()=>[(0,o.bF)(x)]),_:1})]),_:1}),(0,o.bF)(p,{type:"default",circle:"",class:"social-icon"},{default:(0,o.k6)(()=>[(0,o.bF)(X,null,{default:(0,o.k6)(()=>[(0,o.bF)(K)]),_:1})]),_:1})])]))]),_:1},8,["model","rules"])):(0,o.Q3)("",!0),"account"===d.value?((0,o.uX)(),(0,o.Wv)(S,{key:1,ref_key:"loginFormRef",ref:L,model:b,rules:g,class:"login-form",onKeyup:(0,t.jR)(R,["enter"])},{default:(0,o.k6)(()=>[(0,o.bF)(n,{prop:"phone",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)(l,{modelValue:b.phone,"onUpdate:modelValue":a[6]||(a[6]=e=>b.phone=e),placeholder:"输入手机号",size:"large","prefix-icon":(0,u.R1)(c.User),clearable:"",class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1}),(0,o.bF)(n,{prop:"password",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)(l,{modelValue:b.password,"onUpdate:modelValue":a[7]||(a[7]=e=>b.password=e),placeholder:"输入密码",size:"large","prefix-icon":(0,u.R1)(c.Lock),clearable:"","show-password":"",class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1}),(0,o.Lk)("div",Me,[(0,o.bF)(w,{type:"primary",onClick:a[8]||(a[8]=e=>d.value="phone"),underline:!1,class:"register-text"},{default:(0,o.k6)(()=>a[13]||(a[13]=[(0,o.eW)(" 立即注册 ")])),_:1,__:[13]}),(0,o.bF)(w,{type:"primary",underline:!1,class:"forgot-password",onClick:a[9]||(a[9]=e=>{v.value=!0,d.value="phone"})},{default:(0,o.k6)(()=>a[14]||(a[14]=[(0,o.eW)(" 忘记密码? ")])),_:1,__:[14]})]),(0,o.bF)(p,{type:"primary",size:"large",class:"login-btn",onClick:R,loading:r.value},{default:(0,o.k6)(()=>[r.value?((0,o.uX)(),(0,o.CE)("span",Te,"登录中...")):((0,o.uX)(),(0,o.CE)("span",ze,"登录"))]),_:1},8,["loading"])]),_:1},8,["model","rules"])):(0,o.Q3)("",!0)]))]),_:1}),(0,o.bF)(t.eB,{name:"fade"},{default:(0,o.k6)(()=>[s.value?((0,o.uX)(),(0,o.CE)("div",Ue,[(0,o.Lk)("div",Pe,[a[16]||(a[16]=(0,o.Lk)("div",{class:"qr-code-container"},[(0,o.Lk)("img",{src:Le,alt:"扫码登录",class:"qr-image"})],-1)),a[17]||(a[17]=(0,o.Lk)("div",{class:"qr-text-container"},[(0,o.Lk)("h3",null,"扫码登录"),(0,o.Lk)("p",null,"使用Lucky SMS APP扫描二维码")],-1)),(0,o.bF)(p,{type:"text",class:"back-btn",onClick:_},{default:(0,o.k6)(()=>[(0,o.bF)(X,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.ArrowLeft))]),_:1}),a[15]||(a[15]=(0,o.eW)(" 返回账号登录 "))]),_:1,__:[15]})])])):(0,o.Q3)("",!0)]),_:1})])])])}}};const Ne=(0,be.A)(Qe,[["__scopeId","data-v-7289ab1e"]]);var Oe=Ne,Be=(l(8111),l(2489),l(47)),$e=l(2557);const Ge={class:"welcome-section modern-card"},je={class:"username"},He={class:"subtitle"},qe={class:"info-cards"},Je={class:"modern-card score-card"},Ye={class:"card-header"},Ze={key:0,class:"card-badge"},ea={class:"card-content"},aa={class:"gpa"},la={class:"value"},ta={class:"progress-container"},sa={class:"progress-labels"},na={class:"modern-card course-card"},oa={class:"card-header"},ia={class:"card-content"},ua={class:"course-count"},ca={class:"highlight"},ra={class:"next-course"},da={class:"course-time"},va={class:"course-name"},ma={class:"course-location"},pa={class:"modern-card todo-card"},ka={class:"card-header"},ba={class:"card-content"},ga={class:"todo-list"},ha={class:"todo-content"},fa={class:"todo-meta"},La={key:1,class:"empty-todos"},ya={class:"empty-icon"},_a={class:"modern-card announcements"},Fa={class:"section-header"},Ca={class:"announcement-list"},wa=["onClick"],Ra={class:"announcement-content"},Ea={class:"title"},Wa={class:"meta"},Aa={class:"date"},xa={class:"department"},Xa={key:1,class:"empty-announcements"},Ka={class:"empty-icon"};var Sa={__name:"HomePage",setup(e){const a=(0,u.KR)(null),l=(0,u.KR)(null),t=(0,u.KR)(!0),s=(0,u.KR)(null),n=(0,o.EW)(()=>a.value?.todos?a.value.todos.filter(e=>!e.completed).length:0),r=(0,o.EW)(()=>a.value?.todos?a.value.todos.filter(e=>!e.completed).slice(0,4):[]),d=(0,o.EW)(()=>a.value?.class_rank&&a.value?.classSize?100*(1-(a.value.class_rank-1)/a.value.classSize):0),v=async e=>{const a=e.completed;try{ye.nk.success("待办事项已更新")}catch(l){e.completed=a,ye.nk.error("更新失败，请重试"),console.error("更新待办事项失败:",l)}},m=e=>{console.log("查看公告:",e),ye.nk.info(`查看公告: ${e.title}`)},p=e=>e?.replace(/-/g,".")||"--",k=e=>e?.replace("-"," - ")||"--",b=e=>{if(!e)return null;const a=new Date;a.setHours(0,0,0,0);const l=new Date(e);l.setHours(0,0,0,0);const t=l-a,s=Math.ceil(t/864e5);return s},g=e=>{if(!e)return"--";const a=b(e);return null===a?e:a<0?`已过期${Math.abs(a)}天`:0===a?"今天":1===a?"明天":a<=7?`${a}天后`:p(e)},h=e=>{const a=b(e);return null!==a&&a<=1},f=e=>{const a=b(e);return null!==a&&a<0},L=e=>{if(!e)return"info";const a=b(e);return null===a?"info":a<0||0===a?"danger":1===a||a<=3?"warning":"success"},y=e=>{const a={important:"重要",notice:"通知",info:"资讯",activity:"活动"};return a[e]||"公告"},_=()=>{ye.nk.info("功能正在建设中")},F=e=>{document.documentElement.style.setProperty("--mouse-x",`${e.clientX}px`),document.documentElement.style.setProperty("--mouse-y",`${e.clientY}px`)},C=async()=>{t.value=!0,s.value=null;try{const e=await Ce.get("/student/home");if(console.log(e),200!==e.code)throw new Error(e.message||"获取数据失败");a.value=e.data.student||{},l.value=e.data.announcements||[]}catch(e){s.value="获取数据失败，请稍后重试",console.error("获取数据失败:",e),a.value={username:"--",student_no:"2025CS0002",class_name:"示例班级",gpa:"4.00",class_rank:"1",classSize:"2",course_count:"1",nextCourse:{id:"CS301",name:"数据结构与算法",time:"08:00-09:40",location:"计算机楼A305",teacher:"李教授",day:"周一"},todos:[{id:1,text:"完成数据结构作业第三章",completed:!1,dueDate:"2025-06-24",important:!0,category:"作业"},{id:2,text:"完成数据库原理作业第二章",completed:!1,dueDate:"2025-06-25",important:!1,category:"作业"},{id:3,text:"完成数据结构作业第二章",completed:!1,dueDate:"2025-06-25",important:!1,category:"作业"},{id:4,text:"提交数学建模报告",completed:!1,dueDate:"2025-06-20",important:!0,category:"报告"}]},l.value=[{id:"ann5",title:"校园招聘信息",content:"多家知名企业将于下周来校招聘，欢迎大四同学参加...",date:"2025-12-11",department:"就业指导中心",type:"info",priority:"low"}]}finally{t.value=!1}};return(0,o.sV)(()=>{C()}),(0,o.hi)(()=>{document.querySelector(".student-home")?.removeEventListener("mousemove",F)}),(e,t)=>{const s=(0,o.g2)("el-icon"),b=(0,o.g2)("el-progress"),C=(0,o.g2)("el-tag"),w=(0,o.g2)("el-checkbox"),R=(0,o.g2)("el-scrollbar");return(0,o.uX)(),(0,o.CE)("div",{class:"student-home",onMousemove:F},[(0,o.Lk)("div",null,[(0,o.Lk)("div",Ge,[(0,o.Lk)("h2",null,[t[0]||(t[0]=(0,o.eW)("欢迎回来，")),(0,o.Lk)("span",je,(0,i.v_)(a.value?.username||"--"),1),t[1]||(t[1]=(0,o.eW)(" 👋"))]),(0,o.Lk)("p",He,"学号："+(0,i.v_)(a.value?.student_no||"--")+" | 班级："+(0,i.v_)(a.value?.class_name||"--"),1)]),(0,o.Lk)("div",qe,[(0,o.Lk)("div",Je,[(0,o.Lk)("div",Ye,[(0,o.Lk)("h3",null,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Trophy))]),_:1}),t[2]||(t[2]=(0,o.eW)(" 学业成绩"))]),a.value?.class_rank&&a.value.class_rank<=3?((0,o.uX)(),(0,o.CE)("div",Ze,"TOP "+(0,i.v_)(a.value.class_rank),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",ea,[(0,o.Lk)("div",aa,[(0,o.Lk)("span",la,(0,i.v_)(a.value?.gpa||"--"),1),t[3]||(t[3]=(0,o.Lk)("span",{class:"label"},"平均绩点",-1))]),(0,o.Lk)("div",ta,[(0,o.bF)(b,{percentage:d.value,"show-text":!1,"stroke-width":8,color:"#e6a23c"},null,8,["percentage"]),(0,o.Lk)("div",sa,[t[4]||(t[4]=(0,o.Lk)("span",null,"班级排名",-1)),(0,o.Lk)("span",null,(0,i.v_)(a.value?.class_rank||"--")+" / "+(0,i.v_)(a.value?.classSize||"--"),1)])])])]),(0,o.Lk)("div",na,[(0,o.Lk)("div",oa,[(0,o.Lk)("h3",null,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Notebook))]),_:1}),t[5]||(t[5]=(0,o.eW)(" 我的课程"))])]),(0,o.Lk)("div",ia,[(0,o.Lk)("div",ua,[(0,o.Lk)("span",ca,(0,i.v_)(a.value?.course_count||"--"),1),t[6]||(t[6]=(0,o.eW)(" 门课程进行中 "))]),(0,o.Lk)("div",ra,[(0,o.Lk)("div",da,(0,i.v_)(a.value?.nextCourse?k(a.value?.nextCourse?.time):"--"),1),(0,o.Lk)("div",va,(0,i.v_)(a.value?.nextCourse?.name||"暂无课程"),1),(0,o.Lk)("div",ma,(0,i.v_)(a.value?.nextCourse?.location||"待定教室"),1)])])]),(0,o.Lk)("div",pa,[(0,o.Lk)("div",ka,[(0,o.Lk)("h3",null,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.List))]),_:1}),t[7]||(t[7]=(0,o.eW)(" 待办事项"))]),n.value>0?((0,o.uX)(),(0,o.Wv)(C,{key:0,size:"small",type:"danger"},{default:(0,o.k6)(()=>[(0,o.eW)((0,i.v_)(n.value)+" 项待完成 ",1)]),_:1})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",ba,[(0,o.Lk)("div",ga,[a.value?.todos&&a.value.todos.length?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(r.value,e=>((0,o.uX)(),(0,o.CE)("div",{class:(0,i.C4)(["todo-item",{urgent:h(e.dueDate),overdue:f(e.dueDate),completed:e.completed}]),key:e.id},[(0,o.bF)(w,{modelValue:e.completed,"onUpdate:modelValue":a=>e.completed=a,onChange:a=>v(e)},null,8,["modelValue","onUpdate:modelValue","onChange"]),(0,o.Lk)("div",ha,[(0,o.Lk)("span",null,(0,i.v_)(e.text),1),(0,o.Lk)("div",fa,[(0,o.bF)(C,{size:"small",type:L(e.dueDate),effect:"plain"},{default:(0,o.k6)(()=>[(0,o.eW)((0,i.v_)(g(e.dueDate)),1)]),_:2},1032,["type"]),e.important?((0,o.uX)(),(0,o.Wv)(s,{key:0,color:"#F56C6C"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.StarFilled))]),_:1})):(0,o.Q3)("",!0)])])],2))),128)):((0,o.uX)(),(0,o.CE)("div",La,[(0,o.Lk)("div",ya,[(0,o.bF)(s,{size:"48"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Document))]),_:1})]),(0,o.bF)((0,u.R1)(Be.S2),{type:"primary",onClick:_,class:"empty-button"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Plus))]),_:1}),t[8]||(t[8]=(0,o.eW)(" 添加第一个待办事项 "))]),_:1,__:[8]})]))])])])]),(0,o.Lk)("div",_a,[(0,o.Lk)("div",Fa,[(0,o.Lk)("h3",null,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Bell))]),_:1}),t[9]||(t[9]=(0,o.eW)(" 校园公告"))]),(0,o.bF)((0,u.R1)($e.C4),{type:"primary",underline:!1},{default:(0,o.k6)(()=>t[10]||(t[10]=[(0,o.eW)("查看更多")])),_:1,__:[10]})]),(0,o.bF)(R,null,{default:(0,o.k6)(()=>[(0,o.Lk)("div",Ca,[l.value?.length?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(l.value,e=>((0,o.uX)(),(0,o.CE)("div",{class:"announcement-item",key:e.id,onClick:a=>m(e)},[(0,o.bF)(C,{class:"announcement-tag",size:"small",type:e.type||"info"},{default:(0,o.k6)(()=>[(0,o.eW)((0,i.v_)(y(e.type)),1)]),_:2},1032,["type"]),(0,o.Lk)("div",Ra,[(0,o.Lk)("div",Ea,(0,i.v_)(e.title),1),(0,o.Lk)("div",Wa,[(0,o.Lk)("span",Aa,(0,i.v_)(p(e.date)),1),(0,o.Lk)("span",xa,(0,i.v_)(e.department),1)])]),(0,o.bF)(s,{class:"arrow"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.ArrowRight))]),_:1})],8,wa))),128)):((0,o.uX)(),(0,o.CE)("div",Xa,[(0,o.Lk)("div",Ka,[(0,o.bF)(s,{size:"48"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Bell))]),_:1})]),(0,o.bF)((0,u.R1)($e.C4),{type:"primary",underline:!1,class:"empty-button"},{default:(0,o.k6)(()=>t[11]||(t[11]=[(0,o.eW)(" 查看历史公告 ")])),_:1,__:[11]})]))])]),_:1})])])],32)}}};const Ia=(0,be.A)(Sa,[["__scopeId","data-v-3a841d3a"]]);var Da=Ia,Va=(l(1701),l(8237),l(3456));const Ma={class:"dashboard-content"},za={class:"status-main"},Ta={class:"status-indicator"},Ua={class:"status-badge"},Pa={class:"status-meta"},Qa={class:"meta-item"},Na={class:"meta-item"},Oa={class:"status-stats"},Ba={class:"stat-card"},$a={class:"stat-value counter"},Ga={class:"stat-progress"},ja={class:"stat-card"},Ha={class:"stat-value counter"},qa={class:"stat-progress"},Ja={class:"stat-card"},Ya={class:"stat-value"},Za={class:"stat-rating"},el={class:"charts-container"},al={class:"card-header"},ll={class:"progress-indicator"},tl={class:"progress-text"},sl={class:"chart-wrapper"},nl={class:"credit-chart"},ol={class:"doughnut-chart"},il={class:"credit-info"},ul={class:"credit-detail"},cl={class:"detail-value"},rl={class:"credit-detail"},dl={class:"detail-value"},vl={class:"chart-wrapper"},ml={class:"trend-chart"};var pl={__name:"StatusPage",setup(e){const a=(0,u.KR)(null),l=(0,u.KR)(null),t=(0,u.KR)(null),s=(0,u.KR)(null),n=(0,u.KR)(null),r=(0,o.WQ)("isDarkMode",(0,u.KR)(!1)),d={ACTIVE:{label:"在读",type:"success",color:"#10b981"},GRADUATED:{label:"已毕业",type:"primary",color:"#6366f1"},SUSPENDED:{label:"休学",type:"warning",color:"#f59e0b"},TRANSFERRED:{label:"转学",type:"info",color:"#3b82f6"},LEAVE_SICK:{label:"病假",type:"warning",color:"#f59e0b"},LEAVE_PERSONAL:{label:"事假",type:"warning",color:"#f59e0b"},DROP_OUT:{label:"退学",type:"danger",color:"#ef4444"}},v=(0,u.KR)("ACTIVE"),m=(0,u.KR)("2022-09-01"),p=(0,u.KR)("2026-06-30"),k=(0,u.KR)(70),b=(0,u.KR)(140),g=(0,u.KR)(99),h=(0,u.KR)("良好"),f=(0,u.KR)(!1),L=(0,u.KR)(null),y=(0,u.KR)([]);let _=null,F=null;const C=async()=>{f.value=!0,L.value=null;try{const e=await Ce.get("/student/status");if(200!==e.code)throw new Error(e.message||"获取数据失败");{const a=e.data;v.value=a.basicInfo.status||"ACTIVE",k.value=a.basicInfo.completedCredits||0,b.value=a.basicInfo.totalCredits||140,m.value=a.basicInfo.enrollmentDate||"--",p.value=a.basicInfo.expectedGraduationDate||"--";const l=parseFloat(a.basicInfo.gpa||0);h.value=l>=3.7?"优秀":l>=3?"良好":l>=2?"中等":l>=1?"及格":"不及格",g.value=Math.min(95,Math.max(60,Math.round(25*l+10*Math.random()))),a.academicHistory&&a.academicHistory.length>0&&(y.value=a.academicHistory,g.value=a.academicHistory[a.academicHistory.length-1].attendanceRate||g.value),R()}}catch(e){L.value="获取数据失败，使用模拟数据",console.error("获取学生状态失败:",e),ye.nk.warning("获取学籍状态失败，显示模拟数据"),w()}finally{f.value=!1}},w=()=>{const e={basicInfo:{status:"ACTIVE",gpa:"0.00",totalCredits:140,completedCredits:0,enrollmentDate:"2021-01-01",expectedGraduationDate:"2025"},academicHistory:null};v.value=e.basicInfo.status||"ACTIVE",k.value=e.basicInfo.completedCredits||0,b.value=e.basicInfo.totalCredits||140,m.value=e.basicInfo.enrollmentDate||"2022-09-01",p.value=e.basicInfo.expectedGraduationDate||"";const a=parseFloat(e.basicInfo.gpa||0);h.value=a>=3.7?"优秀":a>=3?"良好":a>=2?"中等":a>=1?"及格":"不及格",g.value=e.academicHistory&&e.academicHistory.length>0?e.academicHistory[e.academicHistory.length-1].attendanceRate:96,y.value=e.academicHistory||[],R()},R=()=>{if(_&&_.data&&_.data.datasets&&(_.data.datasets[0].data=[k.value,b.value-k.value],_.update()),F&&F.data&&F.data.datasets){const e=y.value.map(e=>e.semester),a=y.value.map(e=>e.attendanceRate);e.push("当前"),a.push(g.value),F.data.labels=e,F.data.datasets[0].data=a,F.update()}},E=e=>{document.documentElement.style.setProperty("--mouse-x",`${e.clientX}px`),document.documentElement.style.setProperty("--mouse-y",`${e.clientY}px`)},W=(0,o.EW)(()=>Math.round(k.value/b.value*100)),A=(0,o.EW)(()=>{const e=W.value;return e<30?"#ef4444":e<60?"#f59e0b":"#10b981"}),x=(0,o.EW)(()=>{const e=g.value;return e<70?"#ef4444":e<90?"#f59e0b":"#10b981"}),X=e=>{const a={"优秀":5,"良好":4,"中等":3,"及格":2,"不及格":1};return a[e]||3},K=(0,o.EW)(()=>r.value?["rgba(255, 255, 255, 0.3)","#f7ba1e","#f7ba1e","#f7ba1e","#10b981"]:["rgba(0, 0, 0, 0.2)","#3b82f6","#3b82f6","#10b981","#10b981"]),S=e=>e?new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"-"):"--",I=()=>{(0,o.dY)(()=>{if(!s.value||!n.value)return void console.error("Canvas elements not found");const e=s.value.getContext("2d");if(!e)return void console.error("Failed to get credit chart context");_=new Va.Ay(e,{type:"doughnut",data:{labels:["已修","剩余"],datasets:[{data:[k.value,b.value-k.value],backgroundColor:["#409eff",r.value?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"],borderWidth:0,cutout:"70%"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){const a=e.label||"",l=e.raw||0,t=e.dataset.data.reduce((e,a)=>e+a,0),s=Math.round(l/t*100);return`${a}: ${l} 学分 (${s}%)`}}}},animation:{animateScale:!0,animateRotate:!0}}});const a=n.value.getContext("2d");if(!a)return void console.error("Failed to get trend chart context");const l=y.value.map(e=>e.semester),t=y.value.map(e=>e.attendanceRate);l.push("当前"),t.push(g.value),F=new Va.Ay(a,{type:"line",data:{labels:l,datasets:[{label:"学业表现",data:t,borderColor:"#409eff",backgroundColor:r.value?"rgba(64, 158, 255, 0.1)":"rgba(64, 158, 255, 0.2)",tension:.4,fill:!0,pointBackgroundColor:"#fff",pointBorderColor:"#409eff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!1,min:50,max:100,ticks:{stepSize:10},grid:{color:r.value?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}},plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},interaction:{mode:"nearest",axis:"x",intersect:!1}}})})};return(0,o.wB)(r,e=>{_&&(_.data.datasets[0].backgroundColor[1]=e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)",_.update()),F&&(F.data.datasets[0].backgroundColor=e?"rgba(64, 158, 255, 0.1)":"rgba(64, 158, 255, 0.2)",F.options.scales.y.grid.color=e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)",F.update())}),(0,o.sV)(async()=>{await C(),await(0,o.dY)(),I()}),(0,o.hi)(()=>{_&&_.destroy(),F&&F.destroy()}),(e,f)=>{const L=(0,o.g2)("el-tag"),y=(0,o.g2)("el-icon"),_=(0,o.g2)("el-progress"),F=(0,o.g2)("el-rate");return(0,o.uX)(),(0,o.CE)("div",{class:(0,i.C4)(["status-dashboard",{dark:(0,u.R1)(r)}]),onMousemove:E},[(0,o.Lk)("main",Ma,[(0,o.Lk)("div",{class:"status-card modern-card",ref_key:"statusCard",ref:a},[f[3]||(f[3]=(0,o.Lk)("div",{class:"card-header"},[(0,o.Lk)("h2",null,"学籍状态概览")],-1)),(0,o.Lk)("div",za,[(0,o.Lk)("div",Ta,[(0,o.Lk)("div",Ua,[(0,o.bF)(L,{type:d[v.value].type,size:"large",effect:"dark",class:"status-tag"},{default:(0,o.k6)(()=>[(0,o.eW)((0,i.v_)(d[v.value].label),1)]),_:1},8,["type"])]),(0,o.Lk)("div",Pa,[(0,o.Lk)("p",Qa,[(0,o.bF)(y,{class:"meta-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Calendar))]),_:1}),(0,o.Lk)("span",null,"入学时间: "+(0,i.v_)(S(m.value)),1)]),(0,o.Lk)("p",Na,[(0,o.bF)(y,{class:"meta-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.School))]),_:1}),(0,o.Lk)("span",null,"预计毕业: "+(0,i.v_)(S(p.value)),1)])])]),(0,o.Lk)("div",Oa,[(0,o.Lk)("div",Ba,[(0,o.Lk)("div",$a,(0,i.v_)(k.value),1),f[0]||(f[0]=(0,o.Lk)("div",{class:"stat-label"},"已修学分",-1)),(0,o.Lk)("div",Ga,[(0,o.bF)(_,{percentage:W.value,"stroke-width":6,color:A.value},null,8,["percentage","color"])])]),(0,o.Lk)("div",ja,[(0,o.Lk)("div",Ha,(0,i.v_)(g.value)+"%",1),f[1]||(f[1]=(0,o.Lk)("div",{class:"stat-label"},"出勤率",-1)),(0,o.Lk)("div",qa,[(0,o.bF)(_,{percentage:g.value,"stroke-width":6,color:x.value},null,8,["percentage","color"])])]),(0,o.Lk)("div",Ja,[(0,o.Lk)("div",Ya,(0,i.v_)(h.value),1),f[2]||(f[2]=(0,o.Lk)("div",{class:"stat-label"},"学业等级",-1)),(0,o.Lk)("div",Za,[(0,o.bF)(F,{value:X(h.value),disabled:"","show-text":!1,"allow-half":!0,colors:K.value},null,8,["value","colors"])])])])])],512),(0,o.Lk)("div",el,[(0,o.Lk)("div",{class:"chart-card modern-card",ref_key:"creditChartCard",ref:l},[(0,o.Lk)("div",al,[f[4]||(f[4]=(0,o.Lk)("h3",null,"学分完成进度",-1)),(0,o.Lk)("div",ll,[(0,o.Lk)("span",tl,(0,i.v_)(W.value)+"%",1)])]),(0,o.Lk)("div",sl,[(0,o.Lk)("div",nl,[(0,o.Lk)("div",ol,[(0,o.Lk)("canvas",{ref_key:"creditDoughnutCanvas",ref:s},null,512)]),(0,o.Lk)("div",il,[(0,o.Lk)("div",ul,[f[5]||(f[5]=(0,o.Lk)("span",{class:"detail-label"},"已修:",-1)),(0,o.Lk)("span",cl,(0,i.v_)(k.value)+"/"+(0,i.v_)(b.value)+" 学分",1)]),(0,o.Lk)("div",rl,[f[6]||(f[6]=(0,o.Lk)("span",{class:"detail-label"},"剩余:",-1)),(0,o.Lk)("span",dl,(0,i.v_)(b.value-k.value)+" 学分",1)])])])])],512),(0,o.Lk)("div",{class:"chart-card modern-card",ref_key:"trendChartCard",ref:t},[f[7]||(f[7]=(0,o.Lk)("div",{class:"card-header"},[(0,o.Lk)("h3",null,"学业表现趋势")],-1)),(0,o.Lk)("div",vl,[(0,o.Lk)("div",ml,[(0,o.Lk)("canvas",{ref_key:"performanceTrendCanvas",ref:n},null,512)])])],512)])])],34)}}};const kl=(0,be.A)(pl,[["__scopeId","data-v-35858115"]]);var bl=kl;const gl={class:"grades-overview modern-card",ref:"overviewCard"},hl={class:"card-header"},fl={class:"semester-selector"},Ll={class:"stats-container"},yl={class:"stats-card"},_l={class:"stat-header"},Fl={class:"stat-value"},Cl={class:"stat-meta"},wl={class:"meta-item"},Rl={class:"stat-progress"},El={class:"progress-text"},Wl={class:"stats-card"},Al={class:"stat-header"},xl={class:"stat-value"},Xl={class:"stat-meta"},Kl={class:"score-distribution"},Sl={class:"distribution-label"},Il={class:"stats-card"},Dl={class:"stat-header"},Vl={class:"stat-value"},Ml={class:"stat-meta"},zl={class:"progress-text"},Tl={class:"grades-table modern-card"},Ul={class:"card-header"},Pl={class:"table-actions"},Ql={key:0,class:"pagination"},Nl={class:"grades-analysis modern-card"},Ol={class:"card-header"},Bl={class:"chart-type-selector"},$l={class:"chart-container"},Gl={class:"trend-chart"};var jl={__name:"GradesPage",setup(e){const a=(0,o.WQ)("isDarkMode",(0,u.KR)(!1)),l=(0,u.KR)([]),s=(0,u.KR)(null),n=(0,u.KR)([]),r=(0,u.KR)(!1),d=(0,u.KR)("gpa"),v=(0,u.KR)(0),m=(0,u.KR)(""),p=(0,u.KR)("all"),k=(0,u.KR)("全部"),b=(0,u.KR)([{value:"全部",label:"全部学期"},{value:"2023-2024-1",label:"2023-2024学年第一学期"},{value:"2023-2024-2",label:"2023-2024学年第二学期"},{value:"2022-2023-1",label:"2022-2023学年第一学期"},{value:"2022-2023-2",label:"2022-2023学年第二学期"}]),g=async()=>{r.value=!0;try{const e=await Ce.get("/student/grades/pagination",{params:{page:y.value,size:_.value}});if(200!==e.code)throw new Error(e.message||"获取成绩数据失败");{const a=e.data;l.value=a.courseGrades||[],s.value=a.gradeStats||null,n.value=a.semesterGPAList||[],v.value=a.total||0,f.value&&V()}}catch(e){console.error("获取成绩数据失败:",e),ye.nk.error("获取成绩数据失败，请稍后重试"),l.value=[],s.value=null,n.value=[],v.value=0}finally{r.value=!1}},h=async e=>{r.value=!0;try{const a=await Ce.get(`/student/grades/${e}/pagination`,{params:{page:y.value,size:_.value}});if(200!==a.code)throw new Error(a.message||"获取成绩数据失败");{const e=a.data;l.value=e.courseGrades||[],s.value=e.gradeStats||null,n.value=e.semesterGPAList||[],v.value=e.total||0,f.value&&V()}}catch(a){console.error("获取成绩数据失败:",a),ye.nk.error("获取成绩数据失败，请稍后重试"),l.value=[],s.value=null,v.value=0}finally{r.value=!1}},f=(0,u.KR)(null);let L=null;const y=(0,u.KR)(1),_=(0,u.KR)(10),F=(0,o.EW)(()=>l.value),C=e=>{k.value=e,y.value=1,"全部"===e?g():h(e)},w=(0,o.EW)(()=>s.value&&0!==l.value.length&&s.value.gpa?.toFixed(2)||"0.00"),R=(0,o.EW)(()=>s.value&&0!==l.value.length&&s.value.avgScore||0),E=(0,o.EW)(()=>s.value?.rank||"--"),W=(0,o.EW)(()=>s.value?.classSize||"--"),A=(0,o.EW)(()=>s.value?.completedCredits||0),x=(0,o.EW)(()=>s.value?.totalCredits||0),X=(0,o.EW)(()=>s.value&&s.value.rank&&s.value.classSize?Math.round(100*(1-s.value.rank/s.value.classSize)):0),K=(0,o.EW)(()=>s.value&&s.value.completedCredits&&s.value.totalCredits?Math.round(s.value.completedCredits/s.value.totalCredits*100):0),S=(0,o.EW)(()=>{const e=X.value;return e<30?"#ef4444":e<60?"#f59e0b":"#10b981"}),I=(0,o.EW)(()=>{const e=K.value;return e<30?"#ef4444":e<60?"#f59e0b":"#10b981"}),D=(0,u.KR)([{label:"90-100",percentage:25,color:"#67c23a"},{label:"80-89",percentage:35,color:"#409eff"},{label:"70-79",percentage:25,color:"#e6a23c"},{label:"60-69",percentage:10,color:"#f56c6c"},{label:"60以下",percentage:5,color:"#909399"}]),V=()=>{if(!f.value||!n.value||0===n.value.length)return;const e=f.value.getContext("2d");let l,t,s,o,i,u;L&&L.value&&L.value.destroy(),"gpa"===d.value?(l="绩点趋势",t=n.value.map(e=>e.gpa),s="#409eff",o=2.5,i=4,u=.5):"score"===d.value?(l="分数趋势",t=n.value.map(e=>e.avgScore),s="#67c23a",o=60,i=100,u=10):"credit"===d.value&&(l="学分趋势",t=n.value.map(e=>e.credits),s="#e6a23c",o=0,i=40,u=10),L||(L={}),L.value=new Va.Ay(e,{type:"line",data:{labels:n.value.map(e=>e.semester),datasets:[{label:l,data:t,borderColor:s,backgroundColor:a.value?`${s}20`:`${s}40`,tension:.4,borderWidth:2,pointBackgroundColor:"#fff",pointBorderColor:s,pointRadius:4,pointHoverRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!1,min:o,max:i,ticks:{stepSize:u},grid:{color:a.value?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}},plugins:{legend:{display:!1}}}})};(0,o.wB)(a,e=>{L&&L.value&&(L.value.options.scales.y.grid.color=e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)",L.value.data.datasets[0].backgroundColor=e?`${L.value.data.datasets[0].borderColor}20`:`${L.value.data.datasets[0].borderColor}40`,L.value.update())}),(0,o.wB)(d,()=>{f.value&&n.value.length>0&&V()});const M=e=>e.score>=90?`${e.score} (优秀)`:e.score>=80?`${e.score} (良好)`:e.score>=70?`${e.score} (中等)`:e.score>=60?`${e.score} (及格)`:`${e.score} (不及格)`,z=e=>{ye.nk.info(`查看课程详情: ${e.courseName}`)},T=e=>{_.value=e,y.value=1,"全部"!==k.value?h(k.value):g()},U=e=>{y.value=e,"全部"!==k.value?h(k.value):g()},P=()=>{y.value=1,"全部"!==k.value?h(k.value):g()},Q=()=>{y.value=1,"全部"!==k.value?h(k.value):g()},N=e=>{document.documentElement.style.setProperty("--mouse-x",`${e.clientX}px`),document.documentElement.style.setProperty("--mouse-y",`${e.clientY}px`)};return(0,o.sV)(()=>{g().then(()=>{f.value&&V()})}),(0,o.hi)(()=>{L&&L.value&&L.value.destroy()}),(e,s)=>{const n=(0,o.g2)("el-option"),g=(0,o.g2)("el-select"),h=(0,o.g2)("el-icon"),L=(0,o.g2)("el-progress"),V=(0,o.g2)("el-input"),O=(0,o.g2)("el-table-column"),B=(0,o.g2)("el-button"),$=(0,o.g2)("el-table"),G=(0,o.g2)("el-pagination"),j=(0,o.g2)("el-radio-button"),H=(0,o.g2)("el-radio-group"),q=(0,o.gN)("loading");return(0,o.uX)(),(0,o.CE)("div",{class:(0,i.C4)(["grades-dashboard",{dark:(0,u.R1)(a)}]),onMousemove:N},[(0,o.Lk)("div",gl,[(0,o.Lk)("div",hl,[s[4]||(s[4]=(0,o.Lk)("h2",null,"成绩概览",-1)),(0,o.Lk)("div",fl,[(0,o.bF)(g,{modelValue:k.value,"onUpdate:modelValue":s[0]||(s[0]=e=>k.value=e),placeholder:"选择学期",size:"small",class:"semester-select",onChange:C},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(b.value,e=>((0,o.uX)(),(0,o.Wv)(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),(0,o.Lk)("div",Ll,[(0,o.Lk)("div",yl,[(0,o.Lk)("div",_l,[s[5]||(s[5]=(0,o.Lk)("h3",null,"平均绩点",-1)),(0,o.Lk)("div",Fl,(0,i.v_)(w.value||"0.00"),1)]),(0,o.Lk)("div",Cl,[(0,o.Lk)("div",wl,[(0,o.bF)(h,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1}),(0,o.Lk)("span",null,"班级排名: "+(0,i.v_)(E.value||"--")+"/"+(0,i.v_)(W.value||"--"),1)]),(0,o.Lk)("div",Rl,[(0,o.bF)(L,{percentage:X.value,"stroke-width":6,color:S.value},null,8,["percentage","color"]),(0,o.Lk)("div",El,"超过班级 "+(0,i.v_)(X.value)+"% 的同学",1)])])]),(0,o.Lk)("div",Wl,[(0,o.Lk)("div",Al,[s[6]||(s[6]=(0,o.Lk)("h3",null,"平均分数",-1)),(0,o.Lk)("div",xl,(0,i.v_)(R.value||"0"),1)]),(0,o.Lk)("div",Xl,[(0,o.Lk)("div",Kl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(D.value,(e,a)=>((0,o.uX)(),(0,o.CE)("div",{class:"distribution-item",key:a},[(0,o.Lk)("div",{class:"distribution-bar",style:(0,i.Tr)({height:`${e.percentage}%`,backgroundColor:e.color})},null,4),(0,o.Lk)("div",Sl,(0,i.v_)(e.label),1)]))),128))])])]),(0,o.Lk)("div",Il,[(0,o.Lk)("div",Dl,[s[7]||(s[7]=(0,o.Lk)("h3",null,"学分完成情况",-1)),(0,o.Lk)("div",Vl,(0,i.v_)(A.value||"0")+"/"+(0,i.v_)(x.value||"0"),1)]),(0,o.Lk)("div",Ml,[(0,o.bF)(L,{percentage:K.value,"stroke-width":6,color:I.value},null,8,["percentage","color"]),(0,o.Lk)("div",zl,"已完成 "+(0,i.v_)(K.value)+"% 的毕业学分要求",1)])])])],512),(0,o.Lk)("div",Tl,[(0,o.Lk)("div",Ul,[s[8]||(s[8]=(0,o.Lk)("h2",null,"详细成绩",-1)),(0,o.Lk)("div",Pl,[(0,o.bF)(V,{modelValue:m.value,"onUpdate:modelValue":s[1]||(s[1]=e=>m.value=e),placeholder:"搜索课程名称","prefix-icon":"Search",size:"small",class:"search-input",onClear:P,onKeyup:(0,t.jR)(P,["enter"])},null,8,["modelValue"]),(0,o.bF)(g,{modelValue:p.value,"onUpdate:modelValue":s[2]||(s[2]=e=>p.value=e),placeholder:"筛选类型",size:"small",class:"filter-select",onChange:Q},{default:(0,o.k6)(()=>[(0,o.bF)(n,{label:"全部课程",value:"all"}),(0,o.bF)(n,{label:"必修课",value:"required"}),(0,o.bF)(n,{label:"选修课",value:"elective"}),(0,o.bF)(n,{label:"实践课",value:"practical"})]),_:1},8,["modelValue"])])]),(0,o.bo)(((0,o.uX)(),(0,o.Wv)($,{data:l.value,border:"",stripe:"",class:"grades-data-table",style:{width:"100%"},"element-loading-text":"加载中..."},{default:(0,o.k6)(()=>[(0,o.bF)(O,{prop:"courseName",label:"课程名称","min-width":"200"}),(0,o.bF)(O,{prop:"courseCode",label:"课程代码",width:"120"}),(0,o.bF)(O,{prop:"courseType",label:"课程类型",width:"100"}),(0,o.bF)(O,{prop:"credits",label:"学分",width:"80"}),(0,o.bF)(O,{prop:"score",label:"成绩",width:"100",formatter:M}),(0,o.bF)(O,{prop:"gpa",label:"绩点",width:"80"}),(0,o.bF)(O,{prop:"semester",label:"学期",width:"120"}),(0,o.bF)(O,{label:"操作",width:"100"},{default:(0,o.k6)(e=>[(0,o.bF)(B,{type:"text",size:"small",onClick:a=>z(e.row)},{default:(0,o.k6)(()=>s[9]||(s[9]=[(0,o.eW)(" 详情 ")])),_:2,__:[9]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[q,r.value]]),F.value.length>0?((0,o.uX)(),(0,o.CE)("div",Ql,[(0,o.bF)(G,{onSizeChange:T,onCurrentChange:U,"current-page":y.value,"page-sizes":[5,10,20],"page-size":_.value,total:v.value,layout:"total, sizes, prev, pager, next",small:""},null,8,["current-page","page-size","total"])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Nl,[(0,o.Lk)("div",Ol,[s[13]||(s[13]=(0,o.Lk)("h2",null,"成绩趋势分析",-1)),(0,o.Lk)("div",Bl,[(0,o.bF)(H,{modelValue:d.value,"onUpdate:modelValue":s[3]||(s[3]=e=>d.value=e)},{default:(0,o.k6)(()=>[(0,o.bF)(j,{label:"gpa"},{default:(0,o.k6)(()=>s[10]||(s[10]=[(0,o.eW)("绩点趋势")])),_:1,__:[10]}),(0,o.bF)(j,{label:"score"},{default:(0,o.k6)(()=>s[11]||(s[11]=[(0,o.eW)("分数趋势")])),_:1,__:[11]}),(0,o.bF)(j,{label:"credit"},{default:(0,o.k6)(()=>s[12]||(s[12]=[(0,o.eW)("学分趋势")])),_:1,__:[12]})]),_:1},8,["modelValue"])])]),(0,o.Lk)("div",$l,[(0,o.Lk)("div",Gl,[(0,o.Lk)("canvas",{ref_key:"trendChartCanvas",ref:f},null,512)])])])],34)}}};const Hl=(0,be.A)(jl,[["__scopeId","data-v-50326630"]]);var ql=Hl;l(3579);const Jl={class:"course-overview-card modern-card",ref:"overviewRef"},Yl={class:"card-header"},Zl={class:"semester-selector"},et={class:"stats-grid"},at={class:"stat-icon"},lt={class:"stat-content"},tt={class:"stat-value"},st={class:"stat-label"},nt={key:0,class:"stat-trend"},ot={class:"course-content"},it={class:"course-schedule modern-card",ref:"scheduleRef"},ut={class:"card-header"},ct={class:"view-toggle"},rt={class:"schedule-grid"},dt={class:"grid-header"},vt={class:"grid-body"},mt={class:"time-label"},pt=["onMouseenter"],kt={class:"course-name"},bt={class:"course-teacher"},gt={class:"course-location"},ht={class:"course-progress modern-card",ref:"progressRef"},ft={class:"card-header"},Lt={class:"progress-filter"},yt={class:"progress-list"},_t={class:"card-content"},Ft={class:"course-info"},Ct={class:"course-name"},wt={class:"course-code"},Rt={class:"progress-bar"},Et={class:"course-details"},Wt={class:"detail-item"},At={class:"value"},xt={class:"detail-item"},Xt={class:"value"},Kt={class:"detail-item"},St={class:"value"},It={class:"card-actions"},Dt={class:"history-courses modern-card",ref:"historyRef"},Vt={class:"card-header"},Mt={class:"history-filter"},zt={key:0,class:"pagination"};var Tt={__name:"SchedulePage",setup(e){const a=(0,u.KR)(!1),l={passed:{label:"通过",type:"success"},failed:{label:"未通过",type:"danger"},retaking:{label:"重修中",type:"warning"},auditing:{label:"旁听",type:"info"}},t=(0,u.KR)("2023-2024-2"),s=(0,u.KR)([{value:"2023-2024-2",label:"2023-2024学年第二学期"},{value:"2023-2024-1",label:"2023-2024学年第一学期"},{value:"2022-2023-2",label:"2022-2023学年第二学期"},{value:"2022-2023-1",label:"2022-2023学年第一学期"}]),n=(0,u.KR)(["周一","周二","周三","周四","周五","周六","周日"]),r=(0,u.KR)(["08:00","10:00","14:00","16:00","19:00"]),d=(0,u.KR)([{id:1,name:"数据结构与算法",code:"CS101",teacher:"李教授",credits:4,progress:65,schedule:[{day:"周一",time:"10:00",location:"逸夫楼305"},{day:"周四",time:"14:00",location:"实验楼201"}],color:"#409eff"},{id:2,name:"计算机网络",code:"CS102",teacher:"王老师",credits:3,progress:75,schedule:[{day:"周二",time:"08:00",location:"主楼101"},{day:"周五",time:"08:00",location:"主楼101"}],color:"#67c23a"},{id:3,name:"操作系统",code:"CS103",teacher:"张教授",credits:4,progress:50,schedule:[{day:"周三",time:"14:00",location:"计算机学院203"},{day:"周六",time:"10:00",location:"实验室B2"}],color:"#e6a23c"}]),v=(0,u.KR)([{semester:"2023-2024-1",name:"高等数学（下）",code:"MATH102",teacher:"刘教授",credits:5,score:85,status:"passed"},{semester:"2023-2024-1",name:"线性代数",code:"MATH103",teacher:"陈老师",credits:4,score:78,status:"passed"},{semester:"2023-2024-1",name:"程序设计基础",code:"CS001",teacher:"赵老师",credits:4,score:92,status:"passed"},{semester:"2022-2023-2",name:"大学物理",code:"PHYS101",teacher:"黄教授",credits:4,score:65,status:"passed"},{semester:"2022-2023-2",name:"英语（二）",code:"ENGL102",teacher:"吴老师",credits:3,score:72,status:"passed"},{semester:"2022-2023-1",name:"离散数学",code:"MATH101",teacher:"郑教授",credits:4,score:88,status:"passed"}]),m=(0,u.KR)(1),p=(0,u.KR)(10),k=(0,u.KR)(null),b=(0,u.KR)("week"),g=(0,u.KR)("all"),h=(0,u.KR)(""),f=(0,o.EW)(()=>[{value:d.value.length,label:"当前课程",icon:c.Collection,color:"#6366f1",trend:5.2},{value:L.value,label:"已完成课程",icon:c.Check,color:"#10b981",trend:12.8},{value:y.value,label:"未通过课程",icon:c.Close,color:"#ef4444",trend:-3.5},{value:_.value,label:"平均成绩",icon:c.Star,color:"#f59e0b",trend:2.1}]),L=(0,o.EW)(()=>v.value.filter(e=>"passed"===e.status).length),y=(0,o.EW)(()=>v.value.filter(e=>"failed"===e.status).length),_=(0,o.EW)(()=>{const e=v.value.filter(e=>"passed"===e.status);if(0===e.length)return 0;const a=e.reduce((e,a)=>e+a.score,0);return Math.round(a/e.length)}),F=(0,o.EW)(()=>"all"===g.value?d.value:"ongoing"===g.value?d.value.filter(e=>e.progress<100):d.value.filter(e=>100===e.progress)),C=(0,o.EW)(()=>{if(!h.value.trim())return v.value;const e=h.value.toLowerCase().trim();return v.value.filter(a=>a.name.toLowerCase().includes(e)||a.code.toLowerCase().includes(e)||a.teacher.toLowerCase().includes(e))}),w=(e,a)=>d.value.filter(l=>l.schedule.some(l=>l.day===e&&l.time===a)),R=e=>e>=80?"#67c23a":e>=60?"#e6a23c":"#f56c6c",E=e=>l[e.status]?.label||"未知",W=e=>{ye.nk.info(`查看课程详情: ${e.name}`)},A=e=>{p.value=e},x=e=>{m.value=e},X=e=>{k.value=e},K=()=>{k.value=null},S=e=>{const a=e.clientX/window.innerWidth*100,l=e.clientY/window.innerHeight*100;document.documentElement.style.setProperty("--mouse-x",`${a}px`),document.documentElement.style.setProperty("--mouse-y",`${l}px`)},I=e=>"number"!==typeof e||Number.isInteger(e)?e:e.toFixed(1);return(0,o.sV)(()=>{}),(e,l)=>{const d=(0,o.g2)("el-icon"),v=(0,o.g2)("el-option"),k=(0,o.g2)("el-select"),L=(0,o.g2)("animated-number"),y=(0,o.g2)("el-radio-button"),_=(0,o.g2)("el-radio-group"),D=(0,o.g2)("el-progress"),V=(0,o.g2)("el-button"),M=(0,o.g2)("el-card"),z=(0,o.g2)("History"),T=(0,o.g2)("el-input"),U=(0,o.g2)("el-table-column"),P=(0,o.g2)("el-table"),Q=(0,o.g2)("el-pagination");return(0,o.uX)(),(0,o.CE)("div",{class:(0,i.C4)(["course-dashboard",{dark:a.value}]),onMousemove:S},[(0,o.Lk)("div",Jl,[(0,o.Lk)("div",Yl,[(0,o.Lk)("h2",null,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.DataAnalysis))]),_:1}),l[4]||(l[4]=(0,o.eW)(" 课程概览 "))]),(0,o.Lk)("div",Zl,[(0,o.bF)(k,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),placeholder:"选择学期",size:"small",class:"modern-select"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.value,e=>((0,o.uX)(),(0,o.Wv)(v,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),(0,o.Lk)("div",et,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(f.value,(e,a)=>((0,o.uX)(),(0,o.CE)("div",{class:"stat-card",key:a,style:(0,i.Tr)({"--card-color":e.color})},[(0,o.Lk)("div",at,[l[5]||(l[5]=(0,o.Lk)("div",{class:"icon-bg"},null,-1)),(0,o.bF)(d,{size:24},{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.icon)))]),_:2},1024)]),(0,o.Lk)("div",lt,[(0,o.Lk)("div",tt,[(0,o.bF)(L,{value:e.value,formatValue:I,duration:800},null,8,["value"])]),(0,o.Lk)("div",st,(0,i.v_)(e.label),1)]),e.trend?((0,o.uX)(),(0,o.CE)("div",nt,[(0,o.bF)(d,{color:e.trend>0?"#f56c6c":"#67c23a"},{default:(0,o.k6)(()=>[e.trend>0?((0,o.uX)(),(0,o.Wv)((0,u.R1)(c.CaretTop),{key:0})):((0,o.uX)(),(0,o.Wv)((0,u.R1)(c.CaretBottom),{key:1}))]),_:2},1032,["color"]),(0,o.Lk)("span",{style:(0,i.Tr)({color:e.trend>0?"#f56c6c":"#67c23a"})},(0,i.v_)(Math.abs(e.trend))+"% ",5)])):(0,o.Q3)("",!0)],4))),128))])],512),(0,o.Lk)("div",ot,[(0,o.Lk)("div",it,[(0,o.Lk)("div",ut,[(0,o.Lk)("h3",null,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Calendar))]),_:1}),l[6]||(l[6]=(0,o.eW)(" 本周课程表 "))]),(0,o.Lk)("div",ct,[(0,o.bF)(_,{modelValue:b.value,"onUpdate:modelValue":l[1]||(l[1]=e=>b.value=e)},{default:(0,o.k6)(()=>[(0,o.bF)(y,{label:"week"},{default:(0,o.k6)(()=>l[7]||(l[7]=[(0,o.eW)("周视图")])),_:1,__:[7]}),(0,o.bF)(y,{label:"day"},{default:(0,o.k6)(()=>l[8]||(l[8]=[(0,o.eW)("日视图")])),_:1,__:[8]})]),_:1},8,["modelValue"])])]),(0,o.Lk)("div",rt,[(0,o.Lk)("div",dt,[l[9]||(l[9]=(0,o.Lk)("div",{class:"time-column"},null,-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value,e=>((0,o.uX)(),(0,o.CE)("div",{class:"day-column",key:e},(0,i.v_)(e),1))),128))]),(0,o.Lk)("div",vt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.value,e=>((0,o.uX)(),(0,o.CE)("div",{class:"time-slot",key:e},[(0,o.Lk)("div",mt,(0,i.v_)(e),1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value,a=>((0,o.uX)(),(0,o.CE)("div",{class:"day-slot",key:a},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(w(a,e),e=>((0,o.uX)(),(0,o.CE)("div",{class:"course-block",key:e.id,style:(0,i.Tr)({backgroundColor:e.color}),onMouseenter:a=>X(e),onMouseleave:K},[(0,o.Lk)("div",kt,(0,i.v_)(e.name),1),(0,o.Lk)("div",bt,(0,i.v_)(e.teacher),1),(0,o.Lk)("div",gt,(0,i.v_)(e.location),1)],44,pt))),128))]))),128))]))),128))])])],512),(0,o.Lk)("div",ht,[(0,o.Lk)("div",ft,[(0,o.Lk)("h3",null,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Notebook))]),_:1}),l[10]||(l[10]=(0,o.eW)(" 课程进度 "))]),(0,o.Lk)("div",Lt,[(0,o.bF)(k,{modelValue:g.value,"onUpdate:modelValue":l[2]||(l[2]=e=>g.value=e),placeholder:"筛选课程",size:"small"},{default:(0,o.k6)(()=>[(0,o.bF)(v,{label:"全部课程",value:"all"}),(0,o.bF)(v,{label:"进行中",value:"ongoing"}),(0,o.bF)(v,{label:"已完成",value:"completed"})]),_:1},8,["modelValue"])])]),(0,o.Lk)("div",yt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(F.value,e=>((0,o.uX)(),(0,o.Wv)(M,{class:"progress-card",key:e.id,shadow:"hover",style:{transform:"translateZ(0)"}},{default:(0,o.k6)(()=>[(0,o.Lk)("div",_t,[(0,o.Lk)("div",Ft,[(0,o.Lk)("div",Ct,(0,i.v_)(e.name),1),(0,o.Lk)("div",wt,(0,i.v_)(e.code),1)]),(0,o.Lk)("div",Rt,[(0,o.bF)(D,{percentage:e.progress,color:R(e.progress),"stroke-width":10},null,8,["percentage","color"])]),(0,o.Lk)("div",Et,[(0,o.Lk)("div",Wt,[l[11]||(l[11]=(0,o.Lk)("span",{class:"label"},"授课教师:",-1)),(0,o.Lk)("span",At,(0,i.v_)(e.teacher),1)]),(0,o.Lk)("div",xt,[l[12]||(l[12]=(0,o.Lk)("span",{class:"label"},"学分:",-1)),(0,o.Lk)("span",Xt,(0,i.v_)(e.credits),1)]),(0,o.Lk)("div",Kt,[l[13]||(l[13]=(0,o.Lk)("span",{class:"label"},"进度:",-1)),(0,o.Lk)("span",St,(0,i.v_)(e.progress)+"%",1)])])]),(0,o.Lk)("div",It,[(0,o.bF)(V,{type:"text",size:"small",onClick:a=>W(e)},{default:(0,o.k6)(()=>[l[14]||(l[14]=(0,o.eW)(" 查看详情 ")),(0,o.bF)(d,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.ArrowRight))]),_:1})]),_:2,__:[14]},1032,["onClick"])])]),_:2},1024))),128))])],512)]),(0,o.Lk)("div",Dt,[(0,o.Lk)("div",Vt,[(0,o.Lk)("h3",null,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[(0,o.bF)(z)]),_:1}),l[15]||(l[15]=(0,o.eW)(" 历史课程记录 "))]),(0,o.Lk)("div",Mt,[(0,o.bF)(T,{modelValue:h.value,"onUpdate:modelValue":l[3]||(l[3]=e=>h.value=e),placeholder:"搜索课程",size:"small",clearable:""},{suffix:(0,o.k6)(()=>[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Search))]),_:1})]),_:1},8,["modelValue"])])]),(0,o.bF)(P,{data:C.value,border:"",stripe:"",class:"history-table"},{default:(0,o.k6)(()=>[(0,o.bF)(U,{prop:"semester",label:"学期",width:"120"}),(0,o.bF)(U,{prop:"name",label:"课程名称","min-width":"180"}),(0,o.bF)(U,{prop:"code",label:"课程代码",width:"120"}),(0,o.bF)(U,{prop:"teacher",label:"授课教师",width:"120"}),(0,o.bF)(U,{prop:"credits",label:"学分",width:"80"}),(0,o.bF)(U,{prop:"score",label:"成绩",width:"80"}),(0,o.bF)(U,{prop:"status",label:"状态",width:"100",formatter:E})]),_:1},8,["data"]),C.value.length>0?((0,o.uX)(),(0,o.CE)("div",zt,[(0,o.bF)(Q,{onSizeChange:A,onCurrentChange:x,"current-page":m.value,"page-sizes":[5,10,20],"page-size":p.value,total:C.value.length,layout:"total, sizes, prev, pager, next",small:""},null,8,["current-page","page-size","total"])])):(0,o.Q3)("",!0)],512)],34)}}};const Ut=(0,be.A)(Tt,[["__scopeId","data-v-43d8ea12"]]);var Pt=Ut;const Qt={class:"library-container"},Nt={class:"modern-card"},Ot={class:"card-header"},Bt={class:"search-bar"},$t={class:"search-filters"},Gt={class:"filter-item"},jt={class:"filter-item"},Ht={class:"filter-item"},qt={key:0,class:"search-results"},Jt={class:"result-list"},Yt=["onClick"],Zt=["src"],es={class:"result-info"},as={class:"result-meta"},ls={class:"result-location"},ts={key:0},ss={key:1},ns={key:2},os={key:0,class:"pagination"},is={key:1,class:"empty-state"},us={key:2,class:"recommendations"},cs={class:"recommend-list"},rs=["onClick"],ds=["src"],vs={key:0,class:"recommend-badge"},ms={key:0,class:"history-search"},ps={class:"history-tags"},ks={class:"summary-cards"},bs={class:"card-content"},gs={class:"modern-card"},hs={class:"book-list"},fs=["src"],Ls={class:"book-info"},ys={class:"author"},_s={key:0,class:"overdue-text"},Fs={key:0,class:"renew-info"},Cs=["onClick","disabled"],ws={key:0,class:"book-detail"},Rs={class:"detail-main"},Es=["src"],Ws={class:"detail-info"},As={class:"availability"},xs={key:0},Xs={key:1},Ks={class:"detail-description"},Ss={class:"detail-actions"},Is="https://picsum.photos/200/300?random=book";var Ds={__name:"LibraryPage",setup(e){const a=(0,u.KR)(""),l=(0,u.KR)(""),s=(0,u.KR)("relevance"),n=(0,u.KR)(""),r=(0,u.KR)([]),d=(0,u.KR)(1),v=(0,u.KR)(5),m=(0,u.KR)(0),p=(0,u.KR)([]),k=(0,u.KR)(!1),b=(0,u.KR)(null),g=(0,u.KR)([{id:101,title:"深入理解计算机系统",cover:"https://picsum.photos/200/300?random=101",isNew:!0},{id:102,title:"代码整洁之道",cover:"https://picsum.photos/200/300?random=102",isNew:!1},{id:103,title:"设计模式",cover:"https://picsum.photos/200/300?random=103",isNew:!1},{id:104,title:"算法导论",cover:"https://picsum.photos/200/300?random=104",isNew:!0},{id:105,title:"计算机程序的构造和解释",cover:"https://picsum.photos/200/300?random=105",isNew:!1}]),h=()=>{a.value.trim()?(p.value.includes(a.value)||(p.value.unshift(a.value),p.value.length>5&&p.value.pop(),localStorage.setItem("librarySearchHistory",JSON.stringify(p.value))),d.value=1,setTimeout(()=>{const e=[{id:101,title:"深入理解计算机系统",author:"Randal E.Bryant",publisher:"机械工业出版社",year:"2016",cover:"https://picsum.photos/200/300?random=101",location:"三楼自然科学区",callNumber:"TP311.5/B915",available:!0,availableCopies:5,isbn:"9787111544937",pages:"737",description:"本书从程序员的视角详细阐述计算机系统的本质概念，并展示这些概念如何实实在在地影响应用程序的正确性、性能和实用性。",type:"book",library:"main"},{id:102,title:"代码整洁之道",author:"Robert C. Martin",publisher:"人民邮电出版社",year:"2020",cover:"https://picsum.photos/200/300?random=102",location:"二楼计算机科学区",callNumber:"TP311.5/M379",available:!1,availableCopies:0,returnDate:"2023-07-30",isbn:"9787115279460",pages:"388",description:"本书讲述了一系列行之有效的整洁代码操作实践，帮助读者写出高质量的代码。",type:"book",library:"main"},{id:103,title:"设计模式：可复用面向对象软件的基础",author:"Erich Gamma等",publisher:"机械工业出版社",year:"2019",cover:"https://picsum.photos/200/300?random=103",location:"二楼计算机科学区",callNumber:"TP311.5/G191",available:!0,availableCopies:2,isbn:"9787111618048",pages:"395",description:"本书结合设计实例从面向对象的设计中精选出23个设计模式，总结了面向对象设计中最有价值的经验。",type:"book",library:"science"},{id:104,title:"算法导论",author:"Thomas H. Cormen",publisher:"MIT Press",year:"2009",cover:"https://picsum.photos/200/300?random=104",location:"三楼自然科学区",callNumber:"TP311.5/C813",available:!0,availableCopies:3,isbn:"9780262033848",pages:"1292",description:"本书全面论述了算法的内容，是一本经典的算法教材。",type:"book",library:"science"},{id:105,title:"计算机程序的构造和解释",author:"Harold Abelson",publisher:"MIT Press",year:"1996",cover:"https://picsum.photos/200/300?random=105",location:"三楼自然科学区",callNumber:"TP311.5/A139",available:!0,availableCopies:1,isbn:"9780262011532",pages:"657",description:"本书强调通过抽象来构建系统的方法，特别专注于不同抽象层次上系统的创建和使用。",type:"book",library:"main"},{id:106,title:"人工智能：现代方法",author:"Stuart Russell",publisher:"Pearson",year:"2020",cover:"https://picsum.photos/200/300?random=106",location:"四楼科技分馆",callNumber:"TP18/R961",available:!1,availableCopies:0,returnDate:"2023-08-15",isbn:"9780134610993",pages:"1136",description:"本书全面系统地介绍了人工智能的理论和实践，阐述了人工智能领域的核心内容。",type:"book",library:"science"},{id:107,title:"计算机网络：自顶向下方法",author:"James F. Kurose",publisher:"Pearson",year:"2017",cover:"https://picsum.photos/200/300?random=107",location:"二楼计算机科学区",callNumber:"TP393/K968",available:!0,availableCopies:4,isbn:"9780133594140",pages:"864",description:"本书采用自顶向下的方法讲解计算机网络的原理及其协议，是经典的计算机网络教材。",type:"book",library:"main"}].filter(e=>e.title.includes(a.value)||e.author.includes(a.value)||e.isbn&&e.isbn.includes(a.value));let t=[...e];l.value&&(t=t.filter(e=>e.type===l.value)),n.value&&(t=t.filter(e=>e.library===n.value)),"newest"===s.value?t.sort((e,a)=>a.year-e.year):"popular"===s.value&&t.sort(()=>Math.random()-.5),m.value=t.length,r.value=t.slice((d.value-1)*v.value,d.value*v.value),ye.nk.success(`找到 ${m.value} 条结果`)},800)):ye.nk.warning("请输入搜索关键词")},f=e=>{d.value=e,h()},L=e=>{a.value=e,h()},y=()=>{a.value="",l.value="",s.value="relevance",n.value="",r.value=[],d.value=1},_=e=>{b.value=e,k.value=!0},F=e=>{ye.nk.success(`已预约《${e.title}》，请到${e.location}借阅`),k.value=!1},C=e=>{p.value.splice(e,1),localStorage.setItem("librarySearchHistory",JSON.stringify(p.value))};(0,o.sV)(()=>{const e=localStorage.getItem("librarySearchHistory");e&&(p.value=JSON.parse(e))});const w=(0,u.KR)([{label:"当前借阅",value:3,icon:c.Reading,color:"#6366f1"},{label:"逾期数量",value:0,icon:c.Clock,color:"#ef4444"},{label:"可续借",value:2,icon:c.Check,color:"#10b981"},{label:"累计借阅",value:42,icon:c.List,color:"#3b82f6"}]),R=(0,u.KR)([{id:1,title:"数据结构与算法分析",author:"Mark Allen Weiss",cover:"https://picsum.photos/200/300?random=1",borrowDate:"2023-06-15",dueDate:"2023-07-15",renewTimes:1},{id:2,title:"计算机网络：自顶向下方法",author:"Andrew S. Tanenbaum",cover:"https://picsum.photos/200/300?random=2",borrowDate:"2023-06-20",dueDate:"2023-07-20",renewTimes:0},{id:3,title:"操作系统概念",author:"Abraham Silberschatz",cover:"https://picsum.photos/200/300?random=3",borrowDate:"2023-06-25",dueDate:"2023-07-25",renewTimes:0}]),E=e=>new Date(e).toLocaleDateString("zh-CN"),W=e=>new Date(e)<new Date,A=e=>e.renewTimes<2&&!W(e.dueDate),x=e=>{if(!A(e))return;const a=R.value.findIndex(a=>a.id===e.id);if(-1!==a){const l=new Date(e.dueDate);l.setDate(l.getDate()+30),R.value[a].renewTimes+=1,R.value[a].dueDate=l.toISOString().split("T")[0],ye.nk.success(`《${e.title}》续借成功，新应还日期: ${E(l)}`)}};return(e,X)=>{const K=(0,o.g2)("el-icon"),S=(0,o.g2)("el-tag"),I=(0,o.g2)("el-option"),D=(0,o.g2)("el-select"),V=(0,o.g2)("el-pagination"),M=(0,o.g2)("el-button"),z=(0,o.g2)("el-dialog");return(0,o.uX)(),(0,o.CE)("div",Qt,[(0,o.Lk)("div",Nt,[(0,o.Lk)("div",Ot,[(0,o.Lk)("h3",null,[(0,o.bF)(K,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Search))]),_:1}),X[7]||(X[7]=(0,o.eW)(" 图书馆资源检索"))]),r.value.length>0?((0,o.uX)(),(0,o.Wv)(S,{key:0,size:"small",type:"info"},{default:(0,o.k6)(()=>[(0,o.eW)((0,i.v_)(r.value.length)+" 条结果 ",1)]),_:1})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Bt,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":X[0]||(X[0]=e=>a.value=e),placeholder:"输入书名、作者或ISBN...",onKeyup:(0,t.jR)(h,["enter"])},null,544),[[t.Jo,a.value]]),(0,o.Lk)("button",{onClick:h},[(0,o.bF)(K,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Search))]),_:1}),X[8]||(X[8]=(0,o.eW)(" 搜索 "))])]),(0,o.Lk)("div",$t,[(0,o.Lk)("div",Gt,[X[9]||(X[9]=(0,o.Lk)("label",null,"类型:",-1)),(0,o.bF)(D,{modelValue:l.value,"onUpdate:modelValue":X[1]||(X[1]=e=>l.value=e),size:"small",style:{width:"120px"}},{default:(0,o.k6)(()=>[(0,o.bF)(I,{value:"",label:"全部"}),(0,o.bF)(I,{value:"book",label:"图书"}),(0,o.bF)(I,{value:"journal",label:"期刊"}),(0,o.bF)(I,{value:"thesis",label:"论文"})]),_:1},8,["modelValue"])]),(0,o.Lk)("div",jt,[X[10]||(X[10]=(0,o.Lk)("label",null,"排序:",-1)),(0,o.bF)(D,{modelValue:s.value,"onUpdate:modelValue":X[2]||(X[2]=e=>s.value=e),size:"small",style:{width:"120px"}},{default:(0,o.k6)(()=>[(0,o.bF)(I,{value:"relevance",label:"相关性"}),(0,o.bF)(I,{value:"newest",label:"最新上架"}),(0,o.bF)(I,{value:"popular",label:"最受欢迎"})]),_:1},8,["modelValue"])]),(0,o.Lk)("div",Ht,[X[11]||(X[11]=(0,o.Lk)("label",null,"馆藏地:",-1)),(0,o.bF)(D,{modelValue:n.value,"onUpdate:modelValue":X[3]||(X[3]=e=>n.value=e),size:"small",style:{width:"120px"}},{default:(0,o.k6)(()=>[(0,o.bF)(I,{value:"",label:"全部"}),(0,o.bF)(I,{value:"main",label:"主馆"}),(0,o.bF)(I,{value:"science",label:"科技分馆"}),(0,o.bF)(I,{value:"arts",label:"人文分馆"})]),_:1},8,["modelValue"])])]),r.value.length>0?((0,o.uX)(),(0,o.CE)("div",qt,[(0,o.Lk)("div",Jt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.value,e=>((0,o.uX)(),(0,o.CE)("div",{class:"result-item",key:e.id,onClick:a=>_(e)},[(0,o.Lk)("img",{src:e.cover||Is,alt:"封面",class:"result-cover"},null,8,Zt),(0,o.Lk)("div",es,[(0,o.Lk)("h4",null,(0,i.v_)(e.title),1),(0,o.Lk)("p",as,(0,i.v_)(e.author)+" · "+(0,i.v_)(e.publisher)+" · "+(0,i.v_)(e.year),1),(0,o.Lk)("p",ls,[(0,o.bF)(K,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Location))]),_:1}),(0,o.eW)(" "+(0,i.v_)(e.location)+" · "+(0,i.v_)(e.callNumber),1)]),(0,o.Lk)("div",{class:(0,i.C4)(["result-status",{available:e.available,limited:e.availableCopies>0&&e.availableCopies<3}])},[e.available&&e.availableCopies>2?((0,o.uX)(),(0,o.CE)("span",ts,"可借阅 ("+(0,i.v_)(e.availableCopies)+"本)",1)):e.available&&e.availableCopies<=2?((0,o.uX)(),(0,o.CE)("span",ss,"仅剩 "+(0,i.v_)(e.availableCopies)+"本",1)):((0,o.uX)(),(0,o.CE)("span",ns,"已借出 (预计归还: "+(0,i.v_)(e.returnDate||"--")+")",1))],2)]),(0,o.bF)(K,{class:"arrow"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.ArrowRight))]),_:1})],8,Yt))),128))]),m.value>v.value?((0,o.uX)(),(0,o.CE)("div",os,[(0,o.bF)(V,{small:"",layout:"prev, pager, next",total:m.value,"page-size":v.value,"current-page":d.value,onCurrentChange:f},null,8,["total","page-size","current-page"])])):(0,o.Q3)("",!0)])):a.value&&0===r.value.length?((0,o.uX)(),(0,o.CE)("div",is,[(0,o.bF)(K,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.DocumentDelete))]),_:1}),X[13]||(X[13]=(0,o.Lk)("p",null,"没有找到匹配的图书",-1)),(0,o.bF)(M,{type:"primary",size:"small",onClick:y},{default:(0,o.k6)(()=>X[12]||(X[12]=[(0,o.eW)("重新搜索")])),_:1,__:[12]})])):((0,o.uX)(),(0,o.CE)("div",us,[X[15]||(X[15]=(0,o.Lk)("h4",null,"热门推荐",-1)),(0,o.Lk)("div",cs,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(g.value,e=>((0,o.uX)(),(0,o.CE)("div",{class:"recommend-item",key:e.id,onClick:a=>L(e.title)},[(0,o.Lk)("img",{src:e.cover||Is,alt:"封面"},null,8,ds),(0,o.Lk)("p",null,(0,i.v_)(e.title),1),e.isNew?((0,o.uX)(),(0,o.CE)("div",vs,"新书")):(0,o.Q3)("",!0)],8,rs))),128))]),p.value.length>0?((0,o.uX)(),(0,o.CE)("div",ms,[X[14]||(X[14]=(0,o.Lk)("h4",null,"搜索历史",-1)),(0,o.Lk)("div",ps,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(p.value,(e,a)=>((0,o.uX)(),(0,o.Wv)(S,{key:a,size:"small",closable:"",onClose:e=>C(a),onClick:a=>L(e)},{default:(0,o.k6)(()=>[(0,o.eW)((0,i.v_)(e),1)]),_:2},1032,["onClose","onClick"]))),128))])])):(0,o.Q3)("",!0)]))]),(0,o.Lk)("div",ks,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(w.value,e=>((0,o.uX)(),(0,o.CE)("div",{class:"summary-card",key:e.label},[(0,o.Lk)("div",{class:"card-icon",style:(0,i.Tr)({color:e.color})},[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.icon)))],4),(0,o.Lk)("div",bs,[(0,o.Lk)("h3",null,(0,i.v_)(e.value),1),(0,o.Lk)("p",null,(0,i.v_)(e.label),1)])]))),128))]),(0,o.Lk)("div",gs,[X[16]||(X[16]=(0,o.Lk)("h2",null,"当前借阅",-1)),(0,o.Lk)("div",hs,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(R.value,e=>((0,o.uX)(),(0,o.CE)("div",{class:"book-card",key:e.id},[(0,o.Lk)("img",{src:e.cover||Is,alt:"封面",class:"book-cover"},null,8,fs),(0,o.Lk)("div",Ls,[(0,o.Lk)("h3",null,(0,i.v_)(e.title),1),(0,o.Lk)("p",ys,(0,i.v_)(e.author),1),(0,o.Lk)("div",{class:(0,i.C4)(["due-date",{overdue:W(e.dueDate)}])},[(0,o.eW)(" 应还日期: "+(0,i.v_)(E(e.dueDate))+" ",1),W(e.dueDate)?((0,o.uX)(),(0,o.CE)("span",_s,"(已逾期)")):(0,o.Q3)("",!0)],2),e.renewTimes>0?((0,o.uX)(),(0,o.CE)("div",Fs," 已续借 "+(0,i.v_)(e.renewTimes)+" 次 ",1)):(0,o.Q3)("",!0),(0,o.Lk)("button",{class:"renew-btn",onClick:a=>x(e),disabled:!A(e)}," 续借 ",8,Cs)])]))),128))])]),(0,o.bF)(z,{modelValue:k.value,"onUpdate:modelValue":X[6]||(X[6]=e=>k.value=e),title:b.value?.title||"图书详情",width:"60%",top:"5vh"},{default:(0,o.k6)(()=>[b.value?((0,o.uX)(),(0,o.CE)("div",ws,[(0,o.Lk)("div",Rs,[(0,o.Lk)("img",{src:b.value.cover||Is,alt:"封面",class:"detail-cover"},null,8,Es),(0,o.Lk)("div",Ws,[(0,o.Lk)("h3",null,(0,i.v_)(b.value.title),1),(0,o.Lk)("p",null,[X[17]||(X[17]=(0,o.Lk)("span",{class:"label"},"作者:",-1)),(0,o.eW)(" "+(0,i.v_)(b.value.author),1)]),(0,o.Lk)("p",null,[X[18]||(X[18]=(0,o.Lk)("span",{class:"label"},"出版社:",-1)),(0,o.eW)(" "+(0,i.v_)(b.value.publisher),1)]),(0,o.Lk)("p",null,[X[19]||(X[19]=(0,o.Lk)("span",{class:"label"},"出版年:",-1)),(0,o.eW)(" "+(0,i.v_)(b.value.year),1)]),(0,o.Lk)("p",null,[X[20]||(X[20]=(0,o.Lk)("span",{class:"label"},"ISBN:",-1)),(0,o.eW)(" "+(0,i.v_)(b.value.isbn||"--"),1)]),(0,o.Lk)("p",null,[X[21]||(X[21]=(0,o.Lk)("span",{class:"label"},"页数:",-1)),(0,o.eW)(" "+(0,i.v_)(b.value.pages||"--"),1)]),(0,o.Lk)("p",null,[X[22]||(X[22]=(0,o.Lk)("span",{class:"label"},"索书号:",-1)),(0,o.eW)(" "+(0,i.v_)(b.value.callNumber),1)]),(0,o.Lk)("p",null,[X[23]||(X[23]=(0,o.Lk)("span",{class:"label"},"馆藏地:",-1)),(0,o.eW)(" "+(0,i.v_)(b.value.location),1)]),(0,o.Lk)("div",As,[X[24]||(X[24]=(0,o.Lk)("span",{class:"label"},"状态:",-1)),(0,o.Lk)("span",{class:(0,i.C4)({"status-available":b.value.available,"status-unavailable":!b.value.available})},[(0,o.eW)((0,i.v_)(b.value.available?"可借阅":"已借出")+" ",1),b.value.available?((0,o.uX)(),(0,o.CE)("span",xs,"("+(0,i.v_)(b.value.availableCopies)+"本可借)",1)):((0,o.uX)(),(0,o.CE)("span",Xs,"(预计归还: "+(0,i.v_)(b.value.returnDate||"--")+")",1))],2)])])]),(0,o.Lk)("div",Ks,[X[25]||(X[25]=(0,o.Lk)("h4",null,"内容简介",-1)),(0,o.Lk)("p",null,(0,i.v_)(b.value.description||"暂无内容简介"),1)]),(0,o.Lk)("div",Ss,[(0,o.bF)(M,{type:"primary",disabled:!b.value.available,onClick:X[4]||(X[4]=e=>F(b.value))},{default:(0,o.k6)(()=>X[26]||(X[26]=[(0,o.eW)(" 预约借书 ")])),_:1,__:[26]},8,["disabled"]),(0,o.bF)(M,{onClick:X[5]||(X[5]=e=>k.value=!1)},{default:(0,o.k6)(()=>X[27]||(X[27]=[(0,o.eW)("关闭")])),_:1,__:[27]})])])):(0,o.Q3)("",!0)]),_:1},8,["modelValue","title"])])}}};const Vs=(0,be.A)(Ds,[["__scopeId","data-v-ca3f7b18"]]);var Ms=Vs;const zs={class:"modern-card"},Ts={class:"panel-header"},Us={class:"semester-selector"},Ps={class:"stats-grid"},Qs=["onMouseenter","onMouseleave"],Ns={class:"stat-icon"},Os={class:"stat-content"},Bs={class:"stat-value"},$s={class:"stat-label"},Gs={class:"main-content"},js={class:"course-list-panel"},Hs={class:"course-list modern-card"},qs={class:"panel-header"},Js={class:"search-filter"},Ys={class:"courses-container"},Zs={class:"course-header"},en={class:"course-code"},an={class:"course-info"},ln={class:"info-item"},tn={class:"info-item"},sn={class:"info-item"},nn={class:"info-item"},on={class:"info-item capacity"},un={class:"course-footer"},cn={key:0,class:"no-courses"},rn={key:1,class:"no-courses"},dn={class:"pagination"},vn={class:"selected-courses-panel"},mn={class:"timetable-preview modern-card"},pn={class:"panel-header"},kn={class:"timetable-container"},bn={class:"timetable-header"},gn={class:"timetable-grid"},hn={class:"time-label"},fn={class:"course-name"},Ln={class:"course-location"},yn=25;var _n={__name:"CoursePage",setup(e){const a=(0,u.KR)("2023-2024-2"),l=(0,u.KR)([{value:"2023-2024-2",label:"2023-2024学年第二学期"},{value:"2023-2024-1",label:"2023-2024学年第一学期"}]),t=(0,u.KR)(null),s=(0,u.KR)(""),n=(0,u.KR)("all"),r=(0,u.KR)([{value:"all",label:"全部"},{value:"compulsory",label:"必修课"},{value:"elective",label:"选修课"},{value:"professional",label:"专业课"},{value:"general",label:"通识课"}]),d=(0,u.KR)(1),v=(0,u.KR)(5),m=(0,o.EW)(()=>[{value:p.value.length,label:"可选课程",icon:c.Collection,color:"#6366f1"},{value:k.value.length,label:"已选课程",icon:c.Check,color:"#10b981"},{value:`${L.value}/${yn}`,label:"已选学分",icon:c.CreditCard,color:"#f59e0b"},{value:"7天",label:"选课截止",icon:c.Calendar,color:"#ef4444"}]),p=(0,u.KR)([{id:1,name:"数据结构与算法",code:"CS101",teacher:"李教授",time:"周一 1-2节",location:"科技楼A302",credits:4,capacityUsed:75,category:"compulsory",schedule:[{day:1,timeSlot:0}]},{id:2,name:"计算机网络",code:"CS102",teacher:"王教授",time:"周二 3-4节",location:"科技楼B401",credits:3,capacityUsed:60,category:"compulsory",schedule:[{day:2,timeSlot:1}]},{id:3,name:"人工智能导论",code:"CS103",teacher:"张教授",time:"周三 5-6节",location:"科技楼C503",credits:4,capacityUsed:85,category:"elective",schedule:[{day:3,timeSlot:2}]},{id:4,name:"操作系统",code:"CS104",teacher:"刘教授",time:"周四 1-2节",location:"科技楼A301",credits:4,capacityUsed:90,category:"compulsory",schedule:[{day:4,timeSlot:0}]},{id:5,name:"数据库系统",code:"CS105",teacher:"陈教授",time:"周五 3-4节",location:"科技楼B402",credits:3,capacityUsed:50,category:"compulsory",schedule:[{day:5,timeSlot:1}]},{id:6,name:"机器学习",code:"CS106",teacher:"赵教授",time:"周二 5-6节",location:"科技楼C501",credits:4,capacityUsed:70,category:"elective",schedule:[{day:2,timeSlot:2}]},{id:7,name:"软件工程",code:"CS107",teacher:"孙教授",time:"周四 5-6节",location:"科技楼C502",credits:3,capacityUsed:65,category:"compulsory",schedule:[{day:4,timeSlot:2}]},{id:8,name:"计算机组成原理",code:"CS108",teacher:"周教授",time:"周一 3-4节",location:"科技楼B403",credits:4,capacityUsed:80,category:"compulsory",schedule:[{day:1,timeSlot:1}]}]),k=(0,u.KR)([]),b=(0,u.KR)(["周一","周二","周三","周四","周五"]),g=(0,u.KR)(["08:00-09:40","10:00-11:40","14:00-15:40"]),h=(0,u.KR)(["rgba(99, 102, 241, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)"]),f=(0,o.EW)(()=>{let e=p.value;if("all"!==n.value&&(e=e.filter(e=>e.category===n.value)),s.value){const a=s.value.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(a)||e.code.toLowerCase().includes(a)||e.teacher.toLowerCase().includes(a))}const a=(d.value-1)*v.value,l=a+v.value;return e.slice(a,l)}),L=(0,o.EW)(()=>k.value.reduce((e,a)=>e+a.credits,0)),y=e=>{document.documentElement.style.setProperty("--mouse-x",`${e.clientX}px`),document.documentElement.style.setProperty("--mouse-y",`${e.clientY}px`)},_=e=>{t.value=e},F=e=>{t.value===e&&(t.value=null)},C=e=>{if(L.value+e.credits>yn)return void ye.nk.warning(`已达到学分上限(${yn}学分)，无法选择更多课程`);const a=k.value.some(a=>a.schedule.some(a=>e.schedule.some(e=>a.day===e.day&&a.timeSlot===e.timeSlot)));a?ye.nk.warning("所选课程与已选课程时间冲突"):(k.value.push(e),ye.nk.success(`已成功选择课程：${e.name}`))},w=e=>k.value.some(a=>a.id===e),R=e=>e>=90?"#f56c6c":e>=70?"#f59e0b":"#67c23a",E=e=>{v.value=e},W=e=>{d.value=e};return(0,o.sV)(()=>{setTimeout(()=>{},300)}),(e,t)=>{const L=(0,o.g2)("el-icon"),A=(0,o.g2)("el-option"),x=(0,o.g2)("el-select"),X=(0,o.g2)("el-input"),K=(0,o.g2)("el-progress"),S=(0,o.g2)("el-button"),I=(0,o.g2)("el-card"),D=(0,o.g2)("el-empty"),V=(0,o.g2)("el-pagination");return(0,o.uX)(),(0,o.CE)("div",{class:"course-selection-container",onMousemove:y},[(0,o.Lk)("div",zs,[(0,o.Lk)("div",Ts,[(0,o.Lk)("h3",null,[(0,o.bF)(L,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.DataAnalysis))]),_:1}),t[3]||(t[3]=(0,o.eW)(" 课程概览 "))]),(0,o.Lk)("div",Us,[(0,o.bF)(x,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),placeholder:"选择学期",size:"small",class:"modern-select"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.value,e=>((0,o.uX)(),(0,o.Wv)(A,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),(0,o.Lk)("div",Ps,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(m.value,(e,a)=>((0,o.uX)(),(0,o.CE)("div",{class:"stat-card",key:a,style:(0,i.Tr)({"--card-color":e.color}),onMouseenter:e=>_(a),onMouseleave:e=>F(a)},[(0,o.Lk)("div",Ns,[t[4]||(t[4]=(0,o.Lk)("div",{class:"icon-bg"},null,-1)),(0,o.bF)(L,{size:24},{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.icon)))]),_:2},1024)]),(0,o.Lk)("div",Os,[(0,o.Lk)("div",Bs,(0,i.v_)(e.value),1),(0,o.Lk)("div",$s,(0,i.v_)(e.label),1)])],44,Qs))),128))])]),(0,o.Lk)("div",Gs,[(0,o.Lk)("div",js,[(0,o.Lk)("div",Hs,[(0,o.Lk)("div",qs,[(0,o.Lk)("h3",null,[(0,o.bF)(L,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Collection))]),_:1}),t[5]||(t[5]=(0,o.eW)(" 可选课程 "))]),(0,o.Lk)("div",Js,[(0,o.bF)(X,{modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),placeholder:"搜索课程",size:"small",clearable:"",class:"modern-input"},{suffix:(0,o.k6)(()=>[(0,o.bF)(L,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Search))]),_:1})]),_:1},8,["modelValue"]),(0,o.bF)(x,{modelValue:n.value,"onUpdate:modelValue":t[2]||(t[2]=e=>n.value=e),placeholder:"筛选分类",size:"small",class:"modern-select"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.value,e=>((0,o.uX)(),(0,o.Wv)(A,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),(0,o.Lk)("div",Ys,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(f.value,e=>((0,o.uX)(),(0,o.Wv)(I,{key:e.id,class:"course-card",shadow:"hover"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Zs,[(0,o.Lk)("h4",null,(0,i.v_)(e.name),1),(0,o.Lk)("span",en,(0,i.v_)(e.code),1)]),(0,o.Lk)("div",an,[(0,o.Lk)("div",ln,[(0,o.bF)(L,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1}),(0,o.Lk)("span",null,(0,i.v_)(e.teacher),1)]),(0,o.Lk)("div",tn,[(0,o.bF)(L,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Clock))]),_:1}),(0,o.Lk)("span",null,(0,i.v_)(e.time),1)]),(0,o.Lk)("div",sn,[(0,o.bF)(L,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Location))]),_:1}),(0,o.Lk)("span",null,(0,i.v_)(e.location),1)]),(0,o.Lk)("div",nn,[(0,o.bF)(L,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.CreditCard))]),_:1}),(0,o.Lk)("span",null,(0,i.v_)(e.credits)+"学分",1)]),(0,o.Lk)("div",on,[(0,o.bF)(K,{percentage:e.capacityUsed,color:R(e.capacityUsed),"stroke-width":10,"text-inside":"",status:"success"},null,8,["percentage","color"]),(0,o.Lk)("span",null,(0,i.v_)(e.capacityUsed)+"%",1)])]),(0,o.Lk)("div",un,[(0,o.bF)(S,{onClick:a=>C(e),disabled:w(e.id),type:"primary",size:"small"},{default:(0,o.k6)(()=>[(0,o.eW)((0,i.v_)(w(e.id)?"已选":"选课"),1)]),_:2},1032,["onClick","disabled"])])]),_:2},1024))),128)),f.value.length||s.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",cn,[(0,o.bF)(D,{description:"暂无可选课程"})])),!f.value.length&&s.value?((0,o.uX)(),(0,o.CE)("div",rn,[(0,o.bF)(D,{image:"search",description:"没有找到匹配的课程"})])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",dn,[(0,o.bF)(V,{onSizeChange:E,onCurrentChange:W,"current-page":d.value,"page-sizes":[5,10,15],"page-size":v.value,layout:"total, sizes, prev, pager, next, jumper",total:p.value.length},null,8,["current-page","page-size","total"])])])]),(0,o.Lk)("div",vn,[(0,o.Lk)("div",mn,[(0,o.Lk)("div",pn,[(0,o.Lk)("h3",null,[(0,o.bF)(L,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Calendar))]),_:1}),t[6]||(t[6]=(0,o.eW)(" 课程表预览 "))])]),(0,o.Lk)("div",kn,[(0,o.Lk)("div",bn,[t[7]||(t[7]=(0,o.Lk)("div",{class:"time-slot-header"},null,-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(b.value,e=>((0,o.uX)(),(0,o.CE)("div",{class:"day-header",key:e},(0,i.v_)(e),1))),128))]),(0,o.Lk)("div",gn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(g.value,(e,a)=>((0,o.uX)(),(0,o.CE)("div",{class:"time-row",key:a},[(0,o.Lk)("div",hn,(0,i.v_)(e),1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(b.value,(e,l)=>((0,o.uX)(),(0,o.CE)("div",{class:"day-column",key:l},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(k.value.filter(e=>e.schedule.some(e=>e.day===l+1&&e.timeSlot===a)),e=>((0,o.uX)(),(0,o.CE)("div",{class:"course-block",key:e.id,style:{left:"0",top:"0",height:"72px",width:"100%"}},[(0,o.Lk)("div",{class:"course-block-inner",style:(0,i.Tr)({backgroundColor:h.value[e.id%h.value.length]})},[(0,o.Lk)("div",fn,(0,i.v_)(e.name),1),(0,o.Lk)("div",Ln,(0,i.v_)(e.location),1)],4)]))),128))]))),128))]))),128))])])])])])],32)}}};const Fn=(0,be.A)(_n,[["__scopeId","data-v-6119162a"]]);var Cn=Fn;const wn={class:"personal-center-content"},Rn={class:"card-header"},En={class:"avatar-section"},Wn=["src"],An={class:"user-info"},xn={class:"username"},Xn={class:"student-id"},Kn={class:"card-body"},Sn={class:"info-group"},In={class:"info-grid"},Dn={class:"info-item"},Vn={class:"item-content"},Mn={class:"item-value"},zn={class:"info-item"},Tn={class:"item-content"},Un={class:"item-value"},Pn={class:"info-item"},Qn={class:"item-content"},Nn={class:"item-value"},On={class:"info-item"},Bn={class:"item-content"},$n={class:"item-value"},Gn={class:"info-group"},jn={class:"info-grid"},Hn={class:"info-item"},qn={class:"item-content"},Jn={class:"item-value"},Yn={class:"info-item"},Zn={class:"item-content"},eo={class:"item-value"},ao={class:"quick-actions-card modern-card"},lo={class:"card-title"},to={class:"actions-grid"},so=["onClick"],no={class:"action-content"};var oo={__name:"SettingsPage",setup(e){const a=()=>ye.nk.info("编辑个人信息功能将在未来版本中实现"),l=()=>ye.nk.info("修改密码功能将在未来版本中实现"),t=()=>ye.nk.info("通知设置功能将在未来版本中实现"),s=()=>ye.nk.info("安全设置功能将在未来版本中实现"),n=()=>ye.nk.info("帮助中心功能将在未来版本中实现"),r=[{name:"修改密码",icon:c.Lock,handler:l},{name:"通知设置",icon:c.Bell,handler:t},{name:"安全设置",icon:c.FirstAidKit,handler:s},{name:"帮助中心",icon:c.QuestionFilled,handler:n}],d=(0,u.Kh)({studentId:"20230001",name:"张三",gender:"male",birthdate:"2000-01-15",email:"zhangsan@example.com",phone:"13800138000",college:"计算机科学与技术学院",class:"计算机科学与技术1班",avatarUrl:"https://picsum.photos/id/1005/200/200"}),v=(0,u.KR)(!1),m=e=>{document.documentElement.style.setProperty("--mouse-x",`${e.clientX}px`),document.documentElement.style.setProperty("--mouse-y",`${e.clientY}px`)},p=e=>new Date(e).toLocaleDateString("zh-CN"),k=e=>{const a={male:"男",female:"女",other:"其他"};return a[e]||"未知"},b=(e,a)=>{d.avatarUrl=URL.createObjectURL(a.raw),ye.nk.success("头像更新成功")},g=e=>{const a="image/jpeg"===e.type||"image/png"===e.type,l=e.size/1024/1024<2;return a||ye.nk.error("上传头像图片只能是 JPG 或 PNG 格式!"),l||ye.nk.error("上传头像图片大小不能超过 2MB!"),a&&l};return(e,l)=>{const t=(0,o.g2)("el-icon"),s=(0,o.g2)("el-upload"),n=(0,o.g2)("el-button");return(0,o.uX)(),(0,o.CE)("div",{class:"personal-center-page",onMousemove:m},[(0,o.Lk)("div",wn,[(0,o.Lk)("div",{class:(0,i.C4)(["personal-info-card modern-card",{"panel-hover":v.value}])},[(0,o.Lk)("div",Rn,[(0,o.Lk)("div",En,[(0,o.bF)(s,{class:"avatar-uploader",action:"#","show-file-list":!1,"on-success":b,"before-upload":g},{default:(0,o.k6)(()=>[d.avatarUrl?((0,o.uX)(),(0,o.CE)("img",{key:0,src:d.avatarUrl,class:"avatar"},null,8,Wn)):((0,o.uX)(),(0,o.Wv)(t,{key:1,class:"avatar-uploader-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Plus))]),_:1}))]),_:1}),(0,o.Lk)("div",An,[(0,o.Lk)("h2",xn,(0,i.v_)(d.name),1),(0,o.Lk)("p",Xn,"学号: "+(0,i.v_)(d.studentId),1)])]),(0,o.bF)(n,{type:"primary",size:"small",onClick:a,class:"edit-button",round:""},{default:(0,o.k6)(()=>[(0,o.bF)(t,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Edit))]),_:1}),l[0]||(l[0]=(0,o.eW)(" 编辑资料 "))]),_:1,__:[0]})]),(0,o.Lk)("div",Kn,[(0,o.Lk)("div",Sn,[l[5]||(l[5]=(0,o.Lk)("h3",{class:"info-title"},"基本信息",-1)),(0,o.Lk)("div",In,[(0,o.Lk)("div",Dn,[(0,o.bF)(t,{class:"item-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1}),(0,o.Lk)("div",Vn,[l[1]||(l[1]=(0,o.Lk)("p",{class:"item-label"},"性别",-1)),(0,o.Lk)("p",Mn,(0,i.v_)(k(d.gender)),1)])]),(0,o.Lk)("div",zn,[(0,o.bF)(t,{class:"item-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Calendar))]),_:1}),(0,o.Lk)("div",Tn,[l[2]||(l[2]=(0,o.Lk)("p",{class:"item-label"},"出生日期",-1)),(0,o.Lk)("p",Un,(0,i.v_)(p(d.birthdate)),1)])]),(0,o.Lk)("div",Pn,[(0,o.bF)(t,{class:"item-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Notification))]),_:1}),(0,o.Lk)("div",Qn,[l[3]||(l[3]=(0,o.Lk)("p",{class:"item-label"},"邮箱",-1)),(0,o.Lk)("p",Nn,(0,i.v_)(d.email),1)])]),(0,o.Lk)("div",On,[(0,o.bF)(t,{class:"item-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Phone))]),_:1}),(0,o.Lk)("div",Bn,[l[4]||(l[4]=(0,o.Lk)("p",{class:"item-label"},"手机号码",-1)),(0,o.Lk)("p",$n,(0,i.v_)(d.phone),1)])])])]),(0,o.Lk)("div",Gn,[l[8]||(l[8]=(0,o.Lk)("h3",{class:"info-title"},"教育信息",-1)),(0,o.Lk)("div",jn,[(0,o.Lk)("div",Hn,[(0,o.bF)(t,{class:"item-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.School))]),_:1}),(0,o.Lk)("div",qn,[l[6]||(l[6]=(0,o.Lk)("p",{class:"item-label"},"学院",-1)),(0,o.Lk)("p",Jn,(0,i.v_)(d.college),1)])]),(0,o.Lk)("div",Yn,[(0,o.bF)(t,{class:"item-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Collection))]),_:1}),(0,o.Lk)("div",Zn,[l[7]||(l[7]=(0,o.Lk)("p",{class:"item-label"},"班级",-1)),(0,o.Lk)("p",eo,(0,i.v_)(d.class),1)])])])])])],2),(0,o.Lk)("div",ao,[(0,o.Lk)("div",lo,[(0,o.bF)(t,{class:"title-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Setting))]),_:1}),l[9]||(l[9]=(0,o.Lk)("span",null,"账户设置",-1))]),(0,o.Lk)("div",to,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(r,e=>(0,o.Lk)("div",{key:e.name,class:"action-item",onClick:e.handler},[(0,o.Lk)("div",no,[(0,o.bF)(t,{class:"action-icon"},{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.icon)))]),_:2},1024),(0,o.Lk)("span",null,(0,i.v_)(e.name),1)]),(0,o.bF)(t,{class:"arrow-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.ArrowRight))]),_:1})],8,so)),64))])])])],32)}}};const io=(0,be.A)(oo,[["__scopeId","data-v-13d02640"]]);var uo=io;const co={class:"top-nav"},ro={class:"container"},vo={class:"nav-content"},mo={class:"nav-center"},po={class:"nav-search"},ko={class:"nav-right"},bo=["title"],go={class:"notification-center"},ho={class:"body-container"},fo=["aria-hidden"],Lo={class:"main-content"},yo={class:"breadcrumb-container"},_o={class:"router-view-container"},Fo={key:0,class:"content-loading"},Co={key:1,class:"content-error"},wo={class:"error-message"},Ro={key:0,class:"mobile-bottom-nav"},Eo=["onClick","aria-current"];var Wo={__name:"TeacherLayout",setup(e){const a=(0,n.rd)(),l=(0,n.lq)(),s=[{index:"1",icon:c.House,text:"首页",path:"/teacher"},{index:"2",icon:c.Notebook,text:"课程",path:"/teacher/courses"},{index:"3",icon:c.EditPen,text:"成绩",path:"/teacher/grades"},{index:"4",icon:c.UserFilled,text:"学生",path:"/teacher/students"},{index:"5",icon:c.ChatLineRound,text:"沟通",path:"/teacher/communication"}],r=(0,u.KR)(!1),d=(0,u.KR)(""),v=(0,u.KR)(""),m=(0,u.KR)(!1),p=(0,u.KR)(!1),k=(0,u.KR)(!1),b=(0,u.KR)(!1),g=(0,u.KR)(!1),h=(0,u.KR)(!1),f=(0,u.KR)(""),L=(0,u.KR)(3),y=(e,a="")=>{g.value=e,h.value=!e&&!!a,f.value=a||"加载失败，请重试"},_=(0,o.EW)(()=>!["/login"].includes(l.path)),F=(0,o.EW)(()=>{const e={"/teacher":"1","/teacher/courses":"2","/teacher/grades":"3","/teacher/students":"4","/teacher/schedule":"5","/teacher/communication":"6","/teacher/settings":"7"};return e[l.path]||"1"});(0,o.wB)(l,e=>{y(!0);const a=setTimeout(()=>{const l={"/teacher":"教师首页","/teacher/courses":"课程管理","/teacher/grades":"成绩管理","/teacher/students":"学生管理","/teacher/schedule":"个人课表","/teacher/communication":"师生沟通","/teacher/settings":"系统设置"};d.value=l[e.path]||"教师中心",y(!1),clearTimeout(a)},500)},{immediate:!0});const C=()=>{r.value=window.scrollY>300},w=e=>{a.push(e.path)},R=()=>{k.value=!k.value,document.body.style.overflow=k.value?"hidden":""},E=e=>{const l={1:"/teacher",2:"/teacher/courses",3:"/teacher/grades",4:"/teacher/students",5:"/teacher/schedule",6:"/teacher/communication",7:"/teacher/settings"};l[e]&&(a.push(l[e]),b.value&&(k.value=!1,document.body.style.overflow=""))},W=e=>{const a=document.querySelector(".sidebar"),l=document.querySelector(".mobile-menu-btn");b.value&&k.value&&a&&l&&!a.contains(e.target)&&!l.contains(e.target)&&(k.value=!1,document.body.style.overflow="")},A=()=>{v.value.trim()&&console.log("搜索:",v.value)},{isDarkMode:x,toggleDarkMode:X}=q(),K=()=>{p.value=!p.value},S=()=>{y(!0),setTimeout(()=>{y(!1)},1e3)},I=()=>{b.value=window.innerWidth<768,b.value&&(k.value=!1)};return(0,o.sV)(()=>{const e=localStorage.getItem("isDarkMode");null!==e&&(x.value="true"===e),document.addEventListener("click",W),window.addEventListener("scroll",C),window.addEventListener("resize",I),I(),y(!0),setTimeout(()=>{y(!1)},800)}),(0,o.hi)(()=>{document.removeEventListener("click",W),window.removeEventListener("scroll",C),window.removeEventListener("resize",I)}),(e,a)=>{const n=(0,o.g2)("el-icon"),p=(0,o.g2)("el-input"),y=(0,o.g2)("el-badge"),C=(0,o.g2)("el-menu-item"),W=(0,o.g2)("el-menu"),I=(0,o.g2)("el-breadcrumb-item"),D=(0,o.g2)("el-breadcrumb"),V=(0,o.g2)("el-spinner"),M=(0,o.g2)("el-button"),z=(0,o.g2)("router-view"),T=(0,o.g2)("el-backtop"),U=(0,o.gN)("loading");return(0,o.uX)(),(0,o.CE)("div",{class:(0,i.C4)(["app-container",{"dark-mode":(0,u.R1)(x)}])},[(0,o.Lk)("header",co,[(0,o.Lk)("div",ro,[(0,o.Lk)("div",vo,[a[2]||(a[2]=(0,o.Lk)("div",{class:"nav-left"},[(0,o.Lk)("div",{class:"nav-logo"},[(0,o.Lk)("span",{class:"logo-text"},"Lucky SMS"),(0,o.Lk)("span",{class:"logo-badge"},"TEA")])],-1)),(0,o.Lk)("div",mo,[(0,o.Lk)("div",po,[(0,o.bF)(p,{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),placeholder:"搜索学生/课程...",size:"small",class:(0,i.C4)(["search-input",{"focus-visible":m.value}]),onKeyup:(0,t.jR)(A,["enter"]),clearable:""},{prefix:(0,o.k6)(()=>[(0,o.bF)(n,{class:"search-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Search))]),_:1})]),_:1},8,["modelValue","class"])])]),(0,o.Lk)("div",ko,[(0,o.Lk)("button",{class:"dark-mode-toggle action-btn",onClick:a[1]||(a[1]=(...e)=>(0,u.R1)(X)&&(0,u.R1)(X)(...e)),"aria-label":"切换暗色模式",title:(0,u.R1)(x)?"切换至日间主题":"切换至夜间主题"},[(0,o.bF)(n,{size:20,class:(0,i.C4)((0,u.R1)(x)?"icon-moon":"icon-sun")},{default:(0,o.k6)(()=>[(0,u.R1)(x)?((0,o.uX)(),(0,o.Wv)((0,u.R1)(c.Moon),{key:1})):((0,o.uX)(),(0,o.Wv)((0,u.R1)(c.Sunny),{key:0}))]),_:1},8,["class"])],8,bo),(0,o.Lk)("div",go,[(0,o.bF)(y,{value:L.value,max:"99",hidden:0===L.value},{default:(0,o.k6)(()=>[(0,o.Lk)("button",{class:"notification-btn action-btn",onClick:K,"aria-label":"通知中心",title:"通知中心"},[(0,o.bF)(n,{size:20},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Bell))]),_:1})])]),_:1},8,["value","hidden"])]),b.value&&_.value?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"mobile-menu-btn action-btn",onClick:R,"aria-label":"移动端菜单",title:"菜单"},[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Menu))]),_:1})])):(0,o.Q3)("",!0)])])])]),(0,o.Lk)("div",ho,[_.value?((0,o.uX)(),(0,o.CE)("aside",{key:0,class:(0,i.C4)(["sidebar",{"sidebar-mobile-open":k.value}]),"aria-hidden":!k.value&&b.value},[(0,o.bF)(W,{"default-active":F.value,class:"sidebar-menu",onSelect:E,"background-color":"var(--sidebar-bg)","text-color":"var(--sidebar-text)","active-text-color":"var(--primary-color)"},{default:(0,o.k6)(()=>[(0,o.bF)(C,{index:"1"},{title:(0,o.k6)(()=>a[3]||(a[3]=[(0,o.eW)("首页")])),default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.House))]),_:1})]),_:1}),(0,o.bF)(C,{index:"2"},{title:(0,o.k6)(()=>a[4]||(a[4]=[(0,o.eW)("课程管理")])),default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Notebook))]),_:1})]),_:1}),(0,o.bF)(C,{index:"3"},{title:(0,o.k6)(()=>a[5]||(a[5]=[(0,o.eW)("成绩管理")])),default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.EditPen))]),_:1})]),_:1}),(0,o.bF)(C,{index:"4"},{title:(0,o.k6)(()=>a[6]||(a[6]=[(0,o.eW)("学生管理")])),default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.UserFilled))]),_:1})]),_:1}),(0,o.bF)(C,{index:"5"},{title:(0,o.k6)(()=>a[7]||(a[7]=[(0,o.eW)("教学计划")])),default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Calendar))]),_:1})]),_:1}),(0,o.bF)(C,{index:"6"},{title:(0,o.k6)(()=>a[8]||(a[8]=[(0,o.eW)("师生交流")])),default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.ChatLineRound))]),_:1})]),_:1}),(0,o.bF)(C,{index:"7"},{title:(0,o.k6)(()=>a[9]||(a[9]=[(0,o.eW)("系统设置")])),default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Setting))]),_:1})]),_:1})]),_:1},8,["default-active"])],10,fo)):(0,o.Q3)("",!0),(0,o.Lk)("main",Lo,[(0,o.Lk)("div",yo,[(0,o.bF)(D,{separator:"/",class:"breadcrumb"},{default:(0,o.k6)(()=>[(0,o.bF)(I,{to:{path:"/"}},{default:(0,o.k6)(()=>a[10]||(a[10]=[(0,o.eW)("Lucky-SMS")])),_:1,__:[10]}),(0,o.bF)(I,null,{default:(0,o.k6)(()=>[(0,o.eW)((0,i.v_)(d.value),1)]),_:1})]),_:1})]),(0,o.Lk)("div",_o,[g.value?((0,o.uX)(),(0,o.CE)("div",Fo,[(0,o.bF)(V,{size:"40",type:"ball-clip-rotate"}),(0,o.bo)((0,o.Lk)("div",null,null,512),[[U,g.value]])])):h.value?((0,o.uX)(),(0,o.CE)("div",Co,[(0,o.bF)(n,{size:"60",class:"error-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Warning))]),_:1}),(0,o.Lk)("p",wo,(0,i.v_)(f.value),1),(0,o.bF)(M,{size:"small",type:"primary",onClick:S,round:""},{default:(0,o.k6)(()=>a[11]||(a[11]=[(0,o.eW)(" 点击重试 ")])),_:1,__:[11]})])):((0,o.uX)(),(0,o.Wv)(z,{key:2},{default:(0,o.k6)(({Component:e})=>[(0,o.bF)(t.eB,{name:"fade",mode:"out-in"},{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e)))]),_:2},1024)]),_:1}))])])]),(0,o.bo)((0,o.bF)(T,{class:"back-to-top",right:24,bottom:24,"visibility-height":300,"transition-duration":300},{default:(0,o.k6)(()=>[(0,o.bF)(n,{size:20},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Top))]),_:1})]),_:1},512),[[t.aG,r.value]]),b.value&&_.value?((0,o.uX)(),(0,o.CE)("nav",Ro,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(s,e=>(0,o.Lk)("button",{key:e.index,onClick:a=>w(e),class:(0,i.C4)({active:(0,u.R1)(l).path===e.path}),"aria-current":(0,u.R1)(l).path===e.path?"page":void 0},[(0,o.bF)(n,{size:20},{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.icon)))]),_:2},1024),(0,o.Lk)("span",null,(0,i.v_)(e.text),1)],10,Eo)),64))])):(0,o.Q3)("",!0)],2)}}};const Ao=(0,be.A)(Wo,[["__scopeId","data-v-82dcbe9e"]]);var xo=Ao,Xo=l(2357),Ko=l(2687),So=l(883),Io=l(8162),Do=l(8559),Vo=l(7377),Mo=l(2006),zo=l(9623),To=l(6018),Uo=l(9210),Po=l(5558);const Qo={class:"teacher-home"},No={class:"welcome-section"},Oo={class:"welcome-card"},Bo={class:"avatar-container"},$o={class:"avatar-text"},Go={class:"welcome-content"},jo={class:"username"},Ho={class:"subtitle"},qo={class:"welcome-stats"},Jo={class:"stat-item"},Yo={class:"stat-value"},Zo={class:"stat-item"},ei={class:"stat-value"},ai={class:"info-cards"},li={class:"info-card teaching-card"},ti={class:"card-header"},si={class:"card-content"},ni={class:"stats-grid"},oi={class:"stat-item"},ii={class:"stat-icon"},ui={class:"stat-content"},ci={class:"stat-value"},ri={class:"stat-item"},di={class:"stat-icon"},vi={class:"stat-content"},mi={class:"stat-value"},pi={class:"stat-item"},ki={class:"stat-icon"},bi={class:"stat-content"},gi={class:"stat-value"},hi={class:"stat-item"},fi={class:"stat-icon"},Li={class:"stat-content"},yi={class:"stat-value"},_i={class:"info-card schedule-card"},Fi={class:"card-header"},Ci={class:"card-content"},wi={key:0,class:"class-info"},Ri={class:"class-time"},Ei={class:"class-name"},Wi={class:"class-meta"},Ai={class:"meta-item"},xi={class:"meta-item"},Xi={class:"class-actions"},Ki={key:1,class:"no-class"},Si={class:"info-card task-card"},Ii={class:"card-header"},Di={class:"task-header-actions"},Vi={class:"card-content"},Mi={class:"task-list"},zi={class:"task-content"},Ti={class:"task-main"},Ui={class:"task-text"},Pi={class:"task-meta"},Qi={key:0,class:"task-course"},Ni={key:1,class:"empty-tasks"},Oi={class:"announcements-card"},Bi={class:"card-header"},$i={class:"card-content"},Gi={class:"announcement-list"},ji=["onClick"],Hi={class:"announcement-content"},qi={class:"announcement-title"},Ji={class:"announcement-meta"},Yi={class:"meta-item"},Zi={class:"meta-item"},eu={key:1,class:"empty-announcements"};var au={__name:"HomePage",setup(e){const a=(0,u.KR)(null),l=(0,u.KR)(null),t=(0,u.KR)(!0),s=(0,u.KR)(null),n=(0,u.KR)(!1),r=(0,u.KR)({text:"",course:"",dueDate:"",important:!1}),d=(0,o.EW)(()=>a.value?.tasks?.filter(e=>!e.completed).length||0),v=(0,o.EW)(()=>a.value?.tasks?.slice(0,5)||[]),m=(0,o.EW)(()=>a.value?.attendanceRate||0),p=(0,o.EW)(()=>a.value?.nextClass?.name&&"暂无课程"!==a.value.nextClass.name),k=(0,o.EW)(()=>{if(!a.value?.nextClass?.time)return!1;const[e]=a.value.nextClass.time.split("-"),l=new Date,[t,s]=e.split(":").map(Number),n=new Date(l.getFullYear(),l.getMonth(),l.getDate(),t,s);return n-l<36e5}),b=(0,o.EW)(()=>k.value?"即将上课":"今日有课"),g=[{text:"今天",value:new Date},{text:"明天",value:()=>{const e=new Date;return e.setTime(e.getTime()+864e5),e}},{text:"一周后",value:()=>{const e=new Date;return e.setTime(e.getTime()+6048e5),e}}],h=async()=>{t.value=!0,s.value=null;try{const e=await Ce.get("/teacher/home");if(200!==e.code)throw new Error(e.message||"获取数据失败");a.value=e.data.teacher||{},l.value=e.data.announcements||[]}catch(e){s.value="获取数据失败，请稍后重试",console.error("获取数据失败:",e),a.value={name:"张明华",id:"T2023001",department:"计算机科学与技术学院",title:"副教授",teachingYears:8,online:!0,avatar:"",courseCount:4,studentCount:156,avgScore:4.7,attendanceRate:92.5,nextClass:{id:"C001",name:"数据结构与算法",time:"14:00-15:30",location:"逸夫楼305",studentCount:42},courses:[{id:"C001",name:"数据结构与算法"},{id:"C002",name:"操作系统原理"},{id:"C003",name:"计算机网络"},{id:"C004",name:"数据库系统"}],tasks:[{id:1,text:"批改数据结构作业第3章",dueDate:"明天",completed:!1,important:!0,course:"数据结构与算法"},{id:2,text:"准备下周操作系统课程PPT",dueDate:"3天后",completed:!1,important:!1,course:"操作系统原理"},{id:3,text:"提交期中考试成绩",dueDate:"2023-11-15",completed:!0,important:!1},{id:4,text:"参加教学研讨会",dueDate:"2023-11-20",completed:!1,important:!0},{id:5,text:"编写数据库实验指导书",dueDate:"2023-12-01",completed:!1,important:!0,course:"数据库系统"}]},l.value=[{id:1,title:"关于2023-2024学年第二学期教学安排的通知",date:"2023-11-01",department:"教务处",type:"important",content:"下学期课程安排已发布，请各位老师及时查看。"},{id:2,title:"2023年度教学成果奖申报通知",date:"2023-10-25",department:"科研处",type:"notice",content:"2023年度教学成果奖申报工作已开始，请有意向的老师按时提交材料。"},{id:3,title:"关于举办教师信息化教学能力提升培训的通知",date:"2023-10-20",department:"教师发展中心",type:"info",content:"本次培训将介绍最新的信息化教学工具和方法，欢迎各位老师报名参加。"},{id:4,title:"关于开展期中教学检查工作的通知",date:"2023-10-15",department:"教学质量监控中心",type:"notice",content:"根据学校教学工作安排，将于第10-11周开展期中教学检查工作。"}]}finally{t.value=!1}},f=async e=>{const a=e.completed;try{ye.nk.success(`任务"${e.text}"已${e.completed?"完成":"待办"}`)}catch(l){e.completed=a,ye.nk.error("更新失败，请重试"),console.error("更新任务失败:",l)}},L=e=>{ye.nk.info(`查看公告: ${e.title}`)},y=e=>{if(!e)return"--";const a=new Date(e);return`${a.getFullYear()}.${a.getMonth()+1}.${a.getDate()}`},_=e=>e?.replace("-"," - ")||"--",F=e=>e?.includes("天")||e?.includes("明天"),C=e=>e?e.includes("明天")||e.includes("今天")?"danger":e.includes("天")&&parseInt(e)<=3?"warning":"info":"info",w=()=>{n.value=!0},R=()=>{if(!r.value.text)return void ye.nk.warning("请填写任务内容");const e={id:Date.now(),text:r.value.text,course:r.value.course,dueDate:E(r.value.dueDate),important:r.value.important,completed:!1};a.value.tasks.unshift(e),ye.nk.success("任务添加成功"),W(),n.value=!1},E=e=>{if(!e)return"";if("string"===typeof e)return e;const a=new Date,l=e-a,t=Math.ceil(l/864e5);return 0===t?"今天":1===t?"明天":t<=7?`${t}天后`:`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`},W=()=>{r.value={text:"",course:"",dueDate:"",important:!1}},A=e=>e<new Date((new Date).setHours(0,0,0,0)),x=(e,l)=>{"edit"===e?ye.nk.info(`编辑任务: ${l.text}`):"delete"===e&&(a.value.tasks=a.value.tasks.filter(e=>e.id!==l.id),ye.nk.success("任务已删除"))},X=()=>ye.nk.info("跳转到课表页面"),K=()=>ye.nk.info("跳转到教学情况页面"),S=e=>ye.nk.info(`进入课堂: ${e}`),I=e=>ye.nk.info(`查看教学资料: ${e}`),D=()=>ye.nk.info("跳转到公告列表");return(0,o.sV)(()=>{h()}),(e,t)=>{const s=(0,o.g2)("el-icon"),h=(0,o.g2)("el-checkbox");return(0,o.uX)(),(0,o.CE)("div",Qo,[(0,o.Lk)("div",null,[(0,o.Lk)("div",No,[(0,o.Lk)("div",Oo,[(0,o.Lk)("div",Bo,[(0,o.bF)((0,u.R1)(Xo.zv),{size:80,src:a.value?.avatar},{default:(0,o.k6)(()=>[(0,o.Lk)("span",$o,(0,i.v_)(a.value?.name?.charAt(0)||"T"),1)]),_:1},8,["src"]),(0,o.Lk)("div",{class:(0,i.C4)(["online-indicator",{online:a.value?.online}])},null,2)]),(0,o.Lk)("div",Go,[(0,o.Lk)("h2",null,[t[8]||(t[8]=(0,o.eW)("欢迎回来，")),(0,o.Lk)("span",jo,(0,i.v_)(a.value?.name||"--"),1),t[9]||(t[9]=(0,o.eW)(" 老师"))]),(0,o.Lk)("p",Ho,"教师编号："+(0,i.v_)(a.value?.id||"--")+" | "+(0,i.v_)(a.value?.department||"--"),1)]),(0,o.Lk)("div",qo,[(0,o.Lk)("div",Jo,[(0,o.Lk)("div",Yo,(0,i.v_)(a.value?.teachingYears||"--"),1),t[10]||(t[10]=(0,o.Lk)("div",{class:"stat-label"},"教龄(年)",-1))]),(0,o.Lk)("div",Zo,[(0,o.Lk)("div",ei,(0,i.v_)(a.value?.title||"--"),1),t[11]||(t[11]=(0,o.Lk)("div",{class:"stat-label"},"职称",-1))])])])]),(0,o.Lk)("div",ai,[(0,o.Lk)("div",li,[(0,o.Lk)("div",ti,[(0,o.Lk)("h3",null,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Notebook))]),_:1}),t[12]||(t[12]=(0,o.eW)(" 教学情况"))]),(0,o.bF)((0,u.R1)($e.C4),{type:"primary",underline:!1,onClick:K},{default:(0,o.k6)(()=>[t[13]||(t[13]=(0,o.eW)("详情 ")),(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.ArrowRight))]),_:1})]),_:1,__:[13]})]),(0,o.Lk)("div",si,[(0,o.Lk)("div",ni,[(0,o.Lk)("div",oi,[(0,o.Lk)("div",ii,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Collection))]),_:1})]),(0,o.Lk)("div",ui,[(0,o.Lk)("div",ci,(0,i.v_)(a.value?.courseCount||"--"),1),t[14]||(t[14]=(0,o.Lk)("div",{class:"stat-label"},"本学期课程",-1))])]),(0,o.Lk)("div",ri,[(0,o.Lk)("div",di,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1})]),(0,o.Lk)("div",vi,[(0,o.Lk)("div",mi,(0,i.v_)(a.value?.studentCount||"--"),1),t[15]||(t[15]=(0,o.Lk)("div",{class:"stat-label"},"学生总数",-1))])]),(0,o.Lk)("div",pi,[(0,o.Lk)("div",ki,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.DataLine))]),_:1})]),(0,o.Lk)("div",bi,[(0,o.Lk)("div",gi,(0,i.v_)(a.value?.avgScore||"--"),1),t[16]||(t[16]=(0,o.Lk)("div",{class:"stat-label"},"平均评分",-1))])]),(0,o.Lk)("div",hi,[(0,o.Lk)("div",fi,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.TrendCharts))]),_:1})]),(0,o.Lk)("div",Li,[(0,o.Lk)("div",yi,(0,i.v_)(m.value)+"%",1),t[17]||(t[17]=(0,o.Lk)("div",{class:"stat-label"},"到课率",-1))])])])])]),(0,o.Lk)("div",_i,[(0,o.Lk)("div",Fi,[(0,o.Lk)("h3",null,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Calendar))]),_:1}),t[18]||(t[18]=(0,o.eW)(" 今日课程"))]),p.value?((0,o.uX)(),(0,o.Wv)((0,u.R1)(Ko.u),{key:0,type:k.value?"danger":"success",size:"small"},{default:(0,o.k6)(()=>[(0,o.eW)((0,i.v_)(b.value),1)]),_:1},8,["type"])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Ci,[p.value?((0,o.uX)(),(0,o.CE)("div",wi,[(0,o.Lk)("div",Ri,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Clock))]),_:1}),(0,o.eW)(" "+(0,i.v_)(_(a.value?.nextClass?.time||"--"))+" ",1),k.value?((0,o.uX)(),(0,o.Wv)((0,u.R1)(Ko.u),{key:0,type:"danger",size:"mini",effect:"dark"},{default:(0,o.k6)(()=>t[19]||(t[19]=[(0,o.eW)(" 即将开始 ")])),_:1,__:[19]})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Ei,(0,i.v_)(a.value?.nextClass?.name||"--"),1),(0,o.Lk)("div",Wi,[(0,o.Lk)("span",Ai,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Location))]),_:1}),(0,o.eW)(" "+(0,i.v_)(a.value?.nextClass?.location||"待定教室"),1)]),(0,o.Lk)("span",xi,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1}),(0,o.eW)(" "+(0,i.v_)(a.value?.nextClass?.studentCount||"--")+"名学生 ",1)])]),(0,o.Lk)("div",Xi,[(0,o.bF)((0,u.R1)(Be.S2),{type:"primary",size:"small",onClick:t[0]||(t[0]=e=>S(a.value.nextClass.id))},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Connection))]),_:1}),t[20]||(t[20]=(0,o.eW)(" 进入课堂 "))]),_:1,__:[20]}),(0,o.bF)((0,u.R1)(Be.S2),{size:"small",onClick:t[1]||(t[1]=e=>I(a.value.nextClass.id))},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Folder))]),_:1}),t[21]||(t[21]=(0,o.eW)(" 教学资料 "))]),_:1,__:[21]})])])):((0,o.uX)(),(0,o.CE)("div",Ki,[(0,o.bF)((0,u.R1)(So.x0),{description:"今日无课程安排","image-size":80},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(Be.S2),{type:"primary",size:"small",onClick:X},{default:(0,o.k6)(()=>t[22]||(t[22]=[(0,o.eW)("查看完整课表")])),_:1,__:[22]})]),_:1})]))])]),(0,o.Lk)("div",Si,[(0,o.Lk)("div",Ii,[(0,o.Lk)("h3",null,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.List))]),_:1}),t[23]||(t[23]=(0,o.eW)(" 待办事项"))]),(0,o.Lk)("div",Di,[d.value>0?((0,o.uX)(),(0,o.Wv)((0,u.R1)(Ko.u),{key:0,type:"danger",size:"small",class:"task-count-tag"},{default:(0,o.k6)(()=>[(0,o.eW)((0,i.v_)(d.value)+" 项待完成 ",1)]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,u.R1)(Be.S2),{size:"small",circle:"",onClick:w,class:"add-task-btn"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Plus))]),_:1})]),_:1})])]),(0,o.Lk)("div",Vi,[(0,o.Lk)("div",Mi,[a.value?.tasks?.length?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(v.value,e=>((0,o.uX)(),(0,o.CE)("div",{class:(0,i.C4)(["task-item",{urgent:F(e.dueDate),completed:e.completed}]),key:e.id},[(0,o.bF)(h,{modelValue:e.completed,"onUpdate:modelValue":a=>e.completed=a,onChange:a=>f(e)},null,8,["modelValue","onUpdate:modelValue","onChange"]),(0,o.Lk)("div",zi,[(0,o.Lk)("div",Ti,[(0,o.Lk)("span",Ui,(0,i.v_)(e.text),1),e.important?((0,o.uX)(),(0,o.Wv)((0,u.R1)(Ko.u),{key:0,size:"mini",type:"danger",effect:"plain"},{default:(0,o.k6)(()=>t[24]||(t[24]=[(0,o.eW)(" 重要 ")])),_:1,__:[24]})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Pi,[(0,o.bF)((0,u.R1)(Ko.u),{size:"mini",type:C(e.dueDate),effect:"plain"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Clock))]),_:1}),(0,o.eW)(" "+(0,i.v_)(e.dueDate),1)]),_:2},1032,["type"]),e.course?((0,o.uX)(),(0,o.CE)("span",Qi,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Collection))]),_:1}),(0,o.eW)(" "+(0,i.v_)(e.course),1)])):(0,o.Q3)("",!0)])]),(0,o.bF)((0,u.R1)(Io.dW),{trigger:"click",onCommand:a=>x(a,e)},{dropdown:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(Io.Iy),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(Io.c6),{command:"edit"},{default:(0,o.k6)(()=>t[25]||(t[25]=[(0,o.eW)("编辑")])),_:1,__:[25]}),(0,o.bF)((0,u.R1)(Io.c6),{command:"delete",divided:""},{default:(0,o.k6)(()=>t[26]||(t[26]=[(0,o.eW)("删除")])),_:1,__:[26]})]),_:1})]),default:(0,o.k6)(()=>[(0,o.bF)(s,{class:"task-more"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.MoreFilled))]),_:1})]),_:2},1032,["onCommand"])],2))),128)):((0,o.uX)(),(0,o.CE)("div",Ni,[(0,o.bF)((0,u.R1)(So.x0),{description:"暂无待办事项","image-size":80},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(Be.S2),{type:"primary",size:"small",onClick:w},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Plus))]),_:1}),t[27]||(t[27]=(0,o.eW)(" 添加新任务 "))]),_:1,__:[27]})]),_:1})]))])])])]),(0,o.Lk)("div",Oi,[(0,o.Lk)("div",Bi,[(0,o.Lk)("h3",null,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Bell))]),_:1}),t[28]||(t[28]=(0,o.eW)(" 最新公告"))]),(0,o.bF)((0,u.R1)($e.C4),{type:"primary",underline:!1,onClick:D},{default:(0,o.k6)(()=>[t[29]||(t[29]=(0,o.eW)(" 查看全部 ")),(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.ArrowRight))]),_:1})]),_:1,__:[29]})]),(0,o.Lk)("div",$i,[(0,o.bF)((0,u.R1)(Do.kA),null,{default:(0,o.k6)(()=>[(0,o.Lk)("div",Gi,[l.value?.length?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(l.value,e=>((0,o.uX)(),(0,o.CE)("div",{class:"announcement-item",key:e.id,onClick:a=>L(e)},[(0,o.Lk)("div",{class:(0,i.C4)(["announcement-badge",e.type])},["important"===e.type?((0,o.uX)(),(0,o.Wv)(s,{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.WarningFilled))]),_:1})):"notice"===e.type?((0,o.uX)(),(0,o.Wv)(s,{key:1},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.BellFilled))]),_:1})):((0,o.uX)(),(0,o.Wv)(s,{key:2},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.InfoFilled))]),_:1}))],2),(0,o.Lk)("div",Hi,[(0,o.Lk)("div",qi,(0,i.v_)(e.title),1),(0,o.Lk)("div",Ji,[(0,o.Lk)("span",Yi,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Clock))]),_:1}),(0,o.eW)(" "+(0,i.v_)(y(e.date)),1)]),(0,o.Lk)("span",Zi,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.OfficeBuilding))]),_:1}),(0,o.eW)(" "+(0,i.v_)(e.department),1)])])]),(0,o.bF)(s,{class:"announcement-arrow"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.ArrowRight))]),_:1})],8,ji))),128)):((0,o.uX)(),(0,o.CE)("div",eu,[(0,o.bF)((0,u.R1)(So.x0),{description:"暂无公告","image-size":80},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)($e.C4),{type:"primary",underline:!1,onClick:D},{default:(0,o.k6)(()=>t[30]||(t[30]=[(0,o.eW)(" 查看历史公告 ")])),_:1,__:[30]})]),_:1})]))])]),_:1})])])]),(0,o.bF)((0,u.R1)(Vo.kZ),{modelValue:n.value,"onUpdate:modelValue":t[7]||(t[7]=e=>n.value=e),title:"添加新任务",width:"500px"},{footer:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(Be.S2),{onClick:t[6]||(t[6]=e=>n.value=!1)},{default:(0,o.k6)(()=>t[31]||(t[31]=[(0,o.eW)("取消")])),_:1,__:[31]}),(0,o.bF)((0,u.R1)(Be.S2),{type:"primary",onClick:R},{default:(0,o.k6)(()=>t[32]||(t[32]=[(0,o.eW)("确认")])),_:1,__:[32]})]),default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(Mo.US),{model:r.value,"label-width":"80px"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(Mo.xE),{label:"任务内容",required:""},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(zo.WK),{modelValue:r.value.text,"onUpdate:modelValue":t[2]||(t[2]=e=>r.value.text=e),placeholder:"请输入任务内容"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,u.R1)(Mo.xE),{label:"关联课程"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(To.AV),{modelValue:r.value.course,"onUpdate:modelValue":t[3]||(t[3]=e=>r.value.course=e),placeholder:"请选择关联课程",clearable:""},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.value?.courses,e=>((0,o.uX)(),(0,o.Wv)((0,u.R1)(To.P9),{key:e.id,label:e.name,value:e.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,o.bF)((0,u.R1)(Mo.xE),{label:"截止时间"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(Uo.MG),{modelValue:r.value.dueDate,"onUpdate:modelValue":t[4]||(t[4]=e=>r.value.dueDate=e),type:"datetime",placeholder:"选择截止时间","disabled-date":A,shortcuts:g},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,u.R1)(Mo.xE),{label:"重要程度"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(Po.qi),{modelValue:r.value.important,"onUpdate:modelValue":t[5]||(t[5]=e=>r.value.important=e),"active-text":"重要","inactive-text":"普通"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}};const lu=(0,be.A)(au,[["__scopeId","data-v-4193ce1e"]]);var tu=lu,su=l(2933);const nu={class:"main-content"},ou={class:"course-list-panel"},iu={class:"course-list modern-card"},uu={class:"panel-header"},cu={class:"header-actions"},ru={class:"search-filter"},du={class:"courses-container"},vu={class:"course-header"},mu={class:"course-code"},pu={class:"course-info"},ku={class:"info-item"},bu={class:"info-item"},gu={class:"info-item"},hu={class:"info-item"},fu={class:"info-item status"},Lu={class:"course-footer"},yu={key:0,class:"no-courses"},_u={key:1,class:"no-courses"},Fu={class:"pagination"},Cu={class:"dialog-footer"};var wu={__name:"CoursesPage",setup(e){const a=(0,u.KR)("2023-2024-2"),l=(0,u.KR)([{value:"2023-2024-2",label:"2023-2024学年第二学期"},{value:"2023-2024-1",label:"2023-2024学年第一学期"}]),t=(0,u.KR)(""),s=(0,u.KR)("all"),n=(0,u.KR)([{value:"all",label:"全部"},{value:"compulsory",label:"必修课"},{value:"elective",label:"选修课"},{value:"professional",label:"专业课"},{value:"general",label:"通识课"}]),r=(0,u.KR)(1),d=(0,u.KR)(5),v=(0,u.KR)([{id:1,name:"数据结构与算法",code:"CS101",teacher:"李教授",studentCount:120,time:"周一 1-2节",location:"科技楼A302",credits:4,category:"compulsory",status:2,schedule:[{day:1,timeSlot:0}]},{id:2,name:"计算机网络",code:"CS102",teacher:"王教授",studentCount:85,time:"周二 3-4节",location:"科技楼B401",credits:3,category:"compulsory",status:2,schedule:[{day:2,timeSlot:1}]},{id:3,name:"人工智能导论",code:"CS103",teacher:"张教授",studentCount:150,time:"周三 5-6节",location:"科技楼C503",credits:4,category:"elective",status:1,schedule:[{day:3,timeSlot:2}]},{id:4,name:"操作系统",code:"CS104",teacher:"刘教授",studentCount:92,time:"周四 1-2节",location:"科技楼A301",credits:4,category:"compulsory",status:3,schedule:[{day:4,timeSlot:0}]},{id:5,name:"数据库系统",code:"CS105",teacher:"陈教授",studentCount:78,time:"周五 3-4节",location:"科技楼B402",credits:3,category:"compulsory",status:2,schedule:[{day:5,timeSlot:1}]},{id:6,name:"机器学习",code:"CS106",teacher:"赵教授",studentCount:105,time:"周二 5-6节",location:"科技楼C501",credits:4,category:"elective",status:1,schedule:[{day:2,timeSlot:2}]},{id:7,name:"软件工程",code:"CS107",teacher:"孙教授",studentCount:64,time:"周四 5-6节",location:"科技楼C502",credits:3,category:"compulsory",status:3,schedule:[{day:4,timeSlot:2}]},{id:8,name:"计算机组成原理",code:"CS108",teacher:"周教授",studentCount:110,time:"周一 3-4节",location:"科技楼B403",credits:4,category:"compulsory",status:2,schedule:[{day:1,timeSlot:1}]}]),m=(0,o.EW)(()=>{let e=v.value;if("all"!==s.value&&(e=e.filter(e=>e.category===s.value)),t.value){const a=t.value.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(a)||e.code.toLowerCase().includes(a)||e.teacher.toLowerCase().includes(a))}const a=(r.value-1)*d.value,l=a+d.value;return e.slice(a,l)}),p=e=>{const a={1:"未开始",2:"进行中",3:"已结束"};return a[e]||"未知"},k=e=>{const a={1:"info",2:"success",3:"primary"};return a[e]||"default"},b=(0,u.KR)(!1),g=(0,u.Kh)({name:"",code:"",category:"compulsory",credits:3,time:"",location:"",status:1}),h=e=>{document.documentElement.style.setProperty("--mouse-x",`${e.clientX}px`),document.documentElement.style.setProperty("--mouse-y",`${e.clientY}px`)},f=e=>{d.value=e},L=e=>{r.value=e},y=()=>{g.name="",g.code="",g.category="compulsory",g.credits=3,g.time="",g.location="",g.status=1,b.value=!0},_=()=>{if(!g.name||!g.code)return void ye.nk.warning("请填写课程名称和课程代码");const e={id:Date.now(),name:g.name,code:g.code,teacher:"李教授",studentCount:0,time:g.time,location:g.location,credits:g.credits,category:g.category,status:g.status,schedule:[]};v.value.push(e),b.value=!1,ye.nk.success("课程创建成功")},F=e=>{ye.nk.info(`查看课程详情: ${e.name}`)},C=e=>{ye.nk.info(`编辑课程: ${e.name}`)},w=e=>{su.s.confirm(`确定要删除课程 "${e.name}" 吗？`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const a=v.value.findIndex(a=>a.id===e.id);-1!==a&&(v.value.splice(a,1),ye.nk.success("课程删除成功"))}).catch(()=>{})};return(e,R)=>{const E=(0,o.g2)("el-icon"),W=(0,o.g2)("el-button"),A=(0,o.g2)("el-option"),x=(0,o.g2)("el-select"),X=(0,o.g2)("el-input"),K=(0,o.g2)("el-tag"),S=(0,o.g2)("el-button-group"),I=(0,o.g2)("el-card"),D=(0,o.g2)("el-empty"),V=(0,o.g2)("el-pagination"),M=(0,o.g2)("el-form-item"),z=(0,o.g2)("el-input-number"),T=(0,o.g2)("el-radio"),U=(0,o.g2)("el-radio-group"),P=(0,o.g2)("el-form"),Q=(0,o.g2)("el-dialog");return(0,o.uX)(),(0,o.CE)("div",{class:"course-management-container",onMousemove:h},[(0,o.Lk)("div",nu,[(0,o.Lk)("div",ou,[(0,o.Lk)("div",iu,[(0,o.Lk)("div",uu,[(0,o.Lk)("h3",null,[(0,o.bF)(E,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Collection))]),_:1}),R[12]||(R[12]=(0,o.eW)(" 我的课程 "))]),(0,o.Lk)("div",cu,[(0,o.bF)(W,{onClick:y,type:"primary",size:"small",class:"mr-2"},{default:(0,o.k6)(()=>[(0,o.bF)(E,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Plus))]),_:1}),R[13]||(R[13]=(0,o.eW)(" 创建课程 "))]),_:1,__:[13]}),(0,o.bF)(x,{modelValue:a.value,"onUpdate:modelValue":R[0]||(R[0]=e=>a.value=e),placeholder:"选择学期",size:"small",class:"modern-select"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.value,e=>((0,o.uX)(),(0,o.Wv)(A,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),(0,o.Lk)("div",ru,[(0,o.bF)(X,{modelValue:t.value,"onUpdate:modelValue":R[1]||(R[1]=e=>t.value=e),placeholder:"搜索课程",size:"small",clearable:"",class:"modern-input"},{suffix:(0,o.k6)(()=>[(0,o.bF)(E,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Search))]),_:1})]),_:1},8,["modelValue"]),(0,o.bF)(x,{modelValue:s.value,"onUpdate:modelValue":R[2]||(R[2]=e=>s.value=e),placeholder:"筛选分类",size:"small",class:"modern-select"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value,e=>((0,o.uX)(),(0,o.Wv)(A,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),(0,o.Lk)("div",du,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(m.value,e=>((0,o.uX)(),(0,o.Wv)(I,{key:e.id,class:"course-card",shadow:"hover"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",vu,[(0,o.Lk)("h4",null,(0,i.v_)(e.name),1),(0,o.Lk)("span",mu,(0,i.v_)(e.code),1)]),(0,o.Lk)("div",pu,[(0,o.Lk)("div",ku,[(0,o.bF)(E,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1}),(0,o.Lk)("span",null,(0,i.v_)(e.studentCount)+"名学生",1)]),(0,o.Lk)("div",bu,[(0,o.bF)(E,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Clock))]),_:1}),(0,o.Lk)("span",null,(0,i.v_)(e.time),1)]),(0,o.Lk)("div",gu,[(0,o.bF)(E,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Location))]),_:1}),(0,o.Lk)("span",null,(0,i.v_)(e.location),1)]),(0,o.Lk)("div",hu,[(0,o.bF)(E,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.CreditCard))]),_:1}),(0,o.Lk)("span",null,(0,i.v_)(e.credits)+"学分",1)]),(0,o.Lk)("div",fu,[(0,o.bF)(K,{type:k(e.status)},{default:(0,o.k6)(()=>[(0,o.eW)((0,i.v_)(p(e.status)),1)]),_:2},1032,["type"])])]),(0,o.Lk)("div",Lu,[(0,o.bF)(S,null,{default:(0,o.k6)(()=>[(0,o.bF)(W,{onClick:a=>F(e),type:"primary",size:"small"},{default:(0,o.k6)(()=>[(0,o.bF)(E,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.View))]),_:1}),R[14]||(R[14]=(0,o.eW)(" 查看 "))]),_:2,__:[14]},1032,["onClick"]),(0,o.bF)(W,{onClick:a=>C(e),type:"warning",size:"small"},{default:(0,o.k6)(()=>[(0,o.bF)(E,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Edit))]),_:1}),R[15]||(R[15]=(0,o.eW)(" 编辑 "))]),_:2,__:[15]},1032,["onClick"]),(0,o.bF)(W,{onClick:a=>w(e),type:"danger",size:"small"},{default:(0,o.k6)(()=>[(0,o.bF)(E,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Delete))]),_:1}),R[16]||(R[16]=(0,o.eW)(" 删除 "))]),_:2,__:[16]},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128)),m.value.length||t.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",yu,[(0,o.bF)(D,{description:"暂无课程"})])),!m.value.length&&t.value?((0,o.uX)(),(0,o.CE)("div",_u,[(0,o.bF)(D,{image:"search",description:"没有找到匹配的课程"})])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Fu,[(0,o.bF)(V,{onSizeChange:f,onCurrentChange:L,"current-page":r.value,"page-sizes":[5,10,15],"page-size":d.value,layout:"total, sizes, prev, pager, next, jumper",total:v.value.length},null,8,["current-page","page-size","total"])])])])]),(0,o.bF)(Q,{"model-value":b.value,title:"创建新课程",onClose:R[11]||(R[11]=e=>b.value=!1)},{content:(0,o.k6)(()=>[(0,o.bF)(P,{ref:"createCourseForm",model:g,"label-width":"120px"},{default:(0,o.k6)(()=>[(0,o.bF)(M,{label:"课程名称",prop:"name"},{default:(0,o.k6)(()=>[(0,o.bF)(X,{modelValue:g.name,"onUpdate:modelValue":R[3]||(R[3]=e=>g.name=e),placeholder:"请输入课程名称"},null,8,["modelValue"])]),_:1}),(0,o.bF)(M,{label:"课程代码",prop:"code"},{default:(0,o.k6)(()=>[(0,o.bF)(X,{modelValue:g.code,"onUpdate:modelValue":R[4]||(R[4]=e=>g.code=e),placeholder:"请输入课程代码"},null,8,["modelValue"])]),_:1}),(0,o.bF)(M,{label:"课程分类",prop:"category"},{default:(0,o.k6)(()=>[(0,o.bF)(x,{modelValue:g.category,"onUpdate:modelValue":R[5]||(R[5]=e=>g.category=e),placeholder:"请选择课程分类"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value,e=>((0,o.uX)(),(0,o.Wv)(A,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,o.bF)(M,{label:"学分",prop:"credits"},{default:(0,o.k6)(()=>[(0,o.bF)(z,{modelValue:g.credits,"onUpdate:modelValue":R[6]||(R[6]=e=>g.credits=e),min:1,max:6,step:1},null,8,["modelValue"])]),_:1}),(0,o.bF)(M,{label:"上课时间",prop:"time"},{default:(0,o.k6)(()=>[(0,o.bF)(X,{modelValue:g.time,"onUpdate:modelValue":R[7]||(R[7]=e=>g.time=e),placeholder:"请输入上课时间"},null,8,["modelValue"])]),_:1}),(0,o.bF)(M,{label:"上课地点",prop:"location"},{default:(0,o.k6)(()=>[(0,o.bF)(X,{modelValue:g.location,"onUpdate:modelValue":R[8]||(R[8]=e=>g.location=e),placeholder:"请输入上课地点"},null,8,["modelValue"])]),_:1}),(0,o.bF)(M,{label:"课程状态",prop:"status"},{default:(0,o.k6)(()=>[(0,o.bF)(U,{modelValue:g.status,"onUpdate:modelValue":R[9]||(R[9]=e=>g.status=e)},{default:(0,o.k6)(()=>[(0,o.bF)(T,{label:1},{default:(0,o.k6)(()=>R[17]||(R[17]=[(0,o.eW)("未开始")])),_:1,__:[17]}),(0,o.bF)(T,{label:2},{default:(0,o.k6)(()=>R[18]||(R[18]=[(0,o.eW)("进行中")])),_:1,__:[18]}),(0,o.bF)(T,{label:3},{default:(0,o.k6)(()=>R[19]||(R[19]=[(0,o.eW)("已结束")])),_:1,__:[19]})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),footer:(0,o.k6)(()=>[(0,o.Lk)("span",Cu,[(0,o.bF)(W,{onClick:R[10]||(R[10]=e=>b.value=!1)},{default:(0,o.k6)(()=>R[20]||(R[20]=[(0,o.eW)("取消")])),_:1,__:[20]}),(0,o.bF)(W,{type:"primary",onClick:_},{default:(0,o.k6)(()=>R[21]||(R[21]=[(0,o.eW)("创建课程")])),_:1,__:[21]})])]),_:1},8,["model-value"])],32)}}};const Ru=(0,be.A)(wu,[["__scopeId","data-v-5442e676"]]);var Eu=Ru;l(116),l(7588);const Wu={class:"grades-stats modern-card"},Au={class:"card-header"},xu={key:0,class:"header-actions"},Xu={class:"stats-container"},Ku={class:"stat-header"},Su={class:"stat-value"},Iu={class:"stat-trend"},Du={key:0,class:"trend-up"},Vu={key:1,class:"trend-down"},Mu={key:2},zu={class:"stat-header"},Tu={class:"stat-value"},Uu={class:"stat-progress"},Pu={class:"stat-header"},Qu={class:"stat-value"},Nu={class:"stat-meta"},Ou={class:"text-sm text-secondary"},Bu={class:"stat-header"},$u={class:"stat-value"},Gu={class:"stat-meta"},ju={class:"grades-management modern-card"},Hu={class:"card-header"},qu={key:0,class:"header-info"},Ju={class:"selected-info"},Yu={class:"management-controls"},Zu={class:"filters-section"},ec={class:"filter-group"},ac={class:"action-buttons"},lc={class:"search-section"},tc={class:"table-container"},sc={key:0,class:"pagination"},nc={class:"submit-details"},oc={key:0,class:"warning-item"};var ic={__name:"GradesPage",setup(e){const a=(0,o.WQ)("isDarkMode",(0,u.KR)(!1)),l=(0,u.KR)(null),t=(0,u.KR)(null),s=(0,u.KR)("2023-2024-2"),n=(0,u.KR)([{value:"2023-2024-2",label:"2023-2024学年第二学期"},{value:"2023-2024-1",label:"2023-2024学年第一学期"},{value:"2022-2023-2",label:"2022-2023学年第二学期"},{value:"2022-2023-1",label:"2022-2023学年第一学期"}]),r=(0,u.KR)([{id:1,name:"数据结构与算法"},{id:2,name:"计算机网络"},{id:3,name:"操作系统"},{id:4,name:"人工智能导论"},{id:5,name:"高等数学（下）"},{id:6,name:"线性代数"}]),d=(0,u.KR)([{id:1,name:"计算机科学与技术1班"},{id:2,name:"计算机科学与技术2班"},{id:3,name:"软件工程1班"},{id:4,name:"软件工程2班"}]),v=(0,u.KR)([{id:1,studentId:"2023001",studentName:"张三",courseId:1,courseName:"数据结构与算法",courseType:"必修课",credits:4,score:85,semester:"2023-2024-2",classId:1,submitted:!0},{id:2,studentId:"2023002",studentName:"李四",courseId:1,courseName:"数据结构与算法",courseType:"必修课",credits:4,score:78,semester:"2023-2024-2",classId:1,submitted:!0},{id:3,studentId:"2023003",studentName:"王五",courseId:1,courseName:"数据结构与算法",courseType:"必修课",credits:4,score:null,semester:"2023-2024-2",classId:1,submitted:!1},{id:4,studentId:"2023004",studentName:"赵六",courseId:1,courseName:"数据结构与算法",courseType:"必修课",credits:4,score:92,semester:"2023-2024-2",classId:2,submitted:!0},{id:5,studentId:"2023005",studentName:"钱七",courseId:1,courseName:"数据结构与算法",courseType:"必修课",credits:4,score:88,semester:"2023-2024-2",classId:2,submitted:!1},{id:6,studentId:"2023006",studentName:"孙八",courseId:1,courseName:"数据结构与算法",courseType:"必修课",credits:4,score:59,semester:"2023-2024-2",classId:2,submitted:!1}]),m=(0,u.KR)(""),p=(0,u.KR)("all"),k=(0,u.KR)(1),b=(0,u.KR)(10),g=(0,u.KR)(!1),h=(0,u.KR)(!1),f=(0,o.EW)(()=>{let e=v.value;return l.value&&(e=e.filter(e=>e.courseId===l.value)),t.value&&(e=e.filter(e=>e.classId===t.value)),s.value&&(e=e.filter(e=>e.semester===s.value)),m.value&&(e=e.filter(e=>e.studentName.toLowerCase().includes(m.value.toLowerCase()))),"pass"===p.value?e=e.filter(e=>e.score>=60):"fail"===p.value?e=e.filter(e=>e.score<60&&null!==e.score):"pending"===p.value&&(e=e.filter(e=>null===e.score||!e.submitted)),e}),L=(0,o.EW)(()=>l.value&&t.value?v.value.filter(e=>e.courseId===l.value&&e.classId===t.value&&e.semester===s.value):[]),y=(0,o.EW)(()=>{if(0===L.value.length)return 0;const e=L.value.filter(e=>null!==e.score);if(0===e.length)return 0;const a=e.reduce((e,a)=>e+a.score,0);return(a/e.length).toFixed(1)}),_=(0,o.EW)(()=>0===L.value.length?0:1*(10*Math.random()-5).toFixed(1)),F=(0,o.EW)(()=>{if(0===L.value.length)return"0%";const e=L.value.filter(e=>null!==e.score);if(0===e.length)return"0%";const a=e.filter(e=>e.score>=60).length;return(a/e.length*100).toFixed(1)+"%"}),C=(0,o.EW)(()=>{if(0===L.value.length)return 0;const e=L.value.filter(e=>null!==e.score);if(0===e.length)return 0;const a=e.filter(e=>e.score>=60).length;return Math.round(a/e.length*100)}),w=(0,o.EW)(()=>{const e=C.value;return e<60?"#ef4444":e<85?"#f59e0b":"#10b981"}),R=(0,o.EW)(()=>{const e=L.value.filter(e=>null!==e.score);return 0===e.length?0:Math.max(...e.map(e=>e.score))}),E=(0,o.EW)(()=>{const e=L.value.filter(e=>null!==e.score);return 0===e.length?0:Math.min(...e.map(e=>e.score))}),W=(0,o.EW)(()=>{const e=L.value.filter(e=>null!==e.score);if(0===e.length)return"";const a=Math.max(...e.map(e=>e.score)),l=e.find(e=>e.score===a);return l?l.studentName:""}),A=(0,o.EW)(()=>{const e=L.value.filter(e=>null!==e.score);if(0===e.length)return"";const a=Math.min(...e.map(e=>e.score)),l=e.find(e=>e.score===a);return l?l.studentName:""}),x=(0,o.EW)(()=>0===L.value.length?0:L.value.filter(e=>null===e.score||!e.submitted).length),X=e=>{const a=r.value.find(a=>a.id===e);return a?a.name:"未知课程"},K=e=>{const a=d.value.find(a=>a.id===e);return a?a.name:"未知班级"},S=e=>{const a=n.value.find(a=>a.value===e);return a?a.label:"未知学期"},I=e=>null===e.score||void 0===e.score?"-":e.score>=90?4:e.score>=85?3.7:e.score>=80?3.3:e.score>=75?3:e.score>=70?2.7:e.score>=65?2.3:e.score>=60?1:0,D=e=>null===e.score||void 0===e.score?"未录入":e.score>=60?"及格":"不及格",V=e=>null===e.score||void 0===e.score?"info":e.score>=60?"success":"danger",M=()=>l.value&&t.value?m.value?"未找到匹配的学生":"all"!==p.value?`没有符合条件的${"pass"===p.value?"及格":"fail"===p.value?"不及格":"待提交"}学生`:"暂无成绩数据":"请选择课程和班级",z=e=>{console.log(`成绩更新: ${e.studentName} - ${e.courseName}: ${e.score}`),e.submitted=!1,null!==e.score&&(e.score<0||e.score>100)&&(ye.nk.warning("成绩必须在0-100之间"),e.score=null)},T=e=>{ye.nk.info(`查看 ${e.studentName} 的 ${e.courseName} 成绩详情`)},U=()=>{ye.nk.info("导入成绩功能")},P=()=>{l.value&&t.value?ye.nk.success(`导出 ${S(s.value)} ${X(l.value)} ${K(t.value)} 的成绩数据`):ye.nk.warning("请先选择课程和班级")},Q=()=>{l.value&&t.value?h.value=!0:ye.nk.warning("请先选择课程和班级")},N=()=>{g.value=!0,setTimeout(()=>{g.value=!1,h.value=!1,L.value.forEach(e=>{null!==e.score&&(e.submitted=!0)}),ye.nk.success("成绩提交成功！")},1500)},O=()=>{l.value&&t.value?p.value="pending":ye.nk.warning("请先选择课程和班级")},B=()=>{t.value=null,k.value=1},$=e=>{b.value=e,k.value=1},G=e=>{k.value=e},j=e=>{document.documentElement.style.setProperty("--mouse-x",`${e.clientX}px`),document.documentElement.style.setProperty("--mouse-y",`${e.clientY}px`)},H=()=>{ye.nk.info("数据已刷新")};return(0,o.sV)(()=>{r.value.length>0&&(l.value=r.value[0].id)}),(0,o.wB)([l,t,s],()=>{k.value=1}),(0,o.wB)(a,e=>{console.log("深色模式切换:",e)}),(e,v)=>{const q=(0,o.g2)("el-icon"),J=(0,o.g2)("el-button"),Y=(0,o.g2)("el-progress"),Z=(0,o.g2)("el-option"),ee=(0,o.g2)("el-select"),ae=(0,o.g2)("el-input"),le=(0,o.g2)("el-table-column"),te=(0,o.g2)("el-input-number"),se=(0,o.g2)("el-tag"),ne=(0,o.g2)("el-table"),oe=(0,o.g2)("el-pagination"),ie=(0,o.g2)("el-dialog");return(0,o.uX)(),(0,o.CE)("div",{class:(0,i.C4)(["grades-dashboard",{dark:(0,u.R1)(a)}]),onMousemove:j},[(0,o.Lk)("div",Wu,[(0,o.Lk)("div",Au,[v[9]||(v[9]=(0,o.Lk)("h2",null,"成绩统计概览",-1)),l.value&&t.value?((0,o.uX)(),(0,o.CE)("div",xu,[(0,o.bF)(J,{onClick:H,type:"text",size:"small",class:"refresh-btn"},{default:(0,o.k6)(()=>[(0,o.bF)(q,{size:16},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Refresh))]),_:1}),v[8]||(v[8]=(0,o.eW)(" 刷新数据 "))]),_:1,__:[8]})])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Xu,[(0,o.Lk)("div",{class:(0,i.C4)(["stats-card",{"high-light":l.value&&t.value}])},[(0,o.Lk)("div",Ku,[v[10]||(v[10]=(0,o.Lk)("h3",null,"当前课程平均分",-1)),(0,o.Lk)("div",Su,(0,i.v_)(y.value||"0"),1)]),(0,o.Lk)("div",Iu,[_.value>0?((0,o.uX)(),(0,o.CE)("span",Du,[(0,o.bF)(q,{size:16},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.ArrowUp))]),_:1}),(0,o.eW)(" "+(0,i.v_)(_.value.toFixed(1))+"% ",1)])):_.value<0?((0,o.uX)(),(0,o.CE)("span",Vu,[(0,o.bF)(q,{size:16},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.ArrowDown))]),_:1}),(0,o.eW)(" "+(0,i.v_)(Math.abs(_.value).toFixed(1))+"% ",1)])):((0,o.uX)(),(0,o.CE)("span",Mu,"持平")),v[11]||(v[11]=(0,o.Lk)("span",{class:"text-sm ml-2"},"vs 上学期",-1))])],2),(0,o.Lk)("div",{class:(0,i.C4)(["stats-card",{"high-light":l.value&&t.value}])},[(0,o.Lk)("div",zu,[v[12]||(v[12]=(0,o.Lk)("h3",null,"及格率",-1)),(0,o.Lk)("div",Tu,(0,i.v_)(F.value||"0%"),1)]),(0,o.Lk)("div",Uu,[(0,o.bF)(Y,{percentage:C.value,"stroke-width":6,color:w.value},null,8,["percentage","color"])])],2),(0,o.Lk)("div",{class:(0,i.C4)(["stats-card",{"high-light":l.value&&t.value}])},[(0,o.Lk)("div",Pu,[v[13]||(v[13]=(0,o.Lk)("h3",null,"最高分/最低分",-1)),(0,o.Lk)("div",Qu,(0,i.v_)(R.value||"0")+"/"+(0,i.v_)(E.value||"0"),1)]),(0,o.Lk)("div",Nu,[(0,o.Lk)("div",Ou,(0,i.v_)(W.value||"暂无数据")+" / "+(0,i.v_)(A.value||"暂无数据"),1)])],2),(0,o.Lk)("div",{class:(0,i.C4)(["stats-card",{"high-light":l.value&&t.value}])},[(0,o.Lk)("div",Bu,[v[14]||(v[14]=(0,o.Lk)("h3",null,"待提交成绩",-1)),(0,o.Lk)("div",$u,(0,i.v_)(x.value||"0"),1)]),(0,o.Lk)("div",Gu,[(0,o.bF)(J,{onClick:O,type:"text",size:"small",class:"view-details-btn"},{default:(0,o.k6)(()=>v[15]||(v[15]=[(0,o.eW)(" 查看详情 ")])),_:1,__:[15]})])],2)])]),(0,o.Lk)("div",ju,[(0,o.Lk)("div",Hu,[v[16]||(v[16]=(0,o.Lk)("h2",null,"成绩管理",-1)),l.value&&t.value?((0,o.uX)(),(0,o.CE)("div",qu,[(0,o.Lk)("span",Ju," 当前："+(0,i.v_)(X(l.value))+" - "+(0,i.v_)(K(t.value)),1)])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Yu,[(0,o.Lk)("div",Zu,[(0,o.Lk)("div",ec,[(0,o.bF)(ee,{modelValue:l.value,"onUpdate:modelValue":v[0]||(v[0]=e=>l.value=e),placeholder:"选择课程",size:"small",onChange:B},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.value,e=>((0,o.uX)(),(0,o.Wv)(Z,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),(0,o.bF)(ee,{modelValue:t.value,"onUpdate:modelValue":v[1]||(v[1]=e=>t.value=e),placeholder:"选择班级",size:"small"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.value,e=>((0,o.uX)(),(0,o.Wv)(Z,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),(0,o.bF)(ee,{modelValue:s.value,"onUpdate:modelValue":v[2]||(v[2]=e=>s.value=e),placeholder:"选择学期",size:"small"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value,e=>((0,o.uX)(),(0,o.Wv)(Z,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),(0,o.Lk)("div",ac,[(0,o.bF)(J,{onClick:U,type:"primary",size:"small",class:"btn-import",disabled:!l.value},{default:(0,o.k6)(()=>[(0,o.bF)(q,{size:16},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Upload))]),_:1}),v[17]||(v[17]=(0,o.eW)(" 导入成绩 "))]),_:1,__:[17]},8,["disabled"]),(0,o.bF)(J,{onClick:P,type:"success",size:"small",class:"btn-export",disabled:!l.value||!t.value},{default:(0,o.k6)(()=>[(0,o.bF)(q,{size:16},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Download))]),_:1}),v[18]||(v[18]=(0,o.eW)(" 导出成绩 "))]),_:1,__:[18]},8,["disabled"]),(0,o.bF)(J,{onClick:Q,type:"danger",size:"small",class:"btn-submit",loading:g.value,disabled:!l.value||!t.value},{default:(0,o.k6)(()=>v[19]||(v[19]=[(0,o.eW)(" 提交成绩 ")])),_:1,__:[19]},8,["loading","disabled"])])]),(0,o.Lk)("div",lc,[(0,o.bF)(ae,{modelValue:m.value,"onUpdate:modelValue":v[3]||(v[3]=e=>m.value=e),placeholder:"搜索学生姓名","prefix-icon":"Search",size:"small",class:"search-input",clearable:""},null,8,["modelValue"]),(0,o.bF)(ee,{modelValue:p.value,"onUpdate:modelValue":v[4]||(v[4]=e=>p.value=e),placeholder:"筛选类型",size:"small",class:"filter-select"},{default:(0,o.k6)(()=>[(0,o.bF)(Z,{label:"全部学生",value:"all"}),(0,o.bF)(Z,{label:"及格",value:"pass"}),(0,o.bF)(Z,{label:"不及格",value:"fail"}),(0,o.bF)(Z,{label:"待提交",value:"pending"})]),_:1},8,["modelValue"])])]),(0,o.Lk)("div",tc,[(0,o.bF)(ne,{data:f.value,stripe:"",class:"grades-data-table",style:{width:"100%"},"empty-text":M(),border:""},{default:(0,o.k6)(()=>[(0,o.bF)(le,{prop:"studentId",label:"学号",width:"120"}),(0,o.bF)(le,{prop:"studentName",label:"学生姓名",width:"100"}),(0,o.bF)(le,{prop:"courseName",label:"课程名称","min-width":"150"}),(0,o.bF)(le,{prop:"courseType",label:"课程类型",width:"100"}),(0,o.bF)(le,{prop:"credits",label:"学分",width:"80"}),(0,o.bF)(le,{label:"成绩",width:"150"},{default:(0,o.k6)(e=>[(0,o.bF)(te,{modelValue:e.row.score,"onUpdate:modelValue":a=>e.row.score=a,min:0,max:100,size:"small",onChange:a=>z(e.row),disabled:e.row.submitted,placeholder:e.row.submitted?"已提交":"请输入"},null,8,["modelValue","onUpdate:modelValue","onChange","disabled","placeholder"])]),_:1}),(0,o.bF)(le,{label:"绩点",width:"80",formatter:I}),(0,o.bF)(le,{label:"状态",width:"100"},{default:(0,o.k6)(e=>[(0,o.bF)(se,{type:V(e.row),size:"small"},{default:(0,o.k6)(()=>[(0,o.eW)((0,i.v_)(D(e.row)),1)]),_:2},1032,["type"])]),_:1}),(0,o.bF)(le,{label:"操作",width:"100"},{default:(0,o.k6)(e=>[(0,o.bF)(J,{type:"text",size:"small",onClick:a=>T(e.row),class:"operation-btn"},{default:(0,o.k6)(()=>v[20]||(v[20]=[(0,o.eW)(" 详情 ")])),_:2,__:[20]},1032,["onClick"])]),_:1})]),_:1},8,["data","empty-text"])]),f.value.length>0?((0,o.uX)(),(0,o.CE)("div",sc,[(0,o.bF)(oe,{onSizeChange:$,onCurrentChange:G,"current-page":k.value,"page-sizes":[5,10,20],"page-size":b.value,layout:"total, sizes, prev, pager, next",total:f.value.length,small:""},null,8,["current-page","page-size","total"])])):(0,o.Q3)("",!0)]),(0,o.bF)(ie,{modelValue:h.value,"onUpdate:modelValue":v[6]||(v[6]=e=>h.value=e),title:"提交成绩确认",onClose:v[7]||(v[7]=e=>h.value=!1)},{footer:(0,o.k6)(()=>[(0,o.bF)(J,{onClick:v[5]||(v[5]=e=>h.value=!1)},{default:(0,o.k6)(()=>v[21]||(v[21]=[(0,o.eW)("取消")])),_:1,__:[21]}),(0,o.bF)(J,{type:"primary",onClick:N,loading:g.value},{default:(0,o.k6)(()=>v[22]||(v[22]=[(0,o.eW)("确认提交")])),_:1,__:[22]},8,["loading"])]),default:(0,o.k6)(()=>[v[23]||(v[23]=(0,o.Lk)("p",null,"确定要提交以下成绩数据吗？",-1)),(0,o.Lk)("ul",nc,[(0,o.Lk)("li",null,"课程："+(0,i.v_)(X(l.value)),1),(0,o.Lk)("li",null,"班级："+(0,i.v_)(K(t.value)),1),(0,o.Lk)("li",null,"学期："+(0,i.v_)(S(s.value)),1),(0,o.Lk)("li",null,"学生总数："+(0,i.v_)(L.value.value.length)+"人",1),x.value>0?((0,o.uX)(),(0,o.CE)("li",oc,[(0,o.bF)(q,{size:16,class:"warning-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.WarningFilled))]),_:1}),(0,o.eW)(" 待提交成绩："+(0,i.v_)(x.value)+"人 ",1)])):(0,o.Q3)("",!0)])]),_:1,__:[23]},8,["modelValue"])],34)}}};const uc=(0,be.A)(ic,[["__scopeId","data-v-085596ec"]]);var cc=uc;l(7642),l(8004),l(3853),l(5876),l(2475),l(5024),l(1698);const rc={class:"modern-card"},dc={class:"panel-header"},vc={class:"department-selector"},mc={class:"stats-grid"},pc=["onMouseenter","onMouseleave"],kc={class:"stat-icon"},bc={class:"stat-content"},gc={class:"stat-value"},hc={class:"stat-label"},fc={class:"main-content"},Lc={class:"student-list-panel"},yc={class:"student-list modern-card"},_c={class:"panel-header"},Fc={class:"search-filter"},Cc={class:"ellipsis-cell"},wc={class:"ellipsis-cell"},Rc={key:0,class:"no-students"},Ec={key:1,class:"no-students"},Wc={class:"pagination"};var Ac={__name:"StudentsPage",setup(e){const a=(0,u.KR)("all"),l=(0,u.KR)([{value:"all",label:"全部院系"},{value:"cs",label:"计算机学院"},{value:"math",label:"数学学院"},{value:"phy",label:"物理学院"},{value:"che",label:"化学学院"}]),s=(0,u.KR)([{value:"all",label:"全部年级"},{value:"2021",label:"2021级"},{value:"2022",label:"2022级"},{value:"2023",label:"2023级"},{value:"2024",label:"2024级"}]),n=(0,u.KR)([{value:"all",label:"全部班级"},{value:"class1",label:"1班"},{value:"class2",label:"2班"},{value:"class3",label:"3班"},{value:"class4",label:"4班"}]),r={normal:"正常在校",sick:"病假",absent:"缺勤",leave:"请假",graduate:"已毕业"},d=(0,u.KR)(null),v=(0,u.KR)(""),m=(0,u.KR)("all"),p=(0,u.KR)("all"),k=(0,u.KR)(1),b=(0,u.KR)(5),g=(0,o.EW)(()=>[{value:h.value.length,label:"总学生数",icon:c.User,color:"#6366f1"},{value:h.value.filter(e=>"normal"===e.status).length,label:"正常在校",icon:c.Check,color:"#10b981"},{value:h.value.filter(e=>"normal"!==e.status&&"graduate"!==e.status).length,label:"特殊状态",icon:c.Warning,color:"#f59e0b"},{value:new Set(h.value.map(e=>e.major)).size,label:"专业数量",icon:c.School,color:"#ef4444"}]),h=(0,u.KR)([{id:1,studentId:"2021001",name:"张三",major:"计算机科学",grade:"2021",class:"class1",phone:"13800138000",gender:"male",dormitory:"1号楼101",status:"normal",admissionDate:"2021-09-01",birthdate:"2003-05-12"},{id:2,studentId:"2021002",name:"李四",major:"计算机科学",grade:"2021",class:"class1",phone:"13900139000",gender:"female",dormitory:"2号楼201",status:"sick",admissionDate:"2021-09-01",birthdate:"2003-08-23"},{id:3,studentId:"2022001",name:"王五",major:"软件工程",grade:"2022",class:"class2",phone:"13700137000",gender:"male",dormitory:"1号楼102",status:"normal",admissionDate:"2022-09-01",birthdate:"2004-03-15"},{id:4,studentId:"2022002",name:"赵六",major:"软件工程",grade:"2022",class:"class2",phone:"13600136000",gender:"female",dormitory:"2号楼202",status:"leave",admissionDate:"2022-09-01",birthdate:"2004-11-30"},{id:5,studentId:"2023001",name:"钱七",major:"数据科学",grade:"2023",class:"class3",phone:"13500135000",gender:"male",dormitory:"1号楼103",status:"normal",admissionDate:"2023-09-01",birthdate:"2005-07-08"},{id:6,studentId:"2023002",name:"孙八",major:"数据科学",grade:"2023",class:"class3",phone:"13400134000",gender:"female",dormitory:"2号楼203",status:"absent",admissionDate:"2023-09-01",birthdate:"2005-09-21"},{id:7,studentId:"2021003",name:"周九",major:"人工智能",grade:"2021",class:"class4",phone:"13300133000",gender:"male",dormitory:"1号楼104",status:"graduate",admissionDate:"2021-09-01",birthdate:"2003-02-17"},{id:8,studentId:"2022003",name:"吴十",major:"人工智能",grade:"2022",class:"class4",phone:"13200132000",gender:"female",dormitory:"2号楼204",status:"normal",admissionDate:"2022-09-01",birthdate:"2004-06-30"}]),f=(0,o.EW)(()=>{let e=h.value;if("all"!==a.value&&(e=e.filter(e=>{const l={cs:["计算机科学","软件工程"],math:["数据科学"],phy:[],che:[]};return l[a.value].includes(e.major)})),"all"!==m.value&&(e=e.filter(e=>e.grade===m.value)),"all"!==p.value&&(e=e.filter(e=>e.class===p.value)),v.value){const a=v.value.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(a)||e.studentId.toLowerCase().includes(a)||e.major.toLowerCase().includes(a))}const l=(k.value-1)*b.value,t=l+b.value;return e.slice(l,t)}),L=e=>"normal"===e?"success":"sick"===e?"warning":"leave"===e?"info":"absent"===e?"danger":"default",y=e=>{document.documentElement.style.setProperty("--mouse-x",`${e.clientX}px`),document.documentElement.style.setProperty("--mouse-y",`${e.clientY}px`)},_=e=>{d.value=e},F=e=>{d.value===e&&(d.value=null)},C=e=>{ye.nk.info(`查看学生详情: ${e.name}`)},w=e=>{ye.nk.success(`进入编辑模式: ${e.name}`)},R=e=>{const a=h.value.find(a=>a.id===e);a&&(h.value=h.value.filter(a=>a.id!==e),ye.nk.success(`已删除学生: ${a.name}`))},E=e=>{b.value=e},W=e=>{k.value=e};return(0,o.sV)(()=>{console.log("学生管理系统已加载")}),(e,d)=>{const A=(0,o.g2)("el-icon"),x=(0,o.g2)("el-option"),X=(0,o.g2)("el-select"),K=(0,o.g2)("el-input"),S=(0,o.g2)("el-table-column"),I=(0,o.g2)("el-tag"),D=(0,o.g2)("el-button"),V=(0,o.g2)("el-table"),M=(0,o.g2)("el-empty"),z=(0,o.g2)("el-pagination");return(0,o.uX)(),(0,o.CE)("div",{class:"student-management-container",onMousemove:y},[(0,o.Lk)("div",rc,[(0,o.Lk)("div",dc,[(0,o.Lk)("h3",null,[(0,o.bF)(A,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.DataAnalysis))]),_:1}),d[4]||(d[4]=(0,o.eW)(" 学生总览 "))]),(0,o.Lk)("div",vc,[(0,o.bF)(X,{modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=e=>a.value=e),placeholder:"选择院系",size:"small",class:"modern-select"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.value,e=>((0,o.uX)(),(0,o.Wv)(x,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),(0,o.Lk)("div",mc,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(g.value,(e,a)=>((0,o.uX)(),(0,o.CE)("div",{class:"stat-card",key:a,style:(0,i.Tr)({"--card-color":e.color}),onMouseenter:e=>_(a),onMouseleave:e=>F(a)},[(0,o.Lk)("div",kc,[d[5]||(d[5]=(0,o.Lk)("div",{class:"icon-bg"},null,-1)),(0,o.bF)(A,{size:24},{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.icon)))]),_:2},1024)]),(0,o.Lk)("div",bc,[(0,o.Lk)("div",gc,(0,i.v_)(e.value),1),(0,o.Lk)("div",hc,(0,i.v_)(e.label),1)])],44,pc))),128))])]),(0,o.Lk)("div",fc,[(0,o.Lk)("div",Lc,[(0,o.Lk)("div",yc,[(0,o.Lk)("div",_c,[(0,o.Lk)("h3",null,[(0,o.bF)(A,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1}),d[6]||(d[6]=(0,o.eW)(" 学生信息列表 "))]),(0,o.Lk)("div",Fc,[(0,o.bF)(K,{modelValue:v.value,"onUpdate:modelValue":d[1]||(d[1]=e=>v.value=e),placeholder:"搜索学生姓名/学号",size:"small",clearable:"",class:"modern-input"},{suffix:(0,o.k6)(()=>[(0,o.bF)(A,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Search))]),_:1})]),_:1},8,["modelValue"]),(0,o.bF)(X,{modelValue:m.value,"onUpdate:modelValue":d[2]||(d[2]=e=>m.value=e),placeholder:"筛选年级",size:"small",class:"modern-select"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.value,e=>((0,o.uX)(),(0,o.Wv)(x,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),(0,o.bF)(X,{modelValue:p.value,"onUpdate:modelValue":d[3]||(d[3]=e=>p.value=e),placeholder:"筛选班级",size:"small",class:"modern-select"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value,e=>((0,o.uX)(),(0,o.Wv)(x,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),(0,o.bF)(V,{data:f.value,stripe:"","highlight-current-row":"",class:"student-table",onRowClick:C},{default:(0,o.k6)(()=>[(0,o.bF)(S,{prop:"studentId",label:"学号",width:"120"}),(0,o.bF)(S,{prop:"name",label:"姓名",width:"100"}),(0,o.bF)(S,{label:"性别",width:"80"},{default:(0,o.k6)(e=>[(0,o.eW)((0,i.v_)("male"===e.row.gender?"男":"女"),1)]),_:1}),(0,o.bF)(S,{prop:"major",label:"专业",width:"120"}),(0,o.bF)(S,{prop:"grade",label:"年级",width:"100"}),(0,o.bF)(S,{label:"班级",width:"100"},{default:(0,o.k6)(e=>[(0,o.eW)((0,i.v_)(e.row.class||"-"),1)]),_:1}),(0,o.bF)(S,{label:"寝室号",width:"100"},{default:(0,o.k6)(e=>[(0,o.Lk)("div",Cc,(0,i.v_)(e.row.dormitory||"-"),1)]),_:1}),(0,o.bF)(S,{prop:"phone",label:"电话",width:"130"},{default:(0,o.k6)(e=>[(0,o.Lk)("div",wc,(0,i.v_)(e.row.phone),1)]),_:1}),(0,o.bF)(S,{label:"状态",width:"100"},{default:(0,o.k6)(e=>[(0,o.bF)(I,{type:L(e.row.status)},{default:(0,o.k6)(()=>[(0,o.eW)((0,i.v_)(r[e.row.status]),1)]),_:2},1032,["type"])]),_:1}),(0,o.bF)(S,{label:"操作",width:"140"},{default:(0,o.k6)(e=>[(0,o.bF)(D,{onClick:(0,t.D$)(a=>w(e.row),["stop"]),type:"primary",size:"small"},{default:(0,o.k6)(()=>d[7]||(d[7]=[(0,o.eW)("编辑")])),_:2,__:[7]},1032,["onClick"]),(0,o.bF)(D,{onClick:(0,t.D$)(a=>R(e.row.id),["stop"]),type:"danger",size:"small",style:{"margin-left":"8px"}},{default:(0,o.k6)(()=>d[8]||(d[8]=[(0,o.eW)("删除")])),_:2,__:[8]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),f.value.length||v.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Rc,[(0,o.bF)(M,{description:"暂无学生数据"})])),!f.value.length&&v.value?((0,o.uX)(),(0,o.CE)("div",Ec,[(0,o.bF)(M,{image:"search",description:"没有找到匹配的学生"})])):(0,o.Q3)("",!0),(0,o.Lk)("div",Wc,[(0,o.bF)(z,{onSizeChange:E,onCurrentChange:W,"current-page":k.value,"page-sizes":[5,10,15],"page-size":b.value,layout:"total, sizes, prev, pager, next, jumper",total:h.value.length},null,8,["current-page","page-size","total"])])])])])],32)}}};const xc=(0,be.A)(Ac,[["__scopeId","data-v-cf047d10"]]);var Xc=xc;const Kc={class:"plan-overview-card modern-card",ref:"overviewRef"},Sc={class:"card-header"},Ic={class:"semester-selector"},Dc={class:"plan-stats"},Vc={class:"stats-grid"},Mc={class:"stat-icon"},zc={class:"stat-content"},Tc={class:"stat-value"},Uc={class:"stat-label"},Pc={key:0,class:"stat-trend"},Qc={class:"teaching-plan-content"},Nc={class:"current-plans modern-card",ref:"currentPlansRef"},Oc={class:"card-header"},Bc={class:"plan-actions"},$c={key:0,class:"empty-state"},Gc={key:0,class:"empty-state"},jc={key:0,class:"empty-state"},Hc={key:0,class:"plan-details modern-card",ref:"detailsRef"},qc={class:"card-header"},Jc={class:"plan-actions"},Yc={class:"plan-summary"},Zc={class:"summary-item"},er={class:"value"},ar={class:"summary-item"},lr={class:"value"},tr={class:"summary-item"},sr={class:"value"},nr={class:"summary-item"},or={class:"value"},ir={class:"summary-item"},ur={class:"value"},cr={class:"plan-section"},rr={class:"plan-section"},dr={class:"plan-section"},vr={class:"plan-section"},mr={class:"resource-list"},pr={class:"resource-author"},kr={class:"resource-publisher"},br={class:"history-plans modern-card",ref:"historyRef"},gr={class:"card-header"},hr={class:"history-filter"},fr={key:0,class:"pagination"};var Lr={__name:"SchedulePage",setup(e){const a=(0,u.KR)(!1),l=(0,u.KR)("2023-2024-2"),t=(0,u.KR)([{value:"2023-2024-2",label:"2023-2024学年第二学期"},{value:"2023-2024-1",label:"2023-2024学年第一学期"},{value:"2022-2023-2",label:"2022-2023学年第二学期"},{value:"2022-2023-1",label:"2022-2023学年第一学期"}]),s=(0,u.KR)("ongoing"),n=(0,u.KR)(null),r=(0,u.KR)(1),d=(0,u.KR)(10),v=(0,u.KR)(""),m=(0,u.KR)([{id:1,courseName:"数据结构与算法",courseCode:"CS101",teacher:"李教授",credits:4,startDate:"2023-09-01",endDate:"2024-01-15",progress:65,status:"ongoing",goals:[{description:"掌握常见数据结构如数组、链表、栈、队列、树和图的基本概念和操作"},{description:"理解算法设计的基本方法，包括分治法、动态规划和贪心算法"},{description:"能够分析算法的时间复杂度和空间复杂度"},{description:"能够应用数据结构和算法解决实际问题"}],lessons:[{week:1,topic:"课程介绍与算法分析",content:"课程概述、算法效率分析、大O表示法",teachingMethod:"讲授",learningOutcomes:"理解算法分析的基本概念"},{week:2,topic:"线性数据结构",content:"数组、链表、栈和队列的实现与应用",teachingMethod:"讲授+实验",learningOutcomes:"能够实现和应用基本线性数据结构"},{week:3,topic:"递归与分治法",content:"递归算法设计、分治法策略",teachingMethod:"讲授+讨论",learningOutcomes:"掌握递归和分治法的算法设计"},{week:4,topic:"树与二叉树",content:"树的基本概念、二叉树的遍历和实现",teachingMethod:"讲授+实验",learningOutcomes:"理解树结构和二叉树操作"},{week:5,topic:"二叉搜索树",content:"二叉搜索树的插入、删除和查找操作",teachingMethod:"讲授+实验",learningOutcomes:"能够实现和应用二叉搜索树"},{week:6,topic:"堆和优先队列",content:"堆的概念、最大堆和最小堆的实现",teachingMethod:"讲授+讨论",learningOutcomes:"理解堆结构和优先队列的应用"},{week:7,topic:"图结构",content:"图的表示、遍历算法",teachingMethod:"讲授+实验",learningOutcomes:"掌握图的基本概念和遍历方法"},{week:8,topic:"期中考试复习",content:"前半学期内容总结与复习",teachingMethod:"讨论+答疑",learningOutcomes:"巩固前半学期所学知识"},{week:9,topic:"期中考试",content:"数据结构与算法期中考试",teachingMethod:"考试",learningOutcomes:"评估前半学期学习成果"},{week:10,topic:"排序算法",content:"常见排序算法：冒泡排序、选择排序、插入排序、快速排序",teachingMethod:"讲授+实验",learningOutcomes:"理解各种排序算法的原理和性能"},{week:11,topic:"高级排序算法",content:"归并排序、堆排序、基数排序",teachingMethod:"讲授+讨论",learningOutcomes:"掌握高级排序算法的实现和应用"},{week:12,topic:"查找算法",content:"哈希表、散列函数、冲突解决",teachingMethod:"讲授+实验",learningOutcomes:"理解哈希表的原理和应用"},{week:13,topic:"动态规划",content:"动态规划的基本概念和应用",teachingMethod:"讲授+案例分析",learningOutcomes:"掌握动态规划的算法设计"},{week:14,topic:"贪心算法",content:"贪心算法的基本概念和应用",teachingMethod:"讲授+案例分析",learningOutcomes:"理解贪心算法的适用场景"},{week:15,topic:"课程总结与项目展示",content:"课程内容总结、学生项目展示",teachingMethod:"讨论+展示",learningOutcomes:"巩固全学期所学知识"},{week:16,topic:"期末考试复习",content:"全学期内容总结与复习",teachingMethod:"讨论+答疑",learningOutcomes:"为期末考试做准备"}],assessments:[{type:"期中考试",description:"前半学期内容考试",weight:30,date:"2023-10-25"},{type:"实验作业",description:"数据结构实现与算法设计",weight:20,date:"2023-12-10"},{type:"课程项目",description:"综合应用数据结构与算法解决实际问题",weight:30,date:"2024-01-05"},{type:"期末考试",description:"全学期内容考试",weight:40,date:"2024-01-20"}],resources:[{title:"数据结构与算法分析",author:"Mark Allen Weiss",publisher:"机械工业出版社",year:"2012"},{title:"算法导论",author:"Thomas H. Cormen",publisher:"麻省理工学院出版社",year:"2009"},{title:"Python数据结构与算法分析",author:"Brad Miller",publisher:"人民邮电出版社",year:"2015"}]},{id:2,courseName:"计算机网络",courseCode:"CS102",teacher:"王老师",credits:3,startDate:"2023-09-01",endDate:"2024-01-15",progress:75,status:"ongoing",goals:[{description:"理解计算机网络的基本概念和体系结构"},{description:"掌握网络层、传输层和应用层的协议和工作原理"},{description:"了解网络安全的基本概念和常用技术"},{description:"能够设计和实现简单的网络应用"}],lessons:[{week:1,topic:"计算机网络概述",content:"网络定义、分类、拓扑结构、网络协议",teachingMethod:"讲授",learningOutcomes:"理解计算机网络的基本概念"},{week:2,topic:"物理层与数据链路层",content:"传输介质、编码技术、MAC地址、以太网",teachingMethod:"讲授+实验",learningOutcomes:"掌握物理层和数据链路层的工作原理"},{week:3,topic:"网络层",content:"IP协议、路由算法、IPv4/IPv6",teachingMethod:"讲授+讨论",learningOutcomes:"理解网络层的功能和IP协议"},{week:4,topic:"传输层",content:"TCP和UDP协议、端口号、连接建立与释放",teachingMethod:"讲授+实验",learningOutcomes:"掌握传输层协议的工作原理"},{week:5,topic:"应用层",content:"HTTP、SMTP、DNS等应用层协议",teachingMethod:"讲授+案例分析",learningOutcomes:"了解常见应用层协议的工作原理"},{week:6,topic:"网络安全基础",content:"加密技术、认证、防火墙、入侵检测",teachingMethod:"讲授+讨论",learningOutcomes:"理解网络安全的基本概念"},{week:7,topic:"网络编程",content:"Socket编程、网络应用开发",teachingMethod:"讲授+实验",learningOutcomes:"掌握基本的网络编程技术"},{week:8,topic:"期中考试复习",content:"前半学期内容总结与复习",teachingMethod:"讨论+答疑",learningOutcomes:"巩固前半学期所学知识"},{week:9,topic:"期中考试",content:"计算机网络期中考试",teachingMethod:"考试",learningOutcomes:"评估前半学期学习成果"},{week:10,topic:"无线网络",content:"Wi-Fi技术、移动网络、蓝牙",teachingMethod:"讲授+讨论",learningOutcomes:"了解无线网络的工作原理"},{week:11,topic:"网络管理与优化",content:"网络性能指标、故障诊断、QoS",teachingMethod:"讲授+案例分析",learningOutcomes:"掌握网络管理和优化的基本方法"},{week:12,topic:"网络新技术",content:"SDN、NFV、物联网网络",teachingMethod:"讲授+讨论",learningOutcomes:"了解网络领域的最新发展"},{week:13,topic:"网络安全进阶",content:"高级加密技术、VPN、网络攻击与防御",teachingMethod:"讲授+案例分析",learningOutcomes:"深入理解网络安全技术"},{week:14,topic:"网络应用开发实践",content:"综合网络应用开发项目",teachingMethod:"实验+指导",learningOutcomes:"应用所学知识开发网络应用"},{week:15,topic:"课程总结与项目展示",content:"课程内容总结、学生项目展示",teachingMethod:"讨论+展示",learningOutcomes:"巩固全学期所学知识"},{week:16,topic:"期末考试复习",content:"全学期内容总结与复习",teachingMethod:"讨论+答疑",learningOutcomes:"为期末考试做准备"}],assessments:[{type:"期中考试",description:"前半学期内容考试",weight:30,date:"2023-10-28"},{type:"实验作业",description:"网络编程与配置",weight:25,date:"2023-12-15"},{type:"课程项目",description:"设计并实现一个网络应用",weight:25,date:"2024-01-08"},{type:"期末考试",description:"全学期内容考试",weight:40,date:"2024-01-22"}],resources:[{title:"计算机网络：自顶向下方法",author:"Andrew S. Tanenbaum",publisher:"机械工业出版社",year:"2012"},{title:"TCP/IP详解",author:"Douglas E. Comer",publisher:"电子工业出版社",year:"2000"},{title:"网络安全基础教程",author:"Andrew S. Tanenbaum",publisher:"清华大学出版社",year:"2015"}]},{id:3,courseName:"操作系统",courseCode:"CS103",teacher:"张教授",credits:4,startDate:"2023-09-01",endDate:"2024-01-15",progress:50,status:"ongoing",goals:[{description:"理解操作系统的基本概念和功能"},{description:"掌握进程管理、内存管理和文件系统的工作原理"},{description:"了解操作系统的设计和实现方法"},{description:"能够使用和配置常见的操作系统"}],lessons:[{week:1,topic:"操作系统概述",content:"操作系统的定义、功能、发展历程",teachingMethod:"讲授",learningOutcomes:"理解操作系统的基本概念"},{week:2,topic:"进程与线程",content:"进程的概念、状态转换、线程的概念",teachingMethod:"讲授+讨论",learningOutcomes:"掌握进程和线程的基本概念"},{week:3,topic:"进程调度",content:"调度算法、CPU调度、多处理器调度",teachingMethod:"讲授+实验",learningOutcomes:"理解进程调度的工作原理"},{week:4,topic:"进程同步与通信",content:"临界区问题、信号量、管程",teachingMethod:"讲授+案例分析",learningOutcomes:"掌握进程同步和通信的方法"},{week:5,topic:"死锁",content:"死锁的概念、预防、避免和检测",teachingMethod:"讲授+讨论",learningOutcomes:"理解死锁的原理和处理方法"},{week:6,topic:"内存管理",content:"内存分配策略、虚拟内存、页面置换算法",teachingMethod:"讲授+实验",learningOutcomes:"掌握内存管理的工作原理"},{week:7,topic:"文件系统",content:"文件和目录结构、文件系统实现",teachingMethod:"讲授+讨论",learningOutcomes:"理解文件系统的组织和实现"},{week:8,topic:"期中考试复习",content:"前半学期内容总结与复习",teachingMethod:"讨论+答疑",learningOutcomes:"巩固前半学期所学知识"},{week:9,topic:"期中考试",content:"操作系统期中考试",teachingMethod:"考试",learningOutcomes:"评估前半学期学习成果"},{week:10,topic:"输入输出系统",content:"I/O硬件、I/O软件、磁盘调度",teachingMethod:"讲授+案例分析",learningOutcomes:"掌握I/O系统的工作原理"},{week:11,topic:"安全与保护",content:"操作系统安全、访问控制、加密",teachingMethod:"讲授+讨论",learningOutcomes:"理解操作系统安全和保护机制"},{week:12,topic:"分布式系统",content:"分布式系统的概念、通信机制",teachingMethod:"讲授+讨论",learningOutcomes:"了解分布式操作系统的基本概念"},{week:13,topic:"操作系统实例分析",content:"Linux和Windows操作系统分析",teachingMethod:"讲授+实验",learningOutcomes:"掌握常见操作系统的使用和配置"},{week:14,topic:"操作系统设计与实现",content:"操作系统的架构设计、微内核与宏内核",teachingMethod:"讲授+讨论",learningOutcomes:"了解操作系统的设计和实现方法"},{week:15,topic:"课程总结与项目展示",content:"课程内容总结、学生项目展示",teachingMethod:"讨论+展示",learningOutcomes:"巩固全学期所学知识"},{week:16,topic:"期末考试复习",content:"全学期内容总结与复习",teachingMethod:"讨论+答疑",learningOutcomes:"为期末考试做准备"}],assessments:[{type:"期中考试",description:"前半学期内容考试",weight:30,date:"2023-10-22"},{type:"实验作业",description:"操作系统编程项目",weight:25,date:"2023-12-05"},{type:"课程项目",description:"实现一个小型操作系统模块",weight:25,date:"2024-01-02"},{type:"期末考试",description:"全学期内容考试",weight:40,date:"2024-01-18"}],resources:[{title:"现代操作系统",author:"Andrew S. Tanenbaum",publisher:"机械工业出版社",year:"2012"},{title:"操作系统概念",author:"Abraham Silberschatz",publisher:"高等教育出版社",year:"2014"},{title:"Linux内核设计与实现",author:"Robert Love",publisher:"机械工业出版社",year:"2013"}]},{id:4,courseName:"高等数学（下）",courseCode:"MATH102",teacher:"刘教授",credits:5,startDate:"2022-09-01",endDate:"2023-01-15",progress:100,completionDate:"2023-01-20",status:"completed",goals:[{description:"掌握多元函数微积分的基本理论和方法"},{description:"理解常微分方程的基本概念和求解方法"},{description:"能够应用数学知识解决实际问题"},{description:"培养逻辑思维和数学建模能力"}]},{id:5,courseName:"线性代数",courseCode:"MATH103",teacher:"陈老师",credits:4,startDate:"2022-09-01",endDate:"2023-01-15",progress:100,completionDate:"2023-01-20",status:"completed",goals:[{description:"掌握矩阵和行列式的基本理论和运算"},{description:"理解线性方程组和向量空间的概念"},{description:"掌握特征值和特征向量的计算方法"},{description:"能够应用线性代数知识解决实际问题"}]},{id:6,courseName:"大学物理",courseCode:"PHYS101",teacher:"黄教授",credits:4,startDate:"2022-02-15",endDate:"2022-06-30",progress:100,completionDate:"2022-07-05",status:"completed",goals:[{description:"掌握经典力学的基本理论和方法"},{description:"理解热学和电磁学的基本概念"},{description:"能够应用物理知识分析和解决实际问题"},{description:"培养科学思维和实验能力"}]},{id:7,courseName:"英语（二）",courseCode:"ENGL102",teacher:"吴老师",credits:3,startDate:"2022-02-15",endDate:"2022-06-30",progress:100,completionDate:"2022-07-05",status:"completed",goals:[{description:"提高英语阅读和写作能力"},{description:"掌握学术英语的表达方式"},{description:"能够进行学术论文的阅读和写作"},{description:"培养跨文化交流能力"}]},{id:8,courseName:"离散数学",courseCode:"MATH101",teacher:"郑教授",credits:4,startDate:"2022-09-01",endDate:"2023-01-15",progress:100,completionDate:"2023-01-20",status:"completed",goals:[{description:"掌握集合、逻辑和函数的基本理论"},{description:"理解图论和组合数学的基本概念"},{description:"能够应用离散数学知识解决计算机科学问题"},{description:"培养抽象思维和逻辑推理能力"}]},{id:9,courseName:"人工智能基础",courseCode:"CS201",teacher:"赵教授",credits:4,startDate:"2023-02-15",endDate:"2023-06-30",progress:100,completionDate:"2023-07-05",status:"completed",goals:[{description:"理解人工智能的基本概念和发展历程"},{description:"掌握机器学习的基本算法和模型"},{description:"了解自然语言处理和计算机视觉的应用"},{description:"能够应用人工智能技术解决实际问题"}]},{id:10,courseName:"数据库系统",courseCode:"CS104",teacher:"孙老师",credits:4,startDate:"2023-09-01",endDate:"2024-01-15",progress:30,status:"draft",lastUpdated:"2023-10-10"}]),p=(0,o.EW)(()=>m.value.filter(e=>"ongoing"===e.status)),k=(0,o.EW)(()=>m.value.filter(e=>"completed"===e.status)),b=(0,o.EW)(()=>m.value.filter(e=>"draft"===e.status)),g=(0,o.EW)(()=>{if(!v.value.trim())return k.value;const e=v.value.toLowerCase().trim();return k.value.filter(a=>a.courseName.toLowerCase().includes(e)||a.courseCode.toLowerCase().includes(e)||a.teacher.toLowerCase().includes(e))}),h=(0,o.EW)(()=>[{value:p.value.length,label:"进行中计划",icon:c.Calendar,color:"#6366f1",trend:10},{value:k.value.length,label:"已完成计划",icon:c.Check,color:"#10b981",trend:15},{value:b.value.length,label:"草稿计划",icon:c.Document,color:"#f59e0b",trend:-5},{value:f.value,label:"平均进度",icon:c.Star,color:"#409eff",trend:3.2}]),f=(0,o.EW)(()=>{if(0===p.value.length)return 0;const e=p.value.reduce((e,a)=>e+a.progress,0);return Math.round(e/p.value.length)}),L=e=>e>=80?"#67c23a":e>=60?"#e6a23c":"#f56c6c",y=e=>{n.value={...e},ye.nk.info(`查看教学计划详情: ${e.courseName}`)},_=e=>{ye.nk.info(`编辑教学计划: ${e.courseName}`)},F=e=>{su.s.confirm(`确定要删除教学计划 "${e.courseName}" 吗?`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const a=m.value.findIndex(a=>a.id===e.id);-1!==a&&(m.value.splice(a,1),n.value&&n.value.id===e.id&&(n.value=null),ye.nk.success("教学计划已成功删除"))}).catch(()=>{ye.nk.info("已取消删除")})},C=()=>{ye.nk.info("创建新的教学计划")},w=()=>{ye.nk.info("导入教学计划")},R=e=>{ye.nk.info(`导出教学计划: ${e.courseName}`)},E=e=>{d.value=e},W=e=>{r.value=e},A=e=>{const a=e.clientX/window.innerWidth*100,l=e.clientY/window.innerHeight*100;document.documentElement.style.setProperty("--mouse-x",`${a}px`),document.documentElement.style.setProperty("--mouse-y",`${l}px`)},x=e=>"number"!==typeof e||Number.isInteger(e)?e:e.toFixed(1);return(0,o.sV)(()=>{}),(e,m)=>{const f=(0,o.g2)("el-icon"),X=(0,o.g2)("el-option"),K=(0,o.g2)("el-select"),S=(0,o.g2)("animated-number"),I=(0,o.g2)("el-button"),D=(0,o.g2)("el-table-column"),V=(0,o.g2)("el-progress"),M=(0,o.g2)("el-table"),z=(0,o.g2)("el-empty"),T=(0,o.g2)("el-tab-pane"),U=(0,o.g2)("el-tabs"),P=(0,o.g2)("el-badge"),Q=(0,o.g2)("el-input"),N=(0,o.g2)("el-pagination");return(0,o.uX)(),(0,o.CE)("div",{class:(0,i.C4)(["teaching-plan-dashboard",{dark:a.value}]),onMousemove:A},[(0,o.Lk)("div",Kc,[(0,o.Lk)("div",Sc,[(0,o.Lk)("h2",null,[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Notebook))]),_:1}),m[5]||(m[5]=(0,o.eW)(" 教学计划概览 "))]),(0,o.Lk)("div",Ic,[(0,o.bF)(K,{modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=e=>l.value=e),placeholder:"选择学期",size:"small",class:"modern-select"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.value,e=>((0,o.uX)(),(0,o.Wv)(X,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),(0,o.Lk)("div",Dc,[(0,o.Lk)("div",Vc,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(h.value,(e,a)=>((0,o.uX)(),(0,o.CE)("div",{class:"stat-card",key:a,style:(0,i.Tr)({"--card-color":e.color})},[(0,o.Lk)("div",Mc,[m[6]||(m[6]=(0,o.Lk)("div",{class:"icon-bg"},null,-1)),(0,o.bF)(f,{size:24},{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.icon)))]),_:2},1024)]),(0,o.Lk)("div",zc,[(0,o.Lk)("div",Tc,[(0,o.bF)(S,{value:e.value,formatValue:x,duration:800},null,8,["value"])]),(0,o.Lk)("div",Uc,(0,i.v_)(e.label),1)]),e.trend?((0,o.uX)(),(0,o.CE)("div",Pc,[(0,o.bF)(f,{color:e.trend>0?"#f56c6c":"#67c23a"},{default:(0,o.k6)(()=>[e.trend>0?((0,o.uX)(),(0,o.Wv)((0,u.R1)(c.CaretTop),{key:0})):((0,o.uX)(),(0,o.Wv)((0,u.R1)(c.CaretBottom),{key:1}))]),_:2},1032,["color"]),(0,o.Lk)("span",{style:(0,i.Tr)({color:e.trend>0?"#f56c6c":"#67c23a"})},(0,i.v_)(Math.abs(e.trend))+"% ",5)])):(0,o.Q3)("",!0)],4))),128))])])],512),(0,o.Lk)("div",Qc,[(0,o.Lk)("div",Nc,[(0,o.Lk)("div",Oc,[(0,o.Lk)("h3",null,[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Calendar))]),_:1}),m[7]||(m[7]=(0,o.eW)(" 当前教学计划 "))]),(0,o.Lk)("div",Bc,[(0,o.bF)(I,{type:"primary",size:"small",onClick:C},{default:(0,o.k6)(()=>[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Plus))]),_:1}),m[8]||(m[8]=(0,o.eW)(" 创建计划 "))]),_:1,__:[8]}),(0,o.bF)(I,{type:"text",size:"small",onClick:w},{default:(0,o.k6)(()=>[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Upload))]),_:1}),m[9]||(m[9]=(0,o.eW)(" 导入计划 "))]),_:1,__:[9]})])]),(0,o.bF)(U,{modelValue:s.value,"onUpdate:modelValue":m[1]||(m[1]=e=>s.value=e),type:"border-card",class:"plan-tabs"},{default:(0,o.k6)(()=>[(0,o.bF)(T,{label:"进行中",name:"ongoing"},{default:(0,o.k6)(()=>[(0,o.bF)(M,{data:p.value,border:"",stripe:"",class:"plan-table"},{default:(0,o.k6)(()=>[(0,o.bF)(D,{prop:"courseName",label:"课程名称","min-width":"180"}),(0,o.bF)(D,{prop:"teacher",label:"授课教师",width:"120"}),(0,o.bF)(D,{prop:"startDate",label:"开始日期",width:"120"}),(0,o.bF)(D,{prop:"endDate",label:"结束日期",width:"120"}),(0,o.bF)(D,{prop:"progress",label:"完成进度",width:"140"},{default:(0,o.k6)(e=>[(0,o.bF)(V,{percentage:e.row.progress,color:L(e.row.progress),"stroke-width":12},null,8,["percentage","color"])]),_:1}),(0,o.bF)(D,{label:"操作",width:"180"},{default:(0,o.k6)(e=>[(0,o.bF)(I,{type:"text",size:"small",onClick:a=>y(e.row)},{default:(0,o.k6)(()=>m[10]||(m[10]=[(0,o.eW)(" 查看详情 ")])),_:2,__:[10]},1032,["onClick"]),(0,o.bF)(I,{type:"text",size:"small",onClick:a=>_(e.row)},{default:(0,o.k6)(()=>m[11]||(m[11]=[(0,o.eW)(" 编辑 ")])),_:2,__:[11]},1032,["onClick"]),(0,o.bF)(I,{type:"text",size:"small",onClick:a=>F(e.row)},{default:(0,o.k6)(()=>m[12]||(m[12]=[(0,o.eW)(" 删除 ")])),_:2,__:[12]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),0===p.value.length?((0,o.uX)(),(0,o.CE)("div",$c,[(0,o.bF)(z,{description:"暂无进行中的教学计划"})])):(0,o.Q3)("",!0)]),_:1}),(0,o.bF)(T,{label:"已完成",name:"completed"},{default:(0,o.k6)(()=>[(0,o.bF)(M,{data:k.value,border:"",stripe:"",class:"plan-table"},{default:(0,o.k6)(()=>[(0,o.bF)(D,{prop:"courseName",label:"课程名称","min-width":"180"}),(0,o.bF)(D,{prop:"teacher",label:"授课教师",width:"120"}),(0,o.bF)(D,{prop:"startDate",label:"开始日期",width:"120"}),(0,o.bF)(D,{prop:"endDate",label:"结束日期",width:"120"}),(0,o.bF)(D,{prop:"completionDate",label:"完成日期",width:"120"}),(0,o.bF)(D,{label:"操作",width:"120"},{default:(0,o.k6)(e=>[(0,o.bF)(I,{type:"text",size:"small",onClick:a=>y(e.row)},{default:(0,o.k6)(()=>m[13]||(m[13]=[(0,o.eW)(" 查看详情 ")])),_:2,__:[13]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),0===k.value.length?((0,o.uX)(),(0,o.CE)("div",Gc,[(0,o.bF)(z,{description:"暂无已完成的教学计划"})])):(0,o.Q3)("",!0)]),_:1}),(0,o.bF)(T,{label:"草稿",name:"draft"},{default:(0,o.k6)(()=>[(0,o.bF)(M,{data:b.value,border:"",stripe:"",class:"plan-table"},{default:(0,o.k6)(()=>[(0,o.bF)(D,{prop:"courseName",label:"课程名称","min-width":"180"}),(0,o.bF)(D,{prop:"teacher",label:"授课教师",width:"120"}),(0,o.bF)(D,{prop:"lastUpdated",label:"最后更新",width:"120"}),(0,o.bF)(D,{label:"操作",width:"180"},{default:(0,o.k6)(e=>[(0,o.bF)(I,{type:"text",size:"small",onClick:a=>y(e.row)},{default:(0,o.k6)(()=>m[14]||(m[14]=[(0,o.eW)(" 查看详情 ")])),_:2,__:[14]},1032,["onClick"]),(0,o.bF)(I,{type:"text",size:"small",onClick:a=>_(e.row)},{default:(0,o.k6)(()=>m[15]||(m[15]=[(0,o.eW)(" 编辑 ")])),_:2,__:[15]},1032,["onClick"]),(0,o.bF)(I,{type:"text",size:"small",onClick:a=>F(e.row)},{default:(0,o.k6)(()=>m[16]||(m[16]=[(0,o.eW)(" 删除 ")])),_:2,__:[16]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),0===b.value.length?((0,o.uX)(),(0,o.CE)("div",jc,[(0,o.bF)(z,{description:"暂无草稿状态的教学计划"})])):(0,o.Q3)("",!0)]),_:1})]),_:1},8,["modelValue"])],512),n.value?((0,o.uX)(),(0,o.CE)("div",Hc,[(0,o.Lk)("div",qc,[(0,o.Lk)("h3",null,[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Document))]),_:1}),(0,o.eW)(" "+(0,i.v_)(n.value.courseName)+" - 教学计划详情 ",1)]),(0,o.Lk)("div",Jc,[(0,o.bF)(I,{type:"primary",size:"small",onClick:m[2]||(m[2]=e=>_(n.value))},{default:(0,o.k6)(()=>[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Edit))]),_:1}),m[17]||(m[17]=(0,o.eW)(" 编辑计划 "))]),_:1,__:[17]}),(0,o.bF)(I,{type:"text",size:"small",onClick:m[3]||(m[3]=e=>R(n.value))},{default:(0,o.k6)(()=>[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Download))]),_:1}),m[18]||(m[18]=(0,o.eW)(" 导出计划 "))]),_:1,__:[18]})])]),(0,o.Lk)("div",Yc,[(0,o.Lk)("div",Zc,[m[19]||(m[19]=(0,o.Lk)("span",{class:"label"},"课程代码:",-1)),(0,o.Lk)("span",er,(0,i.v_)(n.value.courseCode),1)]),(0,o.Lk)("div",ar,[m[20]||(m[20]=(0,o.Lk)("span",{class:"label"},"授课教师:",-1)),(0,o.Lk)("span",lr,(0,i.v_)(n.value.teacher),1)]),(0,o.Lk)("div",tr,[m[21]||(m[21]=(0,o.Lk)("span",{class:"label"},"学分:",-1)),(0,o.Lk)("span",sr,(0,i.v_)(n.value.credits),1)]),(0,o.Lk)("div",nr,[m[22]||(m[22]=(0,o.Lk)("span",{class:"label"},"计划周期:",-1)),(0,o.Lk)("span",or,(0,i.v_)(n.value.startDate)+" - "+(0,i.v_)(n.value.endDate),1)]),(0,o.Lk)("div",ir,[m[23]||(m[23]=(0,o.Lk)("span",{class:"label"},"当前进度:",-1)),(0,o.Lk)("span",ur,[(0,o.bF)(V,{percentage:n.value.progress,color:L(n.value.progress),"stroke-width":16,class:"inline-progress"},null,8,["percentage","color"]),(0,o.eW)(" "+(0,i.v_)(n.value.progress)+"% ",1)])])]),(0,o.bF)(U,{type:"card",class:"plan-detail-tabs"},{default:(0,o.k6)(()=>[(0,o.bF)(T,{label:"课程目标"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",cr,[m[24]||(m[24]=(0,o.Lk)("h4",null,"课程目标",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value.goals,(e,a)=>((0,o.uX)(),(0,o.CE)("div",{class:"goal-item",key:a},[(0,o.bF)(P,{value:a+1,type:"primary",class:"goal-badge"},null,8,["value"]),(0,o.Lk)("p",null,(0,i.v_)(e.description),1)]))),128))])]),_:1}),(0,o.bF)(T,{label:"教学内容"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",rr,[m[25]||(m[25]=(0,o.Lk)("h4",null,"教学内容安排",-1)),(0,o.bF)(M,{data:n.value.lessons,border:"",class:"lesson-table"},{default:(0,o.k6)(()=>[(0,o.bF)(D,{prop:"week",label:"周次",width:"80"}),(0,o.bF)(D,{prop:"topic",label:"主题","min-width":"200"}),(0,o.bF)(D,{prop:"content",label:"教学内容","min-width":"300"}),(0,o.bF)(D,{prop:"teachingMethod",label:"教学方法",width:"120"}),(0,o.bF)(D,{prop:"learningOutcomes",label:"学习成果","min-width":"200"})]),_:1},8,["data"])])]),_:1}),(0,o.bF)(T,{label:"评估方式"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",dr,[m[26]||(m[26]=(0,o.Lk)("h4",null,"评估方式与权重",-1)),(0,o.bF)(M,{data:n.value.assessments,border:"",class:"assessment-table"},{default:(0,o.k6)(()=>[(0,o.bF)(D,{prop:"type",label:"评估类型",width:"120"}),(0,o.bF)(D,{prop:"description",label:"描述","min-width":"200"}),(0,o.bF)(D,{prop:"weight",label:"权重",width:"100"},{default:(0,o.k6)(e=>[(0,o.eW)((0,i.v_)(e.row.weight)+"% ",1)]),_:1}),(0,o.bF)(D,{prop:"date",label:"日期",width:"120"})]),_:1},8,["data"])])]),_:1}),(0,o.bF)(T,{label:"参考资料"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",vr,[m[27]||(m[27]=(0,o.Lk)("h4",null,"参考资料",-1)),(0,o.Lk)("ul",mr,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value.resources,(e,a)=>((0,o.uX)(),(0,o.CE)("li",{key:a},[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Document))]),_:1}),(0,o.Lk)("span",null,(0,i.v_)(e.title),1),(0,o.Lk)("span",pr,(0,i.v_)(e.author),1),(0,o.Lk)("span",kr," ("+(0,i.v_)(e.publisher)+", "+(0,i.v_)(e.year)+")",1)]))),128))])])]),_:1})]),_:1})],512)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",br,[(0,o.Lk)("div",gr,[(0,o.Lk)("h3",null,[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Timer))]),_:1}),m[28]||(m[28]=(0,o.eW)(" 历史教学计划 "))]),(0,o.Lk)("div",hr,[(0,o.bF)(Q,{modelValue:v.value,"onUpdate:modelValue":m[4]||(m[4]=e=>v.value=e),placeholder:"搜索计划",size:"small",clearable:""},{suffix:(0,o.k6)(()=>[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Search))]),_:1})]),_:1},8,["modelValue"])])]),(0,o.bF)(M,{data:g.value,border:"",stripe:"",class:"history-table"},{default:(0,o.k6)(()=>[(0,o.bF)(D,{prop:"semester",label:"学期",width:"120"}),(0,o.bF)(D,{prop:"courseName",label:"课程名称","min-width":"180"}),(0,o.bF)(D,{prop:"courseCode",label:"课程代码",width:"120"}),(0,o.bF)(D,{prop:"teacher",label:"授课教师",width:"120"}),(0,o.bF)(D,{prop:"completionDate",label:"完成日期",width:"120"}),(0,o.bF)(D,{label:"操作",width:"120"},{default:(0,o.k6)(e=>[(0,o.bF)(I,{type:"text",size:"small",onClick:a=>y(e.row)},{default:(0,o.k6)(()=>m[29]||(m[29]=[(0,o.eW)(" 查看详情 ")])),_:2,__:[29]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),g.value.length>0?((0,o.uX)(),(0,o.CE)("div",fr,[(0,o.bF)(N,{onSizeChange:E,onCurrentChange:W,"current-page":r.value,"page-sizes":[5,10,20],"page-size":d.value,total:g.value.length,layout:"total, sizes, prev, pager, next",small:""},null,8,["current-page","page-size","total"])])):(0,o.Q3)("",!0)],512)],34)}}};const yr=(0,be.A)(Lr,[["__scopeId","data-v-8475e446"]]);var _r=yr,Fr=l(7383),Cr=l(6301);const wr={class:"modern-chat-app"},Rr={class:"sidebar"},Er={class:"sidebar-header"},Wr={class:"header-actions"},Ar={class:"search-box"},xr={key:0,class:"virtual-scroller"},Xr=["onClick"],Kr={class:"chat-info"},Sr={class:"chat-header"},Ir={key:0,class:"group-badge"},Dr={class:"last-message"},Vr={key:1,class:"empty-search"},Mr={class:"chat-area"},zr={key:0,class:"empty-chat"},Tr={class:"empty-content"},Ur={key:1,class:"active-chat"},Pr={class:"chat-header"},Qr={class:"header-left"},Nr={class:"user-info"},Or={key:0,class:"group-badge"},Br={key:1,class:"member-count"},$r={key:0,class:"online-status"},Gr={key:1,class:"online-status"},jr={class:"header-actions"},Hr={class:"messages-container"},qr={key:0,class:"loading-messages"},Jr={class:"date-divider"},Yr={class:"message-content"},Zr={key:0,class:"sender-name"},ed={class:"message-bubble"},ad=["src","onClick"],ld={key:1,class:"file-message"},td={class:"file-info"},sd={class:"file-name"},nd={class:"file-size"},od=["innerHTML"],id={class:"message-meta"},ud={key:0,class:"loading-more"},cd={class:"input-area"},rd={class:"input-tools"},dd={class:"input-wrapper"},vd={class:"send-button-container"},md={class:"dialog-content"},pd={class:"dialog-tabs"},kd={key:0,class:"tab-content"},bd={class:"search-section"},gd={class:"search-input-wrapper"},hd={class:"contact-list-section"},fd={key:0,class:"empty-state"},Ld={class:"empty-icon"},yd={key:1,class:"loading-state"},_d={class:"skeleton-list"},Fd={key:2,class:"contact-list"},Cd=["onClick"],wd={class:"contact-avatar"},Rd={class:"contact-info"},Ed={class:"contact-header"},Wd={class:"contact-name"},Ad=["innerHTML"],xd={class:"contact-details"},Xd={class:"department"},Kd={key:3,class:"empty-result"},Sd={class:"empty-icon"},Id={key:1,class:"tab-content"},Dd={class:"qr-section"},Vd={class:"qr-container"},Md={class:"qr-placeholder"},zd={key:2,class:"tab-content"},Td={class:"contacts-section"},Ud={class:"contacts-placeholder"},Pd={class:"dialog-footer"},Qd={class:"dialog-content"},Nd={class:"form-section"},Od={class:"form-item"},Bd={class:"input-wrapper"},$d={class:"form-item"},Gd={class:"input-wrapper"},jd={class:"form-item"},Hd={class:"avatar-upload-section"},qd={class:"avatar-upload-area"},Jd={class:"form-section"},Yd={class:"form-item"},Zd={class:"members-section"},ev={class:"members-search"},av={class:"members-list"},lv=["onClick"],tv={class:"member-avatar"},sv={class:"member-info"},nv={class:"member-name"},ov={class:"member-desc"},iv={class:"member-action"},uv={class:"members-summary"},cv={class:"selected-count"},rv={key:0,class:"min-requirement"},dv={class:"dialog-footer"},vv={class:"dialog-content"},mv={class:"members-management-section"},pv={class:"members-header"},kv={class:"header-actions"},bv={class:"members-list-container"},gv={key:0,class:"empty-members"},hv={class:"empty-icon"},fv={key:1,class:"modern-members-list"},Lv={class:"member-avatar"},yv={class:"member-info"},_v={class:"member-header"},Fv={class:"member-name"},Cv={key:0,class:"role-badge owner"},wv={key:1,class:"role-badge admin"},Rv={key:2,class:"role-badge member"},Ev={class:"member-actions"},Wv={class:"member-details"},Av={class:"join-time"},xv={class:"dialog-footer"},Xv={class:"dialog-title"},Kv={key:0,class:"add-count-badge"},Sv={class:"dialog-content"},Iv={class:"add-members-section"},Dv={class:"search-section"},Vv={class:"search-input-wrapper"},Mv={class:"members-selection-container"},zv={key:0,class:"empty-search-result"},Tv={class:"empty-icon"},Uv={key:1,class:"empty-contacts"},Pv={class:"empty-icon"},Qv={key:2,class:"modern-add-members-list"},Nv=["onClick"],Ov={class:"member-avatar"},Bv={class:"member-info"},$v={class:"member-header"},Gv={class:"member-name"},jv={class:"member-action"},Hv={class:"member-details"},qv={class:"department"},Jv={key:0,class:"selection-overlay"},Yv={key:0,class:"selected-members-preview"},Zv={class:"preview-header"},em={class:"selected-members-list"},am={class:"member-name"},lm={class:"dialog-footer"},tm={class:"image-preview-container"},sm=["src"],nm={class:"image-preview-actions"};var om={__name:"CommunicationPage",setup(e){const{copy:a}=(0,Fr.iDZ)(),l=(0,u.KR)({id:100,name:"我",avatar:"https://randomuser.me/api/portraits/men/1.jpg"}),s=(0,u.KR)([{id:1,name:"张教授",avatar:"https://randomuser.me/api/portraits/men/32.jpg",online:!0,department:"计算机学院"},{id:2,name:"李老师",avatar:"https://randomuser.me/api/portraits/women/44.jpg",online:!1,lastOnline:new Date(Date.now()-36e5),department:"数学系"},{id:3,name:"王老师",avatar:"https://randomuser.me/api/portraits/men/45.jpg",online:!0,department:"计算机学院"},{id:4,name:"赵老师",avatar:"https://randomuser.me/api/portraits/women/68.jpg",online:!0,department:"外语系"},{id:5,name:"教务处",avatar:"https://randomuser.me/api/portraits/women/68.jpg",online:!1,lastOnline:new Date(Date.now()-864e5),department:"行政部门"},{id:6,name:"学生事务办公室",avatar:"https://randomuser.me/api/portraits/lego/3.jpg",online:!0,department:"行政部门"}]),n=(0,u.KR)([{id:1,name:"张教授",avatar:"https://randomuser.me/api/portraits/men/32.jpg",lastMessageTime:new Date,lastMessageType:"text",preview:"关于下周的研讨会，你有什么想法？",unreadCount:0,online:!0,department:"计算机学院",isGroup:!1,messages:[{id:101,type:"bot",senderId:1,contentType:"text",content:"你好！关于下周的研讨会，你有什么想法？",time:new Date(Date.now()-72e5),status:"read"},{id:102,type:"user",senderId:100,contentType:"text",content:"我认为可以重点讨论一下人工智能在教育中的应用",time:new Date(Date.now()-648e4),status:"read"},{id:103,type:"bot",senderId:1,contentType:"text",content:"这是个很好的主题！我们可以准备以下几个方面的内容:<br>1. AI辅助教学系统<br>2. 智能评测系统<br>3. 个性化学习路径",time:new Date(Date.now()-54e5),status:"read"}]},{id:2,name:"李老师",avatar:"https://randomuser.me/api/portraits/women/44.jpg",lastMessageTime:new Date(Date.now()-864e5),lastMessageType:"file",preview:"这是本学期教学大纲，请查收",unreadCount:3,online:!1,lastOnline:new Date(Date.now()-36e5),department:"数学系",isGroup:!1,messages:[{id:201,type:"bot",senderId:2,contentType:"text",content:"这是本学期教学大纲，请查收",time:new Date(Date.now()-864e5),status:"read"},{id:202,type:"bot",senderId:2,contentType:"file",content:"https://example.com/files/syllabus.pdf",fileSize:"2.1MB",time:new Date(Date.now()-864e5),status:"read"}]},{id:3,name:"计算机学院",avatar:"https://randomuser.me/api/portraits/lego/3.jpg",lastMessageTime:new Date(Date.now()-1728e5),lastMessageType:"text",preview:"提醒：教师培训工作坊将于本周五举行",unreadCount:0,online:!0,department:"行政部门",isGroup:!0,members:[{id:100,name:"我",avatar:"https://randomuser.me/api/portraits/men/1.jpg",role:"MEMBER",online:!0,isAdmin:!1},{id:5,name:"教务处",avatar:"https://randomuser.me/api/portraits/women/68.jpg",role:"ADMIN",online:!1,lastOnline:new Date(Date.now()-864e5),isAdmin:!0},{id:1,name:"张教授",avatar:"https://randomuser.me/api/portraits/men/32.jpg",role:"MEMBER",online:!0,isAdmin:!1},{id:3,name:"王老师",avatar:"https://randomuser.me/api/portraits/men/45.jpg",role:"MEMBER",online:!0,isAdmin:!1}],messages:[{id:301,type:"bot",senderId:5,contentType:"text",content:"提醒：教师培训工作坊将于本周五下午2点在A101举行",time:new Date(Date.now()-1728e5),status:"read"},{id:302,type:"bot",senderId:5,contentType:"text",content:"主题：创新教学方法与技术应用",time:new Date(Date.now()-1728e5),status:"read"}]}]),r=(0,u.KR)(""),d=(0,u.KR)(""),v=(0,u.KR)(!1),m=(0,u.KR)(0),p=(0,u.KR)(""),k=(0,u.KR)(!1),b=(0,u.KR)(null),g=(0,u.KR)(null),h=(0,u.KR)("file"),f=(0,u.KR)(!1),L=(0,u.KR)(""),y=(0,u.KR)(!1),_=(0,u.KR)(null),F=(0,u.KR)(null),C=(0,u.KR)(!1),w=(0,u.KR)(!1),R=(0,u.KR)(!1),E=(0,u.KR)(!1),W=(0,u.KR)(!1),A=(0,u.KR)(!1),x=(0,u.KR)("search"),X=(0,u.KR)(!1),K=(0,u.KR)(!1),S=(0,u.KR)(!1),I=(0,u.Kh)({name:"",description:"",avatar:"",members:[]}),D=(0,u.KR)(""),V=(0,u.KR)([...s.value]),M=(0,u.KR)(null),z=(0,u.KR)(""),T=(0,u.KR)([...s.value]),U=(0,u.KR)([]),P=(0,o.EW)(()=>r.value.trim()?n.value.filter(e=>e.name.toLowerCase().includes(r.value.toLowerCase())):n.value),Q=(0,o.EW)(()=>d.value.trim()?s.value.filter(e=>e.name.toLowerCase().includes(d.value.toLowerCase())):[]),N=(0,o.EW)(()=>null!==m.value&&n.value.length?n.value[m.value]:null),O=(0,o.EW)(()=>{if(!N.value)return[];const e=[];let a=null;return N.value.messages.forEach(l=>{const t=new Date(l.time).toDateString();a&&a.date===t||(a={date:t,messages:[]},e.push(a)),a.messages.push(l)}),e}),B=(0,o.EW)(()=>(p.value.trim()||g.value)&&!k.value),$=(0,o.EW)(()=>I.name.trim()&&I.members.length>0),G=e=>{m.value=e,N.value?.unreadCount>0&&(N.value.unreadCount=0),j()},j=async()=>{if(N.value){R.value=!0;try{await new Promise(e=>setTimeout(e,300)),(0,o.dY)(()=>{ne()})}catch(e){console.error("加载消息失败:",e),ye.nk.error("加载消息失败")}finally{R.value=!1}}},H=(0,Cr.A)(()=>{},300),q=e=>{if(!e)return"";const a=/(https?:\/\/[^\s]+)/g;return e.replace(a,e=>`<a href="${e}" target="_blank" class="message-link">${e}</a>`)},J=e=>{if(!e)return"";const a=new Date,l=Math.floor((a-new Date(e))/1e3);return l<60?"刚刚":l<3600?`${Math.floor(l/60)}分钟前`:l<86400?`${Math.floor(l/3600)}小时前`:l<604800?`${Math.floor(l/86400)}天前`:new Date(e).toLocaleDateString()},Y=e=>e?new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",Z=e=>{const a=new Date(e),l=new Date,t=new Date(l);return t.setDate(t.getDate()-1),a.toDateString()===l.toDateString()?"今天":a.toDateString()===t.toDateString()?"昨天":a.toLocaleDateString([],{month:"short",day:"numeric"})},ee=async()=>{if(B.value&&N.value){k.value=!0;try{let e=p.value.trim(),a="text",t=null;g.value&&(le(),await new Promise(e=>setTimeout(e,800)),"image"===h.value?(a="image",e=URL.createObjectURL(g.value)):(a="file",e=`https://example.com/files/${g.value.name}`,t=se(g.value.size)));const s={id:Date.now(),type:"user",senderId:l.value.id,contentType:a,content:e,fileSize:t,time:new Date,status:"sending"};N.value.messages.push(s),te(N.value,s),p.value="",g.value=null,(0,o.dY)(()=>{ne()}),setTimeout(()=>{s.status="sent",N.value.isGroup||1!==N.value.id||setTimeout(()=>{const e=["好的，我会把这些建议纳入研讨会讨论。","这个方向很有价值，我们可以深入探讨。","感谢你的建议，我会准备相关资料。"],a={id:Date.now(),type:"bot",senderId:1,contentType:"text",content:e[Math.floor(Math.random()*e.length)],time:new Date,status:"read"};N.value.messages.push(a),te(N.value,a),(0,o.dY)(()=>{ne()})},1500)},800)}catch(e){console.error("发送消息失败:",e),ye.nk.error("发送消息失败")}finally{k.value=!1}}},ae=()=>{p.value+="\n"},le=()=>{(0,ye.nk)({message:"正在上传文件...",type:"info",duration:100})},te=(e,a)=>{e.preview="text"===a.contentType?a.content.length>30?a.content.substring(0,30)+"...":a.content:"image"===a.contentType?"[图片]":"[文件]",e.lastMessageTime=a.time,e.lastMessageType=a.contentType},se=e=>{if(0===e)return"0 Bytes";const a=1024,l=["Bytes","KB","MB","GB"],t=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,t)).toFixed(2))+" "+l[t]},ne=()=>{_.value&&(_.value.scrollTop=_.value.scrollHeight)},oe=e=>{h.value=e,b.value&&b.value.click()},ie=e=>{const a=e.target.files[0];if(!a)return;if("image"===h.value&&!a.type.startsWith("image/"))return void ye.nk.warning("请选择图片文件");const l="image"===h.value?5242880:20971520;a.size>l?ye.nk.warning(`文件大小不能超过${se(l)}`):(g.value=a,e.target.value="")},ue=e=>{ye.nk.success("开始下载文件: "+re(e))},ce=()=>{ye.nk.success("开始下载图片")},re=e=>e.substring(e.lastIndexOf("/")+1),de=e=>{L.value=e,f.value=!0},ve=(e,a)=>{"copy"===e?me(a.content):"recall"===e&&pe(a)},me=async e=>{try{await a(e),ye.nk.success("已复制到剪贴板")}catch(l){ye.nk.error("复制失败")}},pe=e=>{if(!N.value)return;const a=N.value.messages.findIndex(a=>a.id===e.id);-1!==a&&(new Date-new Date(e.time)>12e4?ye.nk.warning("只能撤回2分钟内的消息"):(N.value.messages.splice(a,1),ye.nk.success("消息已撤回")))},ke=()=>{N.value&&su.s.confirm("确定要清空当前聊天记录吗？此操作不可撤销","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{N.value.messages=[],N.value.preview="",ye.nk.success("聊天记录已清空")}).catch(()=>{})},be=()=>{ye.nk.success("对话已静音")},ge=e=>{"addContact"===e?y.value=!0:"createGroup"===e&&(X.value=!0)},he=e=>{const a=n.value.find(a=>a.id===e.id&&!a.isGroup);if(a)m.value=n.value.indexOf(a);else{const a={id:e.id,name:e.name,avatar:e.avatar,lastMessageTime:new Date,lastMessageType:"text",preview:"新对话已开始",unreadCount:0,online:e.online,lastOnline:e.lastOnline,department:e.department,isGroup:!1,messages:[]};n.value.unshift(a),m.value=0}y.value=!1,d.value=""},fe=e=>{e(),d.value="",x.value="search"},Le=(0,Cr.A)(()=>{w.value=!0,v.value=""!==d.value.trim(),setTimeout(()=>{w.value=!1},300)},300),_e=()=>{d.value="",v.value=!1},Fe=(e,a)=>{if(!a.trim())return e;const l=new RegExp(`(${a})`,"gi");return e.replace(l,e=>`<a href="${e}" target="_blank" class="message-link">${e}</a>`)},Ce=(0,Cr.A)(()=>{we()},300),we=()=>{D.value.trim()?V.value=s.value.filter(e=>e.name.toLowerCase().includes(D.value.toLowerCase())):V.value=[...s.value]},Re=(0,Cr.A)(()=>{Ee()},300),Ee=()=>{z.value.trim()?T.value=s.value.filter(e=>e.name.toLowerCase().includes(z.value.toLowerCase())):T.value=[...s.value]},We=e=>I.members.includes(e),Ae=e=>{const a=I.members.indexOf(e);a>-1?I.members.splice(a,1):I.members.push(e)},xe=async({file:e})=>{const a=new FileReader;a.onload=e=>{I.avatar=e.target.result},a.readAsDataURL(e)},Xe=e=>{const a="image/jpeg"===e.type||"image/png"===e.type,l=e.size/1024/1024<2;return a||ye.nk.error("上传头像图片只能是 JPG/PNG 格式!"),l||ye.nk.error("上传头像图片大小不能超过 2MB!"),a&&l},Ke=async()=>{const e=await M.value.validate();if(e){W.value=!0;try{const e=[{...l.value,role:"ADMIN",isAdmin:!0,online:!0}];I.members.forEach(a=>{const l=s.value.find(e=>e.id===a);l&&e.push({...l,role:"MEMBER",isAdmin:!1})});const a=Date.now(),t={id:a,name:I.name,avatar:I.avatar,description:I.description,lastMessageTime:new Date,lastMessageType:"text",preview:`群聊"${I.name}"已创建`,unreadCount:0,online:!0,isGroup:!0,members:e,messages:[{id:Date.now(),type:"system",contentType:"text",content:`群聊"${I.name}"已创建，${l.value.name}成为群主`,time:new Date,status:"read"}]};n.value.unshift(t),m.value=0,X.value=!1,I.name="",I.description="",I.avatar="",I.members=[],D.value="",ye.nk.success(`群聊"${t.name}"创建成功`)}catch(a){console.error("创建群组失败:",a),ye.nk.error("创建群组失败")}finally{W.value=!1}}},Se=()=>{X.value=!1,M.value.resetFields(),I.members=[],D.value=""},Ie=()=>{S.value=!1,U.value=[],z.value=""},De=e=>{const a=U.value.findIndex(a=>a.id===e);a>-1&&U.value.splice(a,1)},Ve=e=>{if(!N.value?.isGroup)return"";if("user"===e.type)return l.value.name;const a=N.value.members.find(a=>a.id===e.senderId);return a?a.name:"未知成员"},Me=e=>{if(!N.value?.isGroup)return N.value?.avatar;if("user"===e.type)return l.value.avatar;const a=N.value.members.find(a=>a.id===e.senderId);return a?a.avatar:N.value.avatar},ze=()=>{if(!N.value?.isGroup)return!1;const e=N.value.members.find(e=>e.id===l.value.id);return e?.isAdmin||"ADMIN"===e?.role},Te=e=>{const a=N.value.members.find(e=>e.id===l.value.id);return!(!a||"ADMIN"!==a.role&&!a.isAdmin)&&((a.isAdmin||!e.isAdmin&&"ADMIN"!==e.role)&&e.id!==l.value.id)},Ue=(e,a)=>{N.value&&("remove"===e?Pe(a.id):"toggleAdmin"===e&&Qe(a.id))},Pe=e=>{su.s.confirm("确定要移除该成员吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{if(N.value){N.value.members=N.value.members.filter(a=>a.id!==e);const a=s.value.find(a=>a.id===e);N.value.messages.push({id:Date.now(),type:"system",contentType:"text",content:`${a?.name||"某成员"}已被移出群聊`,time:new Date,status:"read"}),te(N.value,N.value.messages[N.value.messages.length-1]),ye.nk.success("成员已移除")}}).catch(()=>{})},Qe=e=>{if(!N.value)return;const a=N.value.members.find(a=>a.id===e);a&&!a.isAdmin&&("ADMIN"===a.role?(a.role="MEMBER",ye.nk.success("已取消管理员权限"),N.value.messages.push({id:Date.now(),type:"system",contentType:"text",content:`${a.name}已被取消管理员权限`,time:new Date,status:"read"})):(a.role="ADMIN",ye.nk.success("已设置为管理员"),N.value.messages.push({id:Date.now(),type:"system",contentType:"text",content:`${a.name}已成为管理员`,time:new Date,status:"read"})),te(N.value,N.value.messages[N.value.messages.length-1]))},Ne=e=>N.value?.members.some(a=>a.id===e)||U.value.some(a=>a.id===e),Oe=e=>{const a=U.value.findIndex(a=>a.id===e.id);a>-1?U.value.splice(a,1):U.value.push({...e,role:"MEMBER",isAdmin:!1})},Be=async()=>{if(0!==U.value.length){A.value=!0;try{if(N.value){N.value.members.push(...U.value);const e=U.value.map(e=>e.name).join("、");N.value.messages.push({id:Date.now(),type:"system",contentType:"text",content:`${e}已加入群聊`,time:new Date,status:"read"}),te(N.value,N.value.messages[N.value.messages.length-1]),ye.nk.success(`成功添加${U.value.length}名成员`),U.value=[],S.value=!1,z.value=""}}catch(e){console.error("添加群成员失败:",e),ye.nk.error("添加群成员失败")}finally{A.value=!1}}else S.value=!1};return(0,o.wB)(N,e=>{e&&j()},{immediate:!0}),(0,o.sV)(()=>{(0,o.dY)(()=>{ne()})}),(e,a)=>{const l=(0,o.g2)("el-button"),s=(0,o.g2)("el-icon"),n=(0,o.g2)("el-dropdown-item"),g=(0,o.g2)("el-dropdown-menu"),h=(0,o.g2)("el-dropdown"),j=(0,o.g2)("el-input"),le=(0,o.g2)("el-avatar"),te=(0,o.g2)("el-badge"),se=(0,o.g2)("el-empty"),ne=(0,o.g2)("el-dialog"),me=(0,o.g2)("el-upload"),pe=(0,o.g2)("el-form");return(0,o.uX)(),(0,o.CE)("div",wr,[(0,o.Lk)("div",Rr,[(0,o.Lk)("div",Er,[a[28]||(a[28]=(0,o.Lk)("h2",null,"消息",-1)),(0,o.Lk)("div",Wr,[(0,o.bF)(h,{trigger:"click",onCommand:ge},{dropdown:(0,o.k6)(()=>[(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(n,{command:"addContact"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1}),a[26]||(a[26]=(0,o.eW)(" 添加好友 "))]),_:1,__:[26]}),(0,o.bF)(n,{command:"createGroup"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.UserFilled))]),_:1}),a[27]||(a[27]=(0,o.eW)(" 创建群组 "))]),_:1,__:[27]})]),_:1})]),default:(0,o.k6)(()=>[(0,o.bF)(l,{type:"text",icon:"Plus",circle:""})]),_:1})])]),(0,o.Lk)("div",Ar,[(0,o.bF)(j,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),placeholder:"搜索对话",clearable:"","prefix-icon":(0,u.R1)(c.Search),onInput:(0,u.R1)(H)},null,8,["modelValue","prefix-icon","onInput"])]),(0,o.Lk)("div",{class:"chat-list",ref_key:"chatListRef",ref:F},[P.value.length>0?((0,o.uX)(),(0,o.CE)("div",xr,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(P.value,(e,l)=>((0,o.uX)(),(0,o.CE)("div",{key:l,class:(0,i.C4)(["chat-item",{active:m.value===l}]),onClick:e=>G(l)},[(0,o.bF)(le,{size:48,src:e.avatar,alt:e.name},{default:(0,o.k6)(()=>[e.isGroup&&!e.avatar?((0,o.uX)(),(0,o.Wv)(s,{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1})):(0,o.Q3)("",!0)]),_:2},1032,["src","alt"]),(0,o.Lk)("div",Kr,[(0,o.Lk)("div",Sr,[(0,o.Lk)("h3",null,[(0,o.eW)((0,i.v_)(e.name)+" ",1),e.isGroup?((0,o.uX)(),(0,o.CE)("span",Ir,"群")):(0,o.Q3)("",!0)]),(0,o.Lk)("span",null,(0,i.v_)(J(e.lastMessageTime)),1)]),(0,o.Lk)("p",Dr,["image"===e.lastMessageType?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Picture))]),_:1}),a[29]||(a[29]=(0,o.eW)(" 图片 "))],64)):(0,o.Q3)("",!0),"file"===e.lastMessageType?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Document))]),_:1}),a[30]||(a[30]=(0,o.eW)(" 文件 "))],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:2},[(0,o.eW)((0,i.v_)(e.preview),1)],64))])]),(0,o.bF)(te,{value:e.unreadCount,max:99,hidden:!e.unreadCount,type:"primary"},null,8,["value","hidden"])],10,Xr))),128))])):(0,o.Q3)("",!0),0===P.value.length&&r.value?((0,o.uX)(),(0,o.CE)("div",Vr,[(0,o.bF)(se,{description:"未找到相关对话"})])):(0,o.Q3)("",!0)],512)]),(0,o.Lk)("div",Mr,[N.value?((0,o.uX)(),(0,o.CE)("div",Ur,[(0,o.Lk)("div",Pr,[(0,o.Lk)("div",Qr,[(0,o.bF)(le,{size:40,src:N.value.avatar,alt:N.value.name},{default:(0,o.k6)(()=>[N.value.isGroup&&!N.value.avatar?((0,o.uX)(),(0,o.Wv)(s,{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1})):(0,o.Q3)("",!0)]),_:1},8,["src","alt"]),(0,o.Lk)("div",Nr,[(0,o.Lk)("h3",null,[(0,o.eW)((0,i.v_)(N.value.name)+" ",1),N.value.isGroup?((0,o.uX)(),(0,o.CE)("span",Or,"群")):(0,o.Q3)("",!0),N.value.isGroup?((0,o.uX)(),(0,o.CE)("span",Br,(0,i.v_)(N.value.members.length)+"人",1)):(0,o.Q3)("",!0)]),N.value.online?((0,o.uX)(),(0,o.CE)("p",$r,a[36]||(a[36]=[(0,o.Lk)("span",{class:"online-dot"},null,-1),(0,o.eW)(" 在线 ")]))):((0,o.uX)(),(0,o.CE)("p",Gr," 上次在线 "+(0,i.v_)(J(N.value.lastOnline)),1))])]),(0,o.Lk)("div",jr,[N.value.isGroup?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(l,{key:0,type:"text",icon:"Phone",circle:""})),N.value.isGroup?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(l,{key:1,type:"text",icon:"VideoCamera",circle:""})),N.value.isGroup?((0,o.uX)(),(0,o.Wv)(l,{key:2,type:"text",icon:"User",circle:"",onClick:a[1]||(a[1]=e=>S.value=!0)})):(0,o.Q3)("",!0),(0,o.bF)(h,null,{dropdown:(0,o.k6)(()=>[(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(n,{onClick:ke},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Delete))]),_:1}),a[37]||(a[37]=(0,o.eW)(" 清空聊天记录 "))]),_:1,__:[37]}),(0,o.bF)(n,{onClick:be},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.BellFilled))]),_:1}),a[38]||(a[38]=(0,o.eW)(" 静音 "))]),_:1,__:[38]}),N.value.isGroup?((0,o.uX)(),(0,o.Wv)(n,{key:0,onClick:a[2]||(a[2]=e=>K.value=!0)},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1}),a[39]||(a[39]=(0,o.eW)(" 群成员管理 "))]),_:1,__:[39]})):(0,o.Q3)("",!0)]),_:1})]),default:(0,o.k6)(()=>[(0,o.bF)(l,{type:"text",icon:"More",circle:""})]),_:1})])]),(0,o.Lk)("div",Hr,[(0,o.Lk)("div",{class:"messages",ref_key:"messagesContainer",ref:_},[R.value?((0,o.uX)(),(0,o.CE)("div",qr,[(0,o.bF)(s,{class:"is-loading"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Loading))]),_:1}),a[40]||(a[40]=(0,o.Lk)("span",null,"加载消息中...",-1))])):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(O.value,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"message-group",key:t},[(0,o.Lk)("div",Jr,[(0,o.Lk)("span",null,(0,i.v_)(Z(e.date)),1)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.messages,e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:(0,i.C4)(["message",e.type])},["bot"===e.type?((0,o.uX)(),(0,o.Wv)(le,{key:0,size:36,src:Me(e)},null,8,["src"])):(0,o.Q3)("",!0),(0,o.Lk)("div",Yr,[N.value.isGroup&&"bot"===e.type?((0,o.uX)(),(0,o.CE)("div",Zr,(0,i.v_)(Ve(e)),1)):(0,o.Q3)("",!0),(0,o.Lk)("div",ed,["image"===e.contentType?((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.content,onClick:a=>de(e.content),loading:"lazy"},null,8,ad)):"file"===e.contentType?((0,o.uX)(),(0,o.CE)("div",ld,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Document))]),_:1}),(0,o.Lk)("div",td,[(0,o.Lk)("div",sd,(0,i.v_)(re(e.content)),1),(0,o.Lk)("div",nd,(0,i.v_)(e.fileSize),1)]),(0,o.bF)(l,{type:"primary",text:"",onClick:a=>ue(e.content)},{default:(0,o.k6)(()=>a[41]||(a[41]=[(0,o.eW)("下载")])),_:2,__:[41]},1032,["onClick"])])):((0,o.uX)(),(0,o.CE)("div",{key:2,innerHTML:q(e.content)},null,8,od))]),(0,o.Lk)("div",id,[(0,o.Lk)("span",null,(0,i.v_)(Y(e.time)),1),"user"===e.type?((0,o.uX)(),(0,o.Wv)(s,{key:0,class:(0,i.C4)(["status-icon",e.status])},{default:(0,o.k6)(()=>["sending"===e.status?((0,o.uX)(),(0,o.Wv)((0,u.R1)(c.Loading),{key:0})):(0,o.Q3)("",!0),"sent"===e.status?((0,o.uX)(),(0,o.Wv)((0,u.R1)(c.CircleCheck),{key:1})):(0,o.Q3)("",!0),"read"===e.status?((0,o.uX)(),(0,o.Wv)((0,u.R1)(c.Select),{key:2})):(0,o.Q3)("",!0),"failed"===e.status?((0,o.uX)(),(0,o.Wv)((0,u.R1)(c.CircleClose),{key:3})):(0,o.Q3)("",!0)]),_:2},1032,["class"])):(0,o.Q3)("",!0)])]),"user"===e.type?((0,o.uX)(),(0,o.Wv)(h,{key:1,trigger:"click",onCommand:a=>ve(a,e)},{dropdown:(0,o.k6)(()=>[(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(n,{command:"copy"},{default:(0,o.k6)(()=>a[42]||(a[42]=[(0,o.eW)("复制")])),_:1,__:[42]}),(0,o.bF)(n,{command:"recall",disabled:"sending"===e.status},{default:(0,o.k6)(()=>a[43]||(a[43]=[(0,o.eW)("撤回")])),_:2,__:[43]},1032,["disabled"])]),_:2},1024)]),default:(0,o.k6)(()=>[(0,o.bF)(l,{type:"text",icon:"More",class:"message-actions"})]),_:2},1032,["onCommand"])):(0,o.Q3)("",!0)],2))),128))]))),128)),E.value?((0,o.uX)(),(0,o.CE)("div",ud,[(0,o.bF)(s,{class:"is-loading"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Loading))]),_:1}),a[44]||(a[44]=(0,o.Lk)("span",null,"加载更多消息...",-1))])):(0,o.Q3)("",!0)],64))],512)]),(0,o.Lk)("div",cd,[(0,o.Lk)("div",rd,[(0,o.bF)(l,{type:"text",icon:"Picture",onClick:a[3]||(a[3]=e=>oe("image"))}),(0,o.bF)(l,{type:"text",icon:"VideoCamera",onClick:a[4]||(a[4]=e=>oe("video"))}),(0,o.bF)(l,{type:"text",icon:"Document",onClick:a[5]||(a[5]=e=>oe("file"))}),(0,o.bF)(l,{type:"text",icon:"Emoji",onClick:a[6]||(a[6]=e=>C.value=!C.value)}),(0,o.Lk)("input",{type:"file",ref_key:"fileInput",ref:b,style:{display:"none"},onChange:ie},null,544)]),(0,o.Lk)("div",dd,[(0,o.bF)(j,{modelValue:p.value,"onUpdate:modelValue":a[7]||(a[7]=e=>p.value=e),type:"textarea",rows:2,maxlength:500,placeholder:"输入消息...",resize:"none",onKeydown:[(0,t.jR)((0,t.D$)(ee,["exact","prevent"]),["enter"]),(0,t.jR)((0,t.D$)(ae,["shift","prevent"]),["enter"])],class:"embedded-input"},null,8,["modelValue","onKeydown"]),(0,o.Lk)("div",vd,[(0,o.bF)(l,{class:"send-button",type:"primary",icon:(0,u.R1)(c.Promotion),circle:"",disabled:!B.value,onClick:ee,loading:k.value},null,8,["icon","disabled","loading"])])])])])):((0,o.uX)(),(0,o.CE)("div",zr,[(0,o.Lk)("div",Tr,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.ChatRound))]),_:1}),a[34]||(a[34]=(0,o.Lk)("h3",null,"选择一个对话开始聊天",-1)),a[35]||(a[35]=(0,o.Lk)("p",null,"或创建一个新的对话",-1)),(0,o.bF)(h,{trigger:"click",onCommand:ge},{dropdown:(0,o.k6)(()=>[(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(n,{command:"addContact"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1}),a[32]||(a[32]=(0,o.eW)(" 添加好友 "))]),_:1,__:[32]}),(0,o.bF)(n,{command:"createGroup"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.UserFilled))]),_:1}),a[33]||(a[33]=(0,o.eW)(" 创建群组 "))]),_:1,__:[33]})]),_:1})]),default:(0,o.k6)(()=>[(0,o.bF)(l,{type:"primary"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Plus))]),_:1}),a[31]||(a[31]=(0,o.eW)(" 新建对话 "))]),_:1,__:[31]})]),_:1})])]))]),(0,o.bF)(ne,{modelValue:y.value,"onUpdate:modelValue":a[13]||(a[13]=e=>y.value=e),title:"添加联系人",width:"520px","append-to-body":"",class:"custom-dialog new-chat-dialog","before-close":fe,"close-on-click-modal":!1},{title:(0,o.k6)(()=>a[45]||(a[45]=[(0,o.Lk)("div",{class:"dialog-title"},[(0,o.Lk)("span",{class:"dialog-title-text"},"添加联系人")],-1)])),footer:(0,o.k6)(()=>[(0,o.Lk)("div",Pd,[(0,o.bF)(l,{onClick:a[12]||(a[12]=e=>y.value=!1),class:"cancel-btn"},{default:(0,o.k6)(()=>a[60]||(a[60]=[(0,o.eW)(" 取消 ")])),_:1,__:[60]})])]),default:(0,o.k6)(()=>[(0,o.Lk)("div",md,[(0,o.Lk)("div",pd,[(0,o.Lk)("div",{class:(0,i.C4)(["tab-item",{active:"search"===x.value}]),onClick:a[8]||(a[8]=e=>x.value="search")},[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Search))]),_:1}),a[46]||(a[46]=(0,o.Lk)("span",null,"搜索添加",-1))],2),(0,o.Lk)("div",{class:(0,i.C4)(["tab-item",{active:"qr"===x.value}]),onClick:a[9]||(a[9]=e=>x.value="qr")},[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Grid))]),_:1}),a[47]||(a[47]=(0,o.Lk)("span",null,"扫码添加",-1))],2),(0,o.Lk)("div",{class:(0,i.C4)(["tab-item",{active:"contacts"===x.value}]),onClick:a[10]||(a[10]=e=>x.value="contacts")},[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1}),a[48]||(a[48]=(0,o.Lk)("span",null,"手机联系人",-1))],2)]),"search"===x.value?((0,o.uX)(),(0,o.CE)("div",kd,[(0,o.Lk)("div",bd,[(0,o.Lk)("div",gd,[(0,o.bF)(j,{modelValue:d.value,"onUpdate:modelValue":a[11]||(a[11]=e=>d.value=e),placeholder:"输入姓名、手机号或邮箱搜索","prefix-icon":(0,u.R1)(c.Search),class:"modern-search-input",onInput:(0,u.R1)(Le),clearable:"",onClear:_e,loading:w.value},null,8,["modelValue","prefix-icon","onInput","loading"])])]),(0,o.Lk)("div",hd,[v.value?w.value?((0,o.uX)(),(0,o.CE)("div",yd,[(0,o.Lk)("div",_d,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(3,e=>(0,o.Lk)("div",{key:e,class:"skeleton-item"},a[52]||(a[52]=[(0,o.Lk)("div",{class:"skeleton-avatar"},null,-1),(0,o.Lk)("div",{class:"skeleton-content"},[(0,o.Lk)("div",{class:"skeleton-name"}),(0,o.Lk)("div",{class:"skeleton-desc"})],-1)]))),64))])])):Q.value.length>0?((0,o.uX)(),(0,o.CE)("div",Fd,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Q.value,e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"modern-contact-card",onClick:a=>he(e)},[(0,o.Lk)("div",wd,[(0,o.bF)(le,{size:48,src:e.avatar,alt:e.name},null,8,["src","alt"]),(0,o.Lk)("div",{class:(0,i.C4)(["online-indicator",{online:e.online}])},null,2)]),(0,o.Lk)("div",Rd,[(0,o.Lk)("div",Ed,[(0,o.Lk)("h3",Wd,[(0,o.Lk)("span",{innerHTML:Fe(e.name,d.value)},null,8,Ad)]),(0,o.bF)(l,{type:"primary",size:"small",class:"add-contact-btn",onClick:(0,t.D$)(a=>he(e),["stop"])},{default:(0,o.k6)(()=>a[53]||(a[53]=[(0,o.eW)(" 添加 ")])),_:2,__:[53]},1032,["onClick"])]),(0,o.Lk)("div",xd,[(0,o.Lk)("span",{class:(0,i.C4)(["online-status",{online:e.online}])},(0,i.v_)(e.online?"在线":"离线"),3),(0,o.Lk)("span",Xd,(0,i.v_)(e.department),1)])])],8,Cd))),128))])):d.value.trim()?((0,o.uX)(),(0,o.CE)("div",Kd,[(0,o.Lk)("div",Sd,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1})]),a[55]||(a[55]=(0,o.Lk)("h3",{class:"empty-title"},"未找到联系人",-1)),a[56]||(a[56]=(0,o.Lk)("p",{class:"empty-desc"},"尝试使用不同的关键词或添加新联系人",-1)),(0,o.bF)(l,{type:"primary",text:"",class:"create-contact-btn"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Plus))]),_:1}),a[54]||(a[54]=(0,o.eW)(" 创建新联系人 "))]),_:1,__:[54]})])):(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",fd,[(0,o.Lk)("div",Ld,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Search))]),_:1})]),a[50]||(a[50]=(0,o.Lk)("h3",{class:"empty-title"},"搜索联系人",-1)),a[51]||(a[51]=(0,o.Lk)("p",{class:"empty-desc"},"输入姓名、手机号或邮箱开始搜索",-1)),(0,o.bF)(l,{type:"primary",text:"",class:"create-contact-btn"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Plus))]),_:1}),a[49]||(a[49]=(0,o.eW)(" 创建新联系人 "))]),_:1,__:[49]})]))])])):(0,o.Q3)("",!0),"qr"===x.value?((0,o.uX)(),(0,o.CE)("div",Id,[(0,o.Lk)("div",Dd,[(0,o.Lk)("div",Vd,[(0,o.Lk)("div",Md,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Grid))]),_:1}),a[57]||(a[57]=(0,o.Lk)("p",null,"二维码功能开发中",-1))])]),a[58]||(a[58]=(0,o.Lk)("p",{class:"qr-tip"},"扫描对方的二维码名片快速添加",-1))])])):(0,o.Q3)("",!0),"contacts"===x.value?((0,o.uX)(),(0,o.CE)("div",zd,[(0,o.Lk)("div",Td,[(0,o.Lk)("div",Ud,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Phone))]),_:1}),a[59]||(a[59]=(0,o.Lk)("p",null,"手机联系人功能开发中",-1))])])])):(0,o.Q3)("",!0)])]),_:1},8,["modelValue"]),(0,o.bF)(ne,{modelValue:X.value,"onUpdate:modelValue":a[17]||(a[17]=e=>X.value=e),title:"创建群组",width:"520px","append-to-body":"",class:"custom-dialog create-group-dialog","close-on-click-modal":!1},{title:(0,o.k6)(()=>a[61]||(a[61]=[(0,o.Lk)("div",{class:"dialog-title"},[(0,o.Lk)("span",{class:"dialog-title-text"},"创建群组")],-1)])),footer:(0,o.k6)(()=>[(0,o.Lk)("div",dv,[(0,o.bF)(l,{onClick:Se,class:"cancel-btn"},{default:(0,o.k6)(()=>a[68]||(a[68]=[(0,o.eW)(" 取消 ")])),_:1,__:[68]}),(0,o.bF)(l,{type:"primary",onClick:Ke,loading:W.value,disabled:!$.value,class:"create-btn"},{default:(0,o.k6)(()=>a[69]||(a[69]=[(0,o.eW)(" 创建群组 ")])),_:1,__:[69]},8,["loading","disabled"])])]),default:(0,o.k6)(()=>[(0,o.Lk)("div",Qd,[(0,o.bF)(pe,{model:I,ref_key:"groupFormRef",ref:M,class:"modern-group-form"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Nd,[(0,o.Lk)("div",Od,[a[63]||(a[63]=(0,o.Lk)("label",{class:"form-label"},"群名称",-1)),(0,o.Lk)("div",Bd,[(0,o.bF)(j,{modelValue:I.name,"onUpdate:modelValue":a[14]||(a[14]=e=>I.name=e),placeholder:"请输入群组名称（3-20字）",maxlength:"20","show-word-limit":"",class:"modern-input"},null,8,["modelValue"]),a[62]||(a[62]=(0,o.Lk)("div",{class:"input-tip"},"群名称不能为空",-1))])]),(0,o.Lk)("div",$d,[a[64]||(a[64]=(0,o.Lk)("label",{class:"form-label"},"群描述",-1)),(0,o.Lk)("div",Gd,[(0,o.bF)(j,{modelValue:I.description,"onUpdate:modelValue":a[15]||(a[15]=e=>I.description=e),type:"textarea",rows:3,placeholder:"请输入群组描述（可选）",maxlength:"200","show-word-limit":"",class:"modern-textarea"},null,8,["modelValue"])])]),(0,o.Lk)("div",jd,[a[66]||(a[66]=(0,o.Lk)("label",{class:"form-label"},"群头像",-1)),(0,o.Lk)("div",Hd,[(0,o.bF)(me,{class:"modern-avatar-uploader",action:"#","show-file-list":!1,"http-request":xe,"before-upload":Xe,drag:""},{default:(0,o.k6)(()=>[(0,o.Lk)("div",qd,[(0,o.bF)(le,{size:80,src:I.avatar,class:"upload-avatar"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Plus))]),_:1})]),_:1},8,["src"]),a[65]||(a[65]=(0,o.Lk)("div",{class:"upload-tip"},[(0,o.Lk)("p",null,"点击或拖拽上传群头像"),(0,o.Lk)("p",{class:"upload-hint"},"支持 JPG、PNG 格式，大小不超过 2MB")],-1))])]),_:1})])])]),(0,o.Lk)("div",Jd,[(0,o.Lk)("div",Yd,[a[67]||(a[67]=(0,o.Lk)("label",{class:"form-label"},"群成员",-1)),(0,o.Lk)("div",Zd,[(0,o.Lk)("div",ev,[(0,o.bF)(j,{modelValue:D.value,"onUpdate:modelValue":a[16]||(a[16]=e=>D.value=e),placeholder:"搜索联系人","prefix-icon":(0,u.R1)(c.Search),class:"modern-search-input",clearable:"",onInput:(0,u.R1)(Ce)},null,8,["modelValue","prefix-icon","onInput"])]),(0,o.Lk)("div",av,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(V.value,e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:(0,i.C4)(["modern-member-item",{selected:We(e.id)}]),onClick:a=>Ae(e.id)},[(0,o.Lk)("div",tv,[(0,o.bF)(le,{size:40,src:e.avatar},null,8,["src"]),(0,o.Lk)("div",{class:(0,i.C4)(["online-indicator",{online:e.online}])},null,2)]),(0,o.Lk)("div",sv,[(0,o.Lk)("span",nv,(0,i.v_)(e.name),1),(0,o.Lk)("span",ov,(0,i.v_)(e.department),1)]),(0,o.Lk)("div",iv,[We(e.id)?((0,o.uX)(),(0,o.Wv)(s,{key:0,class:"selected-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Check))]),_:1})):(0,o.Q3)("",!0)])],10,lv))),128))]),(0,o.Lk)("div",uv,[(0,o.Lk)("span",cv,"已选择 "+(0,i.v_)(I.members.length)+" 人",1),0===I.members.length?((0,o.uX)(),(0,o.CE)("span",rv,"至少选择一位群成员")):(0,o.Q3)("",!0)])])])])]),_:1},8,["model"])])]),_:1},8,["modelValue"]),(0,o.bF)(ne,{modelValue:K.value,"onUpdate:modelValue":a[20]||(a[20]=e=>K.value=e),title:"群成员管理",width:"520px","append-to-body":"",class:"custom-dialog group-members-dialog","close-on-click-modal":!1},{title:(0,o.k6)(()=>a[70]||(a[70]=[(0,o.Lk)("div",{class:"dialog-title"},[(0,o.Lk)("span",{class:"dialog-title-text"},"群成员管理")],-1)])),footer:(0,o.k6)(()=>[(0,o.Lk)("div",xv,[(0,o.bF)(l,{onClick:a[19]||(a[19]=e=>K.value=!1),class:"cancel-btn"},{default:(0,o.k6)(()=>a[76]||(a[76]=[(0,o.eW)(" 关闭 ")])),_:1,__:[76]})])]),default:(0,o.k6)(()=>[(0,o.Lk)("div",vv,[(0,o.Lk)("div",mv,[(0,o.Lk)("div",pv,[a[72]||(a[72]=(0,o.Lk)("div",{class:"header-info"},[(0,o.Lk)("h3",{class:"members-section-title"},"群成员列表"),(0,o.Lk)("p",{class:"section-desc"},"管理群成员权限和状态")],-1)),(0,o.Lk)("div",kv,[(0,o.bF)(l,{type:"primary",size:"small",onClick:a[18]||(a[18]=e=>S.value=!0),class:"add-members-btn"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1}),a[71]||(a[71]=(0,o.eW)(" 添加成员 "))]),_:1,__:[71]})])]),(0,o.Lk)("div",bv,[0===N.value?.members.length?((0,o.uX)(),(0,o.CE)("div",gv,[(0,o.Lk)("div",hv,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1})]),a[73]||(a[73]=(0,o.Lk)("h3",{class:"empty-title"},"暂无群成员",-1)),a[74]||(a[74]=(0,o.Lk)("p",{class:"empty-desc"},"点击上方按钮添加群成员",-1))])):((0,o.uX)(),(0,o.CE)("div",fv,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(N.value?.members||[],e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"modern-member-card"},[(0,o.Lk)("div",Lv,[(0,o.bF)(le,{size:48,src:e.avatar},null,8,["src"]),(0,o.Lk)("div",{class:(0,i.C4)(["online-indicator",{online:e.online}])},null,2)]),(0,o.Lk)("div",yv,[(0,o.Lk)("div",_v,[(0,o.Lk)("h4",Fv,[(0,o.eW)((0,i.v_)(e.name)+" ",1),e.isAdmin?((0,o.uX)(),(0,o.CE)("span",Cv,"群主")):"ADMIN"===e.role?((0,o.uX)(),(0,o.CE)("span",wv,"管理员")):((0,o.uX)(),(0,o.CE)("span",Rv,"成员"))]),(0,o.Lk)("div",Ev,[Te(e)?((0,o.uX)(),(0,o.Wv)(h,{key:0,onCommand:a=>Ue(a,e)},{dropdown:(0,o.k6)(()=>[(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(n,{command:"remove"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Delete))]),_:1}),a[75]||(a[75]=(0,o.eW)(" 移除成员 "))]),_:1,__:[75]}),!e.isAdmin&&ze()?((0,o.uX)(),(0,o.Wv)(n,{key:0,command:"toggleAdmin"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.UserFilled))]),_:1}),(0,o.eW)(" "+(0,i.v_)("ADMIN"===e.role?"取消管理员":"设为管理员"),1)]),_:2},1024)):(0,o.Q3)("",!0)]),_:2},1024)]),default:(0,o.k6)(()=>[(0,o.bF)(l,{type:"text",icon:"More",class:"member-action-btn"})]),_:2},1032,["onCommand"])):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",Wv,[(0,o.Lk)("span",{class:(0,i.C4)(["online-status",{online:e.online}])},(0,i.v_)(e.online?"在线":`上次在线 ${J(e.lastOnline)}`),3),(0,o.Lk)("span",Av,"加入时间："+(0,i.v_)(J(e.joinTime||new Date)),1)])])]))),128))]))])])])]),_:1},8,["modelValue"]),(0,o.bF)(ne,{modelValue:S.value,"onUpdate:modelValue":a[23]||(a[23]=e=>S.value=e),title:"添加群成员",width:"520px","append-to-body":"",class:"custom-dialog add-members-dialog","close-on-click-modal":!1},{title:(0,o.k6)(()=>[(0,o.Lk)("div",Xv,[a[77]||(a[77]=(0,o.Lk)("span",{class:"dialog-title-text"},"添加群成员",-1)),U.value.length>0?((0,o.uX)(),(0,o.CE)("span",Kv,"已选择 "+(0,i.v_)(U.value.length)+" 人",1)):(0,o.Q3)("",!0)])]),footer:(0,o.k6)(()=>[(0,o.Lk)("div",lm,[(0,o.bF)(l,{onClick:Ie,class:"cancel-btn"},{default:(0,o.k6)(()=>a[85]||(a[85]=[(0,o.eW)(" 取消 ")])),_:1,__:[85]}),(0,o.bF)(l,{type:"primary",onClick:Be,loading:A.value,disabled:0===U.value.length,class:"confirm-btn"},{default:(0,o.k6)(()=>[(0,o.eW)(" 确认添加 ("+(0,i.v_)(U.value.length)+") ",1)]),_:1},8,["loading","disabled"])])]),default:(0,o.k6)(()=>[(0,o.Lk)("div",Sv,[(0,o.Lk)("div",Iv,[(0,o.Lk)("div",Dv,[(0,o.Lk)("div",Vv,[(0,o.bF)(j,{modelValue:z.value,"onUpdate:modelValue":a[21]||(a[21]=e=>z.value=e),placeholder:"搜索联系人","prefix-icon":(0,u.R1)(c.Search),class:"modern-search-input",clearable:"",onInput:(0,u.R1)(Re)},null,8,["modelValue","prefix-icon","onInput"])])]),(0,o.Lk)("div",Mv,[0===T.value.length&&z.value.trim()?((0,o.uX)(),(0,o.CE)("div",zv,[(0,o.Lk)("div",Tv,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1})]),a[78]||(a[78]=(0,o.Lk)("h3",{class:"empty-title"},"未找到联系人",-1)),a[79]||(a[79]=(0,o.Lk)("p",{class:"empty-desc"},"尝试使用不同的关键词搜索",-1))])):0===T.value.length?((0,o.uX)(),(0,o.CE)("div",Uv,[(0,o.Lk)("div",Pv,[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1})]),a[80]||(a[80]=(0,o.Lk)("h3",{class:"empty-title"},"暂无可用联系人",-1)),a[81]||(a[81]=(0,o.Lk)("p",{class:"empty-desc"},"所有联系人已在群组中",-1))])):((0,o.uX)(),(0,o.CE)("div",Qv,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(T.value,e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:(0,i.C4)(["modern-add-member-card",{selected:Ne(e.id),disabled:Ne(e.id)}]),onClick:a=>!Ne(e.id)&&Oe(e)},[(0,o.Lk)("div",Ov,[(0,o.bF)(le,{size:48,src:e.avatar},null,8,["src"]),(0,o.Lk)("div",{class:(0,i.C4)(["online-indicator",{online:e.online}])},null,2)]),(0,o.Lk)("div",Bv,[(0,o.Lk)("div",$v,[(0,o.Lk)("h4",Gv,(0,i.v_)(e.name),1),(0,o.Lk)("div",jv,[Ne(e.id)?((0,o.uX)(),(0,o.Wv)(s,{key:0,class:"selected-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Check))]),_:1})):((0,o.uX)(),(0,o.Wv)(s,{key:1,class:"add-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Plus))]),_:1}))])]),(0,o.Lk)("div",Hv,[(0,o.Lk)("span",{class:(0,i.C4)(["online-status",{online:e.online}])},(0,i.v_)(e.online?"在线":"离线"),3),(0,o.Lk)("span",qv,(0,i.v_)(e.department),1)])]),Ne(e.id)?((0,o.uX)(),(0,o.CE)("div",Jv,a[82]||(a[82]=[(0,o.Lk)("span",{class:"already-in-group"},"已在群组中",-1)]))):(0,o.Q3)("",!0)],10,Nv))),128))]))]),U.value.length>0?((0,o.uX)(),(0,o.CE)("div",Yv,[(0,o.Lk)("div",Zv,[a[84]||(a[84]=(0,o.Lk)("h4",{class:"preview-title"},"已选择的成员",-1)),(0,o.bF)(l,{type:"text",onClick:a[22]||(a[22]=e=>U.value=[]),class:"clear-selection-btn"},{default:(0,o.k6)(()=>a[83]||(a[83]=[(0,o.eW)(" 清空选择 ")])),_:1,__:[83]})]),(0,o.Lk)("div",em,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(U.value,e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"selected-member-tag"},[(0,o.bF)(le,{size:24,src:e.avatar},null,8,["src"]),(0,o.Lk)("span",am,(0,i.v_)(e.name),1),(0,o.bF)(l,{type:"text",icon:"Delete",size:"small",onClick:a=>De(e.id),class:"remove-btn"},null,8,["onClick"])]))),128))])])):(0,o.Q3)("",!0)])])]),_:1},8,["modelValue"]),(0,o.bF)(ne,{modelValue:f.value,"onUpdate:modelValue":a[25]||(a[25]=e=>f.value=e),title:"图片预览",width:"80%",class:"image-preview-dialog"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",tm,[(0,o.Lk)("img",{src:L.value,class:"preview-image"},null,8,sm),(0,o.Lk)("div",nm,[(0,o.bF)(l,{onClick:a[24]||(a[24]=e=>ce(L.value)),type:"primary"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Download))]),_:1}),a[86]||(a[86]=(0,o.eW)(" 下载图片 "))]),_:1,__:[86]})])])]),_:1},8,["modelValue"])])}}};const im=(0,be.A)(om,[["__scopeId","data-v-7297cc3f"]]);var um=im;const cm={class:"personal-center-content"},rm={class:"card-header"},dm={class:"avatar-section"},vm=["src"],mm={class:"user-info"},pm={class:"username"},km={class:"teacher-id"},bm={class:"card-body"},gm={class:"info-group"},hm={class:"info-grid"},fm={class:"info-item"},Lm={class:"item-content"},ym={class:"item-value"},_m={class:"info-item"},Fm={class:"item-content"},Cm={class:"item-value"},wm={class:"info-item"},Rm={class:"item-content"},Em={class:"item-value"},Wm={class:"info-item"},Am={class:"item-content"},xm={class:"item-value"},Xm={class:"info-group"},Km={class:"info-grid"},Sm={class:"info-item"},Im={class:"item-content"},Dm={class:"item-value"},Vm={class:"info-item"},Mm={class:"item-content"},zm={class:"item-value"},Tm={class:"info-item"},Um={class:"item-content"},Pm={class:"item-value"},Qm={class:"info-item"},Nm={class:"item-content"},Om={class:"item-value"},Bm={class:"quick-actions-card modern-card"},$m={class:"card-title"},Gm={class:"actions-grid"},jm=["onClick"],Hm={class:"action-content"};var qm={__name:"SettingsPage",setup(e){const a=()=>ye.nk.info("编辑个人信息功能将在未来版本中实现"),l=()=>ye.nk.info("课程管理功能将在未来版本中实现"),t=()=>ye.nk.info("成绩管理功能将在未来版本中实现"),s=()=>ye.nk.info("学生管理功能将在未来版本中实现"),n=()=>ye.nk.info("教学计划功能将在未来版本中实现"),r=[{name:"课程管理",icon:c.Document,handler:l},{name:"成绩管理",icon:c.Medal,handler:t},{name:"学生管理",icon:c.User,handler:s},{name:"教学计划",icon:c.Calendar,handler:n}],d=(0,u.Kh)({teacherId:"T2023001",name:"王教授",gender:"male",birthdate:"1980-05-20",email:"wang@example.com",phone:"13900139000",department:"计算机科学与技术学院",title:"副教授",courses:["数据结构","算法分析","人工智能导论"],office:"科技楼B501",avatarUrl:"https://picsum.photos/id/1012/200/200"}),v=(0,u.KR)(!1),m=e=>{document.documentElement.style.setProperty("--mouse-x",`${e.clientX}px`),document.documentElement.style.setProperty("--mouse-y",`${e.clientY}px`)},p=e=>new Date(e).toLocaleDateString("zh-CN"),k=e=>{const a={male:"男",female:"女",other:"其他"};return a[e]||"未知"},b=(e,a)=>{d.avatarUrl=URL.createObjectURL(a.raw),ye.nk.success("头像更新成功")},g=e=>{const a="image/jpeg"===e.type||"image/png"===e.type,l=e.size/1024/1024<2;return a||ye.nk.error("上传头像图片只能是 JPG 或 PNG 格式!"),l||ye.nk.error("上传头像图片大小不能超过 2MB!"),a&&l};return(e,l)=>{const t=(0,o.g2)("el-icon"),s=(0,o.g2)("el-upload"),n=(0,o.g2)("el-button");return(0,o.uX)(),(0,o.CE)("div",{class:"personal-center-page",onMousemove:m},[(0,o.Lk)("div",cm,[(0,o.Lk)("div",{class:(0,i.C4)(["personal-info-card modern-card",{"panel-hover":v.value}])},[(0,o.Lk)("div",rm,[(0,o.Lk)("div",dm,[(0,o.bF)(s,{class:"avatar-uploader",action:"#","show-file-list":!1,"on-success":b,"before-upload":g},{default:(0,o.k6)(()=>[d.avatarUrl?((0,o.uX)(),(0,o.CE)("img",{key:0,src:d.avatarUrl,class:"avatar"},null,8,vm)):((0,o.uX)(),(0,o.Wv)(t,{key:1,class:"avatar-uploader-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Plus))]),_:1}))]),_:1}),(0,o.Lk)("div",mm,[(0,o.Lk)("h2",pm,(0,i.v_)(d.name),1),(0,o.Lk)("p",km,"教师编号: "+(0,i.v_)(d.teacherId),1)])]),(0,o.bF)(n,{type:"primary",size:"small",onClick:a,class:"edit-button",round:""},{default:(0,o.k6)(()=>[(0,o.bF)(t,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Edit))]),_:1}),l[0]||(l[0]=(0,o.eW)(" 编辑资料 "))]),_:1,__:[0]})]),(0,o.Lk)("div",bm,[(0,o.Lk)("div",gm,[l[5]||(l[5]=(0,o.Lk)("h3",{class:"info-title"},"基本信息",-1)),(0,o.Lk)("div",hm,[(0,o.Lk)("div",fm,[(0,o.bF)(t,{class:"item-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.User))]),_:1}),(0,o.Lk)("div",Lm,[l[1]||(l[1]=(0,o.Lk)("p",{class:"item-label"},"性别",-1)),(0,o.Lk)("p",ym,(0,i.v_)(k(d.gender)),1)])]),(0,o.Lk)("div",_m,[(0,o.bF)(t,{class:"item-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Calendar))]),_:1}),(0,o.Lk)("div",Fm,[l[2]||(l[2]=(0,o.Lk)("p",{class:"item-label"},"出生日期",-1)),(0,o.Lk)("p",Cm,(0,i.v_)(p(d.birthdate)),1)])]),(0,o.Lk)("div",wm,[(0,o.bF)(t,{class:"item-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Notification))]),_:1}),(0,o.Lk)("div",Rm,[l[3]||(l[3]=(0,o.Lk)("p",{class:"item-label"},"邮箱",-1)),(0,o.Lk)("p",Em,(0,i.v_)(d.email),1)])]),(0,o.Lk)("div",Wm,[(0,o.bF)(t,{class:"item-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Phone))]),_:1}),(0,o.Lk)("div",Am,[l[4]||(l[4]=(0,o.Lk)("p",{class:"item-label"},"手机号码",-1)),(0,o.Lk)("p",xm,(0,i.v_)(d.phone),1)])])])]),(0,o.Lk)("div",Xm,[l[10]||(l[10]=(0,o.Lk)("h3",{class:"info-title"},"教学信息",-1)),(0,o.Lk)("div",Km,[(0,o.Lk)("div",Sm,[(0,o.bF)(t,{class:"item-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.School))]),_:1}),(0,o.Lk)("div",Im,[l[6]||(l[6]=(0,o.Lk)("p",{class:"item-label"},"学院",-1)),(0,o.Lk)("p",Dm,(0,i.v_)(d.department),1)])]),(0,o.Lk)("div",Vm,[(0,o.bF)(t,{class:"item-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Collection))]),_:1}),(0,o.Lk)("div",Mm,[l[7]||(l[7]=(0,o.Lk)("p",{class:"item-label"},"职称",-1)),(0,o.Lk)("p",zm,(0,i.v_)(d.title),1)])]),(0,o.Lk)("div",Tm,[(0,o.bF)(t,{class:"item-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Document))]),_:1}),(0,o.Lk)("div",Um,[l[8]||(l[8]=(0,o.Lk)("p",{class:"item-label"},"教授课程",-1)),(0,o.Lk)("p",Pm,(0,i.v_)(d.courses.join(", ")),1)])]),(0,o.Lk)("div",Qm,[(0,o.bF)(t,{class:"item-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Medal))]),_:1}),(0,o.Lk)("div",Nm,[l[9]||(l[9]=(0,o.Lk)("p",{class:"item-label"},"办公室",-1)),(0,o.Lk)("p",Om,(0,i.v_)(d.office),1)])])])])])],2),(0,o.Lk)("div",Bm,[(0,o.Lk)("div",$m,[(0,o.bF)(t,{class:"title-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.Setting))]),_:1}),l[11]||(l[11]=(0,o.Lk)("span",null,"教师功能",-1))]),(0,o.Lk)("div",Gm,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(r,e=>(0,o.Lk)("div",{key:e.name,class:"action-item",onClick:e.handler},[(0,o.Lk)("div",Hm,[(0,o.bF)(t,{class:"action-icon"},{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.icon)))]),_:2},1024),(0,o.Lk)("span",null,(0,i.v_)(e.name),1)]),(0,o.bF)(t,{class:"arrow-icon"},{default:(0,o.k6)(()=>[(0,o.bF)((0,u.R1)(c.ArrowRight))]),_:1})],8,jm)),64))])])])],32)}}};const Jm=(0,be.A)(qm,[["__scopeId","data-v-f448f654"]]);var Ym=Jm;const Zm=[{path:"/",component:j,children:[{path:"",name:"Home",meta:{title:"Lucky-SMS"}},{path:"/login",name:"Login",component:Oe,meta:{title:"登录"}}]},{path:"/student",component:he,children:[{path:"",name:"StudentHome",component:Da,meta:{title:"学生首页"}},{path:"status",name:"StudentStatus",component:bl,meta:{title:"学籍信息"}},{path:"grades",name:"StudentGrades",component:ql,meta:{title:"成绩查询"}},{path:"schedule",name:"StudentSchedule",component:Pt,meta:{title:"课表查询"}},{path:"library",name:"StudentLibrary",component:Ms,meta:{title:"图书借阅"}},{path:"course",name:"StudentCourse",component:Cn,meta:{title:"选课系统"}},{path:"settings",name:"StudentSettings",component:uo,meta:{title:"系统设置"}}]},{path:"/teacher",component:xo,children:[{path:"",name:"TeacherHome",component:tu,meta:{title:"教师首页"}},{path:"courses",name:"TeacherCourses",component:Eu,meta:{title:"课程管理"}},{path:"grades",name:"TeacherGrades",component:cc,meta:{title:"成绩管理"}},{path:"students",name:"TeacherStudents",component:Xc,meta:{title:"学生管理"}},{path:"schedule",name:"TeacherSchedule",component:_r,meta:{title:"教学计划"}},{path:"communication",name:"TeacherCommunication",component:um,meta:{title:"师生交流"}},{path:"settings",name:"TeacherSettings",component:Ym,meta:{title:"系统设置"}}]},{path:"/:pathMatch(.*)*",redirect:"/"}],ep=(0,n.aE)({history:(0,n.LA)(),routes:Zm});ep.beforeEach(e=>{document.title=e.meta.title||"Lucky SMS"});var ap=ep;const lp={id:"app"};function tp(e,a){const l=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",lp,[(0,o.bF)(l)])}const sp={},np=(0,be.A)(sp,[["render",tp]]);var op=np;const ip=(0,t.Ef)(op);ip.use(s.A),ip.use(ap);for(const[up,cp]of Object.entries(c))ip.component(up,cp);ip.mount("#app")}},a={};function l(t){var s=a[t];if(void 0!==s)return s.exports;var n=a[t]={exports:{}};return e[t].call(n.exports,n,n.exports,l),n.exports}l.m=e,function(){var e=[];l.O=function(a,t,s,n){if(!t){var o=1/0;for(r=0;r<e.length;r++){t=e[r][0],s=e[r][1],n=e[r][2];for(var i=!0,u=0;u<t.length;u++)(!1&n||o>=n)&&Object.keys(l.O).every(function(e){return l.O[e](t[u])})?t.splice(u--,1):(i=!1,n<o&&(o=n));if(i){e.splice(r--,1);var c=s();void 0!==c&&(a=c)}}return a}n=n||0;for(var r=e.length;r>0&&e[r-1][2]>n;r--)e[r]=e[r-1];e[r]=[t,s,n]}}(),function(){l.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(a,{a:a}),a}}(),function(){l.d=function(e,a){for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.p="/"}(),function(){var e={524:0};l.O.j=function(a){return 0===e[a]};var a=function(a,t){var s,n,o=t[0],i=t[1],u=t[2],c=0;if(o.some(function(a){return 0!==e[a]})){for(s in i)l.o(i,s)&&(l.m[s]=i[s]);if(u)var r=u(l)}for(a&&a(t);c<o.length;c++)n=o[c],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(r)},t=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=l.O(void 0,[504],function(){return l(3602)});t=l.O(t)})();
//# sourceMappingURL=app.4c895e76.js.map